{"ast":null,"code":"import \"antd/es/table/style/css\";\nimport _Table from \"antd/es/table\";\nimport _toConsumableArray from \"C:\\\\projects\\\\lab\\\\lab_2.0\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"C:\\\\projects\\\\lab\\\\lab_2.0\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"C:\\\\projects\\\\lab\\\\lab_2.0\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport \"antd/es/input/style/css\";\nimport _Input from \"antd/es/input\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\projects\\\\lab\\\\lab_2.0\\\\src\\\\components\\\\AllCourse.js\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport * as course from \"../redux/actionCreators/resource\"; //老师的上机任务显示的第二个界面\n\nvar Search = _Input.Search;\n\nvar AllCourse = function AllCourse(props) {\n  var type = props.type,\n      userId = props.userId,\n      courseTotal = props.courseTotal,\n      allCourse = props.allCourse,\n      handleTeacherAddCourse = props.handleTeacherAddCourse,\n      handleTeacherQueryCourse = props.handleTeacherQueryCourse;\n  useEffect(function () {\n    handleTeacherQueryCourse({\n      page: 1,\n      userId: userId,\n      courseName: ''\n    });\n  }, [userId]);\n\n  var _useState = useState({\n    page: 1,\n    courseName: '',\n    userId: userId\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      args = _useState2[0],\n      setArgs = _useState2[1];\n\n  var columns = [{\n    title: '课程名',\n    dataIndex: 'courseName',\n    key: 'courseName'\n  }, {\n    title: '课程编号',\n    dataIndex: 'courseNumber',\n    align: 'center',\n    key: 'courseNumber'\n  }, {\n    title: '发布时间',\n    dataIndex: 'addTime',\n    align: 'center',\n    key: 'addTime'\n  }, {\n    title: '课程处理',\n    key: 'addTask',\n    align: 'center',\n    render: function render(e) {\n      return /*#__PURE__*/React.createElement(\"span\", {\n        onClick: function onClick() {\n          return handleTeacherAddCourse({\n            courseId: e.id,\n            teacherId: userId,\n            type: type\n          });\n        },\n        style: {\n          color: \"#189EFF\",\n          cursor: \"pointer\"\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 21\n        }\n      }, \"\\u6DFB\\u52A0\\u8BFE\\u7A0B\");\n    }\n  }]; //搜索\n\n  var handleSearch = function handleSearch(value) {\n    setArgs(_objectSpread(_objectSpread({}, args), {}, {\n      page: 1,\n      courseName: value\n    }));\n    handleTeacherQueryCourse(_objectSpread(_objectSpread({}, args), {}, {\n      page: 1,\n      courseName: value\n    }));\n  }; //翻页\n\n\n  var changePage = function changePage(page) {\n    setArgs(_objectSpread(_objectSpread({}, args), {}, {\n      page: page\n    }));\n    handleTeacherQueryCourse(_objectSpread(_objectSpread({}, args), {}, {\n      page: page\n    }));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"margin_column_xxs\",\n    style: {\n      width: '15rem'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Search, {\n    enterButton: true,\n    placeholder: \"\\u8BF7\\u8F93\\u5165\\u8BFE\\u7A0B\\u540D\",\n    onSearch: handleSearch,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(_Table, {\n    width: 1024,\n    size: 'small',\n    rowKey: function rowKey(record) {\n      return record.id;\n    },\n    columns: columns,\n    dataSource: _toConsumableArray(allCourse),\n    pagination: {\n      current: args.page,\n      total: courseTotal,\n      onChange: changePage\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }));\n};\n\nexport default connect(function (state) {\n  return {\n    userId: state.getIn([\"userMana\", \"common\", \"userId\"]),\n    courseTotal: state.getIn([\"course\", \"courseTotal\"]),\n    allCourse: state.getIn([\"course\", \"allCourse\"]),\n    type: state.getIn([\"userMana\", \"common\", \"type\"])\n  };\n}, function (dispatch) {\n  return {\n    handleTeacherAddCourse: function handleTeacherAddCourse(args) {\n      dispatch(course.teacherAddCourse(args));\n    },\n    handleTeacherQueryCourse: function handleTeacherQueryCourse(args) {\n      dispatch(course.teacherQueryCourse(args));\n    }\n  };\n})(AllCourse);","map":{"version":3,"sources":["C:/projects/lab/lab_2.0/src/components/AllCourse.js"],"names":["React","useEffect","useState","connect","course","Search","AllCourse","props","type","userId","courseTotal","allCourse","handleTeacherAddCourse","handleTeacherQueryCourse","page","courseName","args","setArgs","columns","title","dataIndex","key","align","render","e","courseId","id","teacherId","color","cursor","handleSearch","value","changePage","width","record","current","total","onChange","state","getIn","dispatch","teacherAddCourse","teacherQueryCourse"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from \"react\";\r\nimport { connect } from \"react-redux\"\r\nimport {Table, Input} from \"antd\";\r\nimport * as course from \"../redux/actionCreators/resource\";\r\n//老师的上机任务显示的第二个界面\r\n\r\nconst { Search } = Input;\r\n\r\nconst AllCourse = props => {\r\n    const { type, userId, courseTotal, allCourse, handleTeacherAddCourse, handleTeacherQueryCourse } = props;\r\n    useEffect(()=>{\r\n        handleTeacherQueryCourse({page: 1, userId: userId, courseName: ''});\r\n    },[userId]);\r\n    const [args, setArgs] = useState({page: 1, courseName: '', userId});\r\n\r\n    const columns = [\r\n        { title: '课程名', dataIndex: 'courseName', key: 'courseName' },\r\n        { title: '课程编号', dataIndex: 'courseNumber', align: 'center', key: 'courseNumber' },\r\n        { title: '发布时间', dataIndex: 'addTime',  align: 'center', key: 'addTime' },\r\n            {\r\n                title: '课程处理',\r\n                key: 'addTask',\r\n                align: 'center',\r\n                render: (e) => (\r\n                    <span\r\n                        onClick={() =>(\r\n                            handleTeacherAddCourse({\r\n                                courseId: e.id,\r\n                                teacherId: userId,\r\n                                type: type,\r\n                            })\r\n                        )}\r\n                        style={{color: \"#189EFF\", cursor: \"pointer\"}}\r\n                    >\r\n                        添加课程\r\n                    </span>\r\n                )\r\n            }\r\n    ];\r\n    //搜索\r\n    const handleSearch = (value) => {\r\n        setArgs({\r\n            ...args,\r\n            page: 1,\r\n            courseName: value\r\n        })\r\n        handleTeacherQueryCourse({\r\n            ...args,\r\n            page: 1,\r\n            courseName: value\r\n        })\r\n    }\r\n    //翻页\r\n    const changePage = (page) => {\r\n        setArgs({\r\n            ...args,\r\n            page: page\r\n        })\r\n        handleTeacherQueryCourse({\r\n            ...args,\r\n            page: page\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"margin_column_xxs\" style={{width: '15rem'}}>\r\n                <Search\r\n                    enterButton\r\n                    placeholder='请输入课程名'\r\n                    onSearch={handleSearch}\r\n                />\r\n            </div>\r\n            <Table\r\n                width={1024}\r\n                size={'small'}\r\n                rowKey={record => record.id}\r\n                columns={columns}\r\n                dataSource={[...allCourse]}\r\n                pagination={{\r\n                    current: args.page,\r\n                    total: courseTotal,\r\n                    onChange:changePage\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default connect(\r\n    state => ({\r\n        userId: state.getIn([\"userMana\", \"common\", \"userId\"]),\r\n        courseTotal: state.getIn([\"course\", \"courseTotal\"]),\r\n        allCourse: state.getIn([\"course\", \"allCourse\"]),\r\n        type: state.getIn([\"userMana\", \"common\", \"type\"])\r\n\r\n    }),\r\n    dispatch => ({\r\n        handleTeacherAddCourse(args){\r\n            dispatch(course.teacherAddCourse(args));\r\n        },\r\n        handleTeacherQueryCourse(args){\r\n            dispatch(course.teacherQueryCourse(args));\r\n        }\r\n    })\r\n)\r\n(AllCourse);\r\n"]},"metadata":{},"sourceType":"module"}