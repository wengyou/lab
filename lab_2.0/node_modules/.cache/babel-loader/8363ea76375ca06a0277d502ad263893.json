{"ast":null,"code":"import _slicedToArray from\"C:\\\\projects\\\\lab\\\\lab_2.0\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import\"antd/es/select/style/css\";import _Select from\"antd/es/select\";import\"antd/es/input/style/css\";import _Input from\"antd/es/input\";import React,{useEffect,useState}from\"react\";import{connect}from\"react-redux\";import{withRouter}from\"react-router-dom\";import\"../static/style/search.scss\";import*as resource from\"../redux/actionCreators/resource\";var InputGroup=_Input.Group;var Option=_Select.Option;var Search=_Input.Search;var flag=\"resourceName\";var SearchInput=function SearchInput(props){var handleSearchValue=props.handleSearchValue,history=props.history;// console.log(history)\nvar _useState=useState(props.data),_useState2=_slicedToArray(_useState,2),type=_useState2[0],setType=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),flag=_useState4[0],setFlag=_useState4[1];useEffect(function(){setFlag(\"resourceName\");setType(props.data);},[props.data]);return/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(InputGroup,{className:\"search\",compact:true},/*#__PURE__*/React.createElement(_Select,{defaultValue:\"resourceName\",onChange:function onChange(value){return setFlag(value);}},/*#__PURE__*/React.createElement(Option,{value:\"resourceName\"},type===\"material\"?\"资料名\":\"软件名\"),/*#__PURE__*/React.createElement(Option,{value:\"userName\"},\"\\u4E0A\\u4F20\\u4EBA\")),/*#__PURE__*/React.createElement(Search,{placeholder:\"\\u8BF7\\u8F93\\u5165\\u641C\\u7D22\\u4FE1\\u606F\",onSearch:function onSearch(value,e){return handleSearchValue(flag===\"resourceName\"?{page:1,type:type,resourceName:value,userName:\"\"}:{page:1,type:type,resourceName:\"\",userName:value});},enterButton:true})));};export default withRouter(connect(function(state){return{};},function(dispatch){return{handleSearchValue:function handleSearchValue(args){dispatch(resource.fetchSearchValue(args));}};})(SearchInput));","map":{"version":3,"sources":["C:/projects/lab/lab_2.0/src/components/Search.js"],"names":["React","useEffect","useState","connect","withRouter","resource","InputGroup","Group","Option","Search","flag","SearchInput","props","handleSearchValue","history","data","type","setType","setFlag","value","e","page","resourceName","userName","state","dispatch","args","fetchSearchValue"],"mappings":"6RAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,QAA1B,KAAyC,OAAzC,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAAQC,UAAR,KAAyB,kBAAzB,CACA,MAAO,6BAAP,CAEA,MAAO,GAAKC,CAAAA,QAAZ,KAA0B,kCAA1B,CAEA,GAAMC,CAAAA,UAAU,CAAG,OAAMC,KAAzB,C,GACQC,CAAAA,M,SAAAA,M,IACAC,CAAAA,M,QAAAA,M,CACR,GAAIC,CAAAA,IAAI,CAAG,cAAX,CACA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAAAC,KAAK,CAAI,IACjBC,CAAAA,iBADiB,CACcD,KADd,CACjBC,iBADiB,CACEC,OADF,CACcF,KADd,CACEE,OADF,CAEzB;AAFyB,cAGDZ,QAAQ,CAACU,KAAK,CAACG,IAAP,CAHP,wCAGlBC,IAHkB,eAGZC,OAHY,8BAIDf,QAAQ,CAAC,EAAD,CAJP,yCAIlBQ,IAJkB,eAIZQ,OAJY,eAKzBjB,SAAS,CAAC,UAAM,CACZiB,OAAO,CAAC,cAAD,CAAP,CACAD,OAAO,CAACL,KAAK,CAACG,IAAP,CAAP,CACH,CAHQ,CAGN,CAACH,KAAK,CAACG,IAAP,CAHM,CAAT,CAIA,mBACI,2BAAK,SAAS,CAAC,WAAf,eACI,oBAAC,UAAD,EACI,SAAS,CAAC,QADd,CAEI,OAAO,KAFX,eAII,6BACI,YAAY,CAAC,cADjB,CAEI,QAAQ,CAAE,kBAAAI,KAAK,QAAID,CAAAA,OAAO,CAACC,KAAD,CAAX,EAFnB,eAII,oBAAC,MAAD,EAAQ,KAAK,CAAC,cAAd,EACKH,IAAI,GAAK,UAAT,CAAsB,KAAtB,CAA8B,KADnC,CAJJ,cAOI,oBAAC,MAAD,EAAQ,KAAK,CAAC,UAAd,uBAPJ,CAJJ,cAaI,oBAAC,MAAD,EACI,WAAW,CAAC,4CADhB,CAEI,QAAQ,CAAE,kBAACG,KAAD,CAAOC,CAAP,QAAaP,CAAAA,iBAAiB,CACpCH,IAAI,GAAK,cAAT,CAA0B,CACtBW,IAAI,CAAE,CADgB,CAEtBL,IAAI,CAAJA,IAFsB,CAGtBM,YAAY,CAAEH,KAHQ,CAItBI,QAAQ,CAAE,EAJY,CAA1B,CAKI,CACAF,IAAI,CAAE,CADN,CAEAL,IAAI,CAAJA,IAFA,CAGAM,YAAY,CAAE,EAHd,CAIAC,QAAQ,CAAEJ,KAJV,CANgC,CAA9B,EAFd,CAgBI,WAAW,KAhBf,EAbJ,CADJ,CADJ,CAoCH,CA7CD,CA8CA,cAAef,CAAAA,UAAU,CAACD,OAAO,CAC7B,SAAAqB,KAAK,QAAK,EAAL,EADwB,CAI7B,SAAAC,QAAQ,QAAK,CACTZ,iBADS,4BACSa,IADT,CACc,CACnBD,QAAQ,CAACpB,QAAQ,CAACsB,gBAAT,CAA0BD,IAA1B,CAAD,CAAR,CACH,CAHQ,CAAL,EAJqB,CAAP,CASxBf,WATwB,CAAD,CAAzB","sourcesContent":["import React, {useEffect, useState} from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport \"../static/style/search.scss\";\r\nimport { Input, Select } from 'antd';\r\nimport * as resource from \"../redux/actionCreators/resource\";\r\n\r\nconst InputGroup = Input.Group;\r\nconst { Option } = Select;\r\nconst { Search } = Input;\r\nlet flag = \"resourceName\";\r\nconst SearchInput = props => {\r\n    const { handleSearchValue, history } = props;\r\n    // console.log(history)\r\n    const [type, setType] = useState(props.data);\r\n    const [flag, setFlag] = useState('')\r\n    useEffect(() => {\r\n        setFlag(\"resourceName\");\r\n        setType(props.data)\r\n    }, [props.data])\r\n    return(\r\n        <div className=\"container\">\r\n            <InputGroup\r\n                className=\"search\"\r\n                compact\r\n            >\r\n                <Select\r\n                    defaultValue=\"resourceName\"\r\n                    onChange={value => setFlag(value) }\r\n                >\r\n                    <Option value=\"resourceName\">\r\n                        {type === \"material\" ? \"资料名\" : \"软件名\"}\r\n                    </Option>\r\n                    <Option value=\"userName\">上传人</Option>\r\n                </Select>\r\n                <Search\r\n                    placeholder=\"请输入搜索信息\"\r\n                    onSearch={(value,e) => handleSearchValue(\r\n                        flag === \"resourceName\" ? {\r\n                            page: 1,\r\n                            type,\r\n                            resourceName: value,\r\n                            userName: \"\"\r\n                        } : {\r\n                            page: 1,\r\n                            type,\r\n                            resourceName: \"\",\r\n                            userName: value\r\n                        }\r\n                    )\r\n                    }\r\n                    enterButton\r\n                />\r\n            </InputGroup>\r\n        </div>\r\n    )\r\n};\r\nexport default withRouter(connect(\r\n    state => ({\r\n\r\n    }),\r\n    dispatch => ({\r\n        handleSearchValue(args){\r\n            dispatch(resource.fetchSearchValue(args));\r\n        }\r\n    })\r\n)(SearchInput));\r\n"]},"metadata":{},"sourceType":"module"}