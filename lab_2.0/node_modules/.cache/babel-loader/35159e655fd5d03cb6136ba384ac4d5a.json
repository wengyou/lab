{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\projects\\\\lab\\\\lab_2.0\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport \"antd/es/message/style/css\";\nimport _message from \"antd/es/message\";\n\nvar _marked = /*#__PURE__*/_regeneratorRuntime.mark(clearData),\n    _marked2 = /*#__PURE__*/_regeneratorRuntime.mark(modifyParam),\n    _marked3 = /*#__PURE__*/_regeneratorRuntime.mark(rootClearDataSaga);\n\nimport { takeEvery, put, call } from \"redux-saga/effects\";\nimport Service from \"../../../lib/Service\";\nimport { ADMIN_CLEAR_DATA, MODIFY_PARAM, MODIFY_PARAM_SUCCESS } from \"../../../constants/actionTypes\";\nimport { openNotification } from \"../../../utils/commonFunction\";\n\nfunction clearData() {\n  var res;\n  return _regeneratorRuntime.wrap(function clearData$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return call(Service.post, \"admin/clearData\");\n\n        case 2:\n          res = _context.sent;\n          console.log(res);\n          _context.t0 = res.data.error_code;\n          _context.next = _context.t0 === 0 ? 7 : _context.t0 === -1 ? 9 : 10;\n          break;\n\n        case 7:\n          _message.success(\"清除成功~\");\n\n          return _context.abrupt(\"break\", 11);\n\n        case 9:\n          _message.error(\"清除失败！\");\n\n        case 10:\n          return _context.abrupt(\"return\", 0);\n\n        case 11:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked);\n}\n\nfunction modifyParam(args) {\n  var res;\n  return _regeneratorRuntime.wrap(function modifyParam$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return call(Service.post, 'system/updateParameters', args.args);\n\n        case 2:\n          res = _context2.sent;\n          console.log(res.data.data);\n          _context2.t0 = res.data.error_code;\n          _context2.next = _context2.t0 === 0 ? 7 : _context2.t0 === -1 ? 11 : _context2.t0 === 2 ? 13 : 15;\n          break;\n\n        case 7:\n          _context2.next = 9;\n          return put({\n            type: MODIFY_PARAM_SUCCESS,\n            payload: res.data.data\n          });\n\n        case 9:\n          openNotification('修改成功');\n          return _context2.abrupt(\"break\", 16);\n\n        case 11:\n          openNotification(res.data.message);\n          return _context2.abrupt(\"break\", 16);\n\n        case 13:\n          openNotification(res.data.message);\n          return _context2.abrupt(\"break\", 16);\n\n        case 15:\n          return _context2.abrupt(\"return\", 0);\n\n        case 16:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _marked2);\n}\n\nexport default function rootClearDataSaga() {\n  return _regeneratorRuntime.wrap(function rootClearDataSaga$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.next = 2;\n          return takeEvery(ADMIN_CLEAR_DATA, clearData);\n\n        case 2:\n          _context3.next = 4;\n          return takeEvery(MODIFY_PARAM, modifyParam);\n\n        case 4:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, _marked3);\n}","map":{"version":3,"sources":["C:/projects/lab/lab_2.0/src/redux/sagas/adminSagas/dataMana.js"],"names":["clearData","modifyParam","rootClearDataSaga","takeEvery","put","call","Service","ADMIN_CLEAR_DATA","MODIFY_PARAM","MODIFY_PARAM_SUCCESS","openNotification","post","res","console","log","data","error_code","success","error","args","type","payload","message"],"mappings":";;;;oDAUUA,S;qDAeAC,W;qDAsBeC,iB;;AA/CzB,SAASC,SAAT,EAAoBC,GAApB,EAAyBC,IAAzB,QAAqC,oBAArC;AACA,OAAOC,OAAP,MAAoB,sBAApB;AACA,SACIC,gBADJ,EAEIC,YAFJ,EAGIC,oBAHJ,QAIO,gCAJP;AAMA,SAASC,gBAAT,QAAgC,+BAAhC;;AAEA,SAAUV,SAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACgB,iBAAMK,IAAI,CAACC,OAAO,CAACK,IAAT,oBAAV;;AADhB;AACUC,UAAAA,GADV;AAEIC,UAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AAFJ,wBAGYA,GAAG,CAACG,IAAJ,CAASC,UAHrB;AAAA,0CAIa,CAJb,uBAOa,CAAC,CAPd;AAAA;;AAAA;AAKY,mBAAQC,OAAR,CAAgB,OAAhB;;AALZ;;AAAA;AAQY,mBAAQC,KAAR,CAAc,OAAd;;AARZ;AAAA,2CAUmB,CAVnB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAeA,SAAUjB,WAAV,CAAsBkB,IAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACgB,iBAAMd,IAAI,CAACC,OAAO,CAACK,IAAT,EAAe,yBAAf,EAA0CQ,IAAI,CAACA,IAA/C,CAAV;;AADhB;AACUP,UAAAA,GADV;AAEIC,UAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAJ,CAASA,IAArB;AAFJ,yBAGYH,GAAG,CAACG,IAAJ,CAASC,UAHrB;AAAA,4CAIa,CAJb,wBAWa,CAAC,CAXd,yBAca,CAdb;AAAA;;AAAA;AAAA;AAKY,iBAAMZ,GAAG,CAAC;AACNgB,YAAAA,IAAI,EAAEX,oBADA;AAENY,YAAAA,OAAO,EAAET,GAAG,CAACG,IAAJ,CAASA;AAFZ,WAAD,CAAT;;AALZ;AASYL,UAAAA,gBAAgB,CAAC,MAAD,CAAhB;AATZ;;AAAA;AAYYA,UAAAA,gBAAgB,CAACE,GAAG,CAACG,IAAJ,CAASO,OAAV,CAAhB;AAZZ;;AAAA;AAeYZ,UAAAA,gBAAgB,CAACE,GAAG,CAACG,IAAJ,CAASO,OAAV,CAAhB;AAfZ;;AAAA;AAAA,4CAkBmB,CAlBnB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAsBA,eAAe,SAAUpB,iBAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AACX,iBAAMC,SAAS,CAACI,gBAAD,EAAmBP,SAAnB,CAAf;;AADW;AAAA;AAEX,iBAAMG,SAAS,CAACK,YAAD,EAAeP,WAAf,CAAf;;AAFW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA","sourcesContent":["import { takeEvery, put, call } from \"redux-saga/effects\";\r\nimport Service from \"../../../lib/Service\";\r\nimport {\r\n    ADMIN_CLEAR_DATA,\r\n    MODIFY_PARAM,\r\n    MODIFY_PARAM_SUCCESS\r\n} from \"../../../constants/actionTypes\";\r\nimport {message} from \"antd\";\r\nimport { openNotification} from \"../../../utils/commonFunction\";\r\n\r\nfunction *clearData() {\r\n    const res = yield call(Service.post, `admin/clearData`);\r\n    console.log(res)\r\n    switch (res.data.error_code) {\r\n        case 0 :\r\n            message.success(\"清除成功~\");\r\n            break;\r\n        case -1:\r\n            message.error(\"清除失败！\");\r\n        default:\r\n            return 0;\r\n    }\r\n\r\n}\r\n\r\nfunction *modifyParam(args) {\r\n    const res = yield call(Service.post, 'system/updateParameters', args.args);\r\n    console.log(res.data.data)\r\n    switch (res.data.error_code) {\r\n        case 0:\r\n            yield put({\r\n                type: MODIFY_PARAM_SUCCESS,\r\n                payload: res.data.data\r\n            });\r\n            openNotification('修改成功');\r\n            break;\r\n        case -1:\r\n            openNotification(res.data.message);\r\n            break;\r\n        case 2:\r\n            openNotification(res.data.message);\r\n            break;\r\n        default:\r\n            return 0;\r\n    }\r\n}\r\n\r\nexport default function* rootClearDataSaga() {\r\n    yield takeEvery(ADMIN_CLEAR_DATA, clearData);\r\n    yield takeEvery(MODIFY_PARAM, modifyParam);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}