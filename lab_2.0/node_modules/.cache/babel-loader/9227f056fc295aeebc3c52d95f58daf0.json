{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\projects\\\\lab\\\\lab_2.0\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";var _marked=/*#__PURE__*/_regeneratorRuntime.mark(addNewAdmin),_marked2=/*#__PURE__*/_regeneratorRuntime.mark(addNewTeacher),_marked3=/*#__PURE__*/_regeneratorRuntime.mark(fetchAdminData),_marked4=/*#__PURE__*/_regeneratorRuntime.mark(modifyAdmin),_marked5=/*#__PURE__*/_regeneratorRuntime.mark(fetchTeacherData),_marked6=/*#__PURE__*/_regeneratorRuntime.mark(deleteTeacher),_marked7=/*#__PURE__*/_regeneratorRuntime.mark(modifyTeacher),_marked8=/*#__PURE__*/_regeneratorRuntime.mark(searchTeacher),_marked9=/*#__PURE__*/_regeneratorRuntime.mark(fetchStudentData),_marked10=/*#__PURE__*/_regeneratorRuntime.mark(addNewStudent),_marked11=/*#__PURE__*/_regeneratorRuntime.mark(deleteStudent),_marked12=/*#__PURE__*/_regeneratorRuntime.mark(modifyStudent),_marked13=/*#__PURE__*/_regeneratorRuntime.mark(searchStudent),_marked14=/*#__PURE__*/_regeneratorRuntime.mark(importStudent),_marked15=/*#__PURE__*/_regeneratorRuntime.mark(fetchRegisterUserData),_marked16=/*#__PURE__*/_regeneratorRuntime.mark(agreeRegister),_marked17=/*#__PURE__*/_regeneratorRuntime.mark(deleteRegisterUser),_marked18=/*#__PURE__*/_regeneratorRuntime.mark(resetPassword),_marked19=/*#__PURE__*/_regeneratorRuntime.mark(rootAdminSagas);import{takeEvery,call,put}from\"redux-saga/effects\";import Service from\"../../../lib/Service\";import{FETCH_ADMINISTRATOR_DATA,ADD_NEW_ADMIN,ADD_NEW_ADMIN_SUCCESS,MODIFY_ADMIN,MODIFY_ADMIN_SUCCESS,ADD_NEW_TEACHER,ADD_NEW_TEACHER_SUCCESS,SEARCH_TEACHER,SEARCH_TEACHER_SUCCESS,FETCH_ADMINISTRATOR_DATA_SUCCESS,FETCH_TEACHER_RES,FETCH_TEACHER_RES_SUCCESS,DELETE_TEACHER,DELETE_TEACHER_SUCCESS,MODIFY_TEACHER,MODIFY_TEACHER_SUCCESS,FETCH_STUDENT_DATA,FETCH_STUDENT_DATA_SUCCESS,ADD_NEW_STUDENT,ADD_NEW_STUDENT_SUCCESS,DELETE_STUDENT,DELETE_STUDENT_SUCCESS,MODIFY_STUDENT,MODIFY_STUDENT_SUCCESS,SEARCH_STUDENT,SEARCH_STUDENT_SUCCESS,IMPORT_USER,IMPORT_USER_success,FETCH_REGISTER_DATA,FETCH_REGISTER_DATA_SUCCESS,AGREE_REGISTER,AGREE_REGISTER_SUCCESS,DELETE_REGISTER_USER,DELETE_REGISTER_USER_SUCCESS,RESET_PASSWORD,RESET_PASSWORD_SUCCESS}from\"../../../constants/actionTypes\";import{openNotification}from\"../../../utils/commonFunction\";//添加新的管理员\nfunction addNewAdmin(args){var _args$args,userId,userName,type,academy,sex,adminData,data,res;return _regeneratorRuntime.wrap(function addNewAdmin$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_args$args=args.args,userId=_args$args.userId,userName=_args$args.userName,type=_args$args.type,academy=_args$args.academy,sex=_args$args.sex,adminData=_args$args.adminData;data={userId:userId,userName:userName,type:type,academy:academy,sex:sex};_context.next=5;return call(Service.post,\"admin/addUser\",data);case 5:res=_context.sent;_context.t0=res.data.error_code;_context.next=_context.t0===0?9:_context.t0===-1?13:_context.t0===2?15:17;break;case 9:_context.next=11;return put({type:ADD_NEW_ADMIN_SUCCESS,payloadA:adminData,newDataA:data});case 11:openNotification(res.data.message);return _context.abrupt(\"break\",18);case 13:openNotification(res.data.message);return _context.abrupt(\"break\",18);case 15:openNotification(res.data.message);return _context.abrupt(\"break\",18);case 17:return _context.abrupt(\"return\",openNotification('添加管理员失败'));case 18:_context.next=23;break;case 20:_context.prev=20;_context.t1=_context[\"catch\"](0);console.log(_context.t1);case 23:case\"end\":return _context.stop();}}},_marked,null,[[0,20]]);}//添加新的教师\nfunction addNewTeacher(args){var _args$args2,userId,userName,adminTeacherData,type,sex,discipline,data,res;return _regeneratorRuntime.wrap(function addNewTeacher$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_args$args2=args.args,userId=_args$args2.userId,userName=_args$args2.userName,adminTeacherData=_args$args2.adminTeacherData,type=_args$args2.type,sex=_args$args2.sex,discipline=_args$args2.discipline;data={userId:userId,userName:userName,type:type,sex:sex,discipline:discipline};_context2.next=5;return call(Service.post,\"admin/addUser\",data);case 5:res=_context2.sent;_context2.t0=res.data.error_code;_context2.next=_context2.t0===0?9:_context2.t0===-1?13:_context2.t0===2?15:17;break;case 9:_context2.next=11;return put({type:ADD_NEW_TEACHER_SUCCESS,payload:adminTeacherData,newData:data});case 11:openNotification(res.data.message);return _context2.abrupt(\"break\",18);case 13:openNotification(res.data.message);return _context2.abrupt(\"break\",18);case 15:openNotification(res.data.message);return _context2.abrupt(\"break\",18);case 17:return _context2.abrupt(\"return\",0);case 18:_context2.next=23;break;case 20:_context2.prev=20;_context2.t1=_context2[\"catch\"](0);console.log(_context2.t1);case 23:case\"end\":return _context2.stop();}}},_marked2,null,[[0,20]]);}//获取管理员信息\nfunction fetchAdminData(data){var _data$args,page,type,res;return _regeneratorRuntime.wrap(function fetchAdminData$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_data$args=data.args,page=_data$args.page,type=_data$args.type;_context3.next=4;return call(Service.get,\"user/userInfo?page=\".concat(page,\"&type=\").concat(type));case 4:res=_context3.sent;_context3.t0=res.data.error_code;_context3.next=_context3.t0===0?8:_context3.t0===-1?11:_context3.t0===2?13:15;break;case 8:_context3.next=10;return put({type:FETCH_ADMINISTRATOR_DATA_SUCCESS,payload:res.data.data});case 10:return _context3.abrupt(\"break\",16);case 11:openNotification(res.data.message);return _context3.abrupt(\"break\",16);case 13:openNotification(res.data.message);return _context3.abrupt(\"break\",16);case 15:return _context3.abrupt(\"return\",openNotification('获取管理员信息失败'));case 16:_context3.next=21;break;case 18:_context3.prev=18;_context3.t1=_context3[\"catch\"](0);console.log(_context3.t1);case 21:case\"end\":return _context3.stop();}}},_marked3,null,[[0,18]]);}//修改管理员信息\nfunction modifyAdmin(args){var _args$args3,userId,userName,academy,sex,data,res;return _regeneratorRuntime.wrap(function modifyAdmin$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_args$args3=args.args,userId=_args$args3.userId,userName=_args$args3.userName,academy=_args$args3.academy,sex=_args$args3.sex;data={userId:userId,userName:userName,academy:academy,sex:sex};_context4.next=5;return call(Service.post,\"user/updateUserInfo\",data);case 5:res=_context4.sent;_context4.t0=res.data.error_code;_context4.next=_context4.t0===0?9:_context4.t0===-1?13:_context4.t0===2?15:17;break;case 9:_context4.next=11;return put({type:MODIFY_ADMIN_SUCCESS});case 11:openNotification(res.data.message);return _context4.abrupt(\"break\",18);case 13:openNotification(res.data.message);return _context4.abrupt(\"break\",18);case 15:openNotification(res.data.message);return _context4.abrupt(\"break\",18);case 17:return _context4.abrupt(\"return\",0);case 18:_context4.next=23;break;case 20:_context4.prev=20;_context4.t1=_context4[\"catch\"](0);console.log(_context4.t1);case 23:case\"end\":return _context4.stop();}}},_marked4,null,[[0,20]]);}//获取教师信息\nfunction fetchTeacherData(data){var _data$args2,page,type,res;return _regeneratorRuntime.wrap(function fetchTeacherData$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_data$args2=data.args,page=_data$args2.page,type=_data$args2.type;_context5.next=4;return call(Service.get,\"user/userInfo?page=\".concat(page,\"&type=\").concat(type));case 4:res=_context5.sent;_context5.t0=res.data.error_code;_context5.next=_context5.t0===0?8:_context5.t0===1?11:_context5.t0===-1?13:_context5.t0===2?15:17;break;case 8:_context5.next=10;return put({type:FETCH_TEACHER_RES_SUCCESS,payload:res.data.data});case 10:return _context5.abrupt(\"break\",18);case 11:openNotification(res.data.message);return _context5.abrupt(\"break\",18);case 13:openNotification(res.data.message);return _context5.abrupt(\"break\",18);case 15:openNotification(res.data.message);return _context5.abrupt(\"break\",18);case 17:return _context5.abrupt(\"return\",0);case 18:_context5.next=23;break;case 20:_context5.prev=20;_context5.t1=_context5[\"catch\"](0);console.log(_context5.t1);case 23:case\"end\":return _context5.stop();}}},_marked5,null,[[0,20]]);}//删除教师\nfunction deleteTeacher(args){var list,formData,res;return _regeneratorRuntime.wrap(function deleteTeacher$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.prev=0;list=args.args.list;formData=new FormData();formData.append('list',list);_context6.next=6;return call(Service.post,\"admin/deleteUsers\",formData);case 6:res=_context6.sent;_context6.t0=res.data.error_code;_context6.next=_context6.t0===0?10:_context6.t0===-1?14:_context6.t0===2?16:18;break;case 10:_context6.next=12;return put({type:DELETE_TEACHER_SUCCESS,payload:null});case 12:openNotification(res.data.message);return _context6.abrupt(\"break\",19);case 14:openNotification(res.data.message);return _context6.abrupt(\"break\",19);case 16:openNotification(res.data.message);return _context6.abrupt(\"break\",19);case 18:return _context6.abrupt(\"break\",19);case 19:_context6.next=24;break;case 21:_context6.prev=21;_context6.t1=_context6[\"catch\"](0);console.log(_context6.t1);case 24:case\"end\":return _context6.stop();}}},_marked6,null,[[0,21]]);}//修改教师信息\nfunction modifyTeacher(args){var _args$args4,userId,userName,academy,phone,sex,data,res;return _regeneratorRuntime.wrap(function modifyTeacher$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.prev=0;_args$args4=args.args,userId=_args$args4.userId,userName=_args$args4.userName,academy=_args$args4.academy,phone=_args$args4.phone,sex=_args$args4.sex;data={userId:userId,userName:userName,academy:academy,phone:phone,sex:sex};_context7.next=5;return call(Service.post,\"user/updateUserInfo\",data);case 5:res=_context7.sent;_context7.t0=res.data.error_code;_context7.next=_context7.t0===0?9:_context7.t0===-1?13:_context7.t0===2?15:17;break;case 9:_context7.next=11;return put({type:MODIFY_TEACHER_SUCCESS});case 11:openNotification(res.data.message);return _context7.abrupt(\"break\",18);case 13:openNotification(res.data.message);return _context7.abrupt(\"break\",18);case 15:openNotification(res.data.message);return _context7.abrupt(\"break\",18);case 17:return _context7.abrupt(\"return\",0);case 18:_context7.next=23;break;case 20:_context7.prev=20;_context7.t1=_context7[\"catch\"](0);console.log(_context7.t1);case 23:case\"end\":return _context7.stop();}}},_marked7,null,[[0,20]]);}//搜索老师\nfunction searchTeacher(data){var _data$args3,page,type,userName,res;return _regeneratorRuntime.wrap(function searchTeacher$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.prev=0;_data$args3=data.args,page=_data$args3.page,type=_data$args3.type,userName=_data$args3.userName;_context8.next=4;return call(Service.get,\"user/userInfo?page=\".concat(page,\"&type=\").concat(type,\"&userName=\").concat(userName));case 4:res=_context8.sent;_context8.t0=res.data.error_code;_context8.next=_context8.t0===0?8:_context8.t0===-1?11:_context8.t0===2?13:15;break;case 8:_context8.next=10;return put({type:SEARCH_TEACHER_SUCCESS,payload:res.data.data});case 10:return _context8.abrupt(\"break\",16);case 11:openNotification(res.data.message);return _context8.abrupt(\"break\",16);case 13:openNotification(res.data.message);return _context8.abrupt(\"break\",16);case 15:return _context8.abrupt(\"return\",0);case 16:_context8.next=21;break;case 18:_context8.prev=18;_context8.t1=_context8[\"catch\"](0);console.log(_context8.t1);case 21:case\"end\":return _context8.stop();}}},_marked8,null,[[0,18]]);}//获取学生信息\nfunction fetchStudentData(data){var _data$args4,page,type,res;return _regeneratorRuntime.wrap(function fetchStudentData$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.prev=0;_data$args4=data.args,page=_data$args4.page,type=_data$args4.type;_context9.next=4;return call(Service.get,\"user/userInfo?page=\".concat(page,\"&type=\").concat(type));case 4:res=_context9.sent;_context9.t0=res.data.error_code;_context9.next=_context9.t0===0?8:_context9.t0===-1?11:_context9.t0===2?13:15;break;case 8:_context9.next=10;return put({type:FETCH_STUDENT_DATA_SUCCESS,payload:res.data.data});case 10:return _context9.abrupt(\"break\",16);case 11:openNotification(res.data.message);return _context9.abrupt(\"break\",16);case 13:openNotification(res.data.message);return _context9.abrupt(\"break\",16);case 15:return _context9.abrupt(\"return\",0);case 16:_context9.next=21;break;case 18:_context9.prev=18;_context9.t1=_context9[\"catch\"](0);console.log(_context9.t1);case 21:case\"end\":return _context9.stop();}}},_marked9,null,[[0,18]]);}//添加学生\nfunction addNewStudent(args){var _args$args5,type,userId,userName,grade,academy,discipline,cls,phone,sex,adminStudentData,data,res;return _regeneratorRuntime.wrap(function addNewStudent$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:_context10.prev=0;_args$args5=args.args,type=_args$args5.type,userId=_args$args5.userId,userName=_args$args5.userName,grade=_args$args5.grade,academy=_args$args5.academy,discipline=_args$args5.discipline,cls=_args$args5.cls,phone=_args$args5.phone,sex=_args$args5.sex,adminStudentData=_args$args5.adminStudentData;data={type:type,userId:userId,userName:userName,grade:grade,academy:academy,discipline:discipline,cls:cls,phone:phone,sex:sex};_context10.next=5;return call(Service.post,\"admin/addUser\",data);case 5:res=_context10.sent;_context10.t0=res.data.error_code;_context10.next=_context10.t0===0?9:_context10.t0===-1?13:_context10.t0===2?15:17;break;case 9:openNotification(res.data.message);_context10.next=12;return put({type:ADD_NEW_STUDENT_SUCCESS,payloadS:adminStudentData,newDataS:res.data.data});case 12:return _context10.abrupt(\"break\",18);case 13:openNotification(res.data.message);return _context10.abrupt(\"break\",18);case 15:openNotification(res.data.message);return _context10.abrupt(\"break\",18);case 17:return _context10.abrupt(\"return\",0);case 18:_context10.next=23;break;case 20:_context10.prev=20;_context10.t1=_context10[\"catch\"](0);console.log(_context10.t1);case 23:case\"end\":return _context10.stop();}}},_marked10,null,[[0,20]]);}//删除学生\nfunction deleteStudent(args){var list,formData,res;return _regeneratorRuntime.wrap(function deleteStudent$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:_context11.prev=0;list=args.args.list;formData=new FormData();formData.append('list',list);_context11.next=6;return call(Service.post,\"admin/deleteUsers\",formData);case 6:res=_context11.sent;_context11.t0=res.data.error_code;_context11.next=_context11.t0===0?10:_context11.t0===-1?14:_context11.t0===2?16:18;break;case 10:_context11.next=12;return put({type:DELETE_STUDENT_SUCCESS});case 12:openNotification(res.data.message);return _context11.abrupt(\"break\",19);case 14:openNotification(res.data.message);return _context11.abrupt(\"break\",19);case 16:openNotification(res.data.message);return _context11.abrupt(\"break\",19);case 18:return _context11.abrupt(\"break\",19);case 19:_context11.next=24;break;case 21:_context11.prev=21;_context11.t1=_context11[\"catch\"](0);console.log(_context11.t1);case 24:case\"end\":return _context11.stop();}}},_marked11,null,[[0,21]]);}//修改学生\nfunction modifyStudent(args){var _args$args6,userId,userName,grade,academy,discipline,cls,phone,sex,data,res;return _regeneratorRuntime.wrap(function modifyStudent$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:_context12.prev=0;_args$args6=args.args,userId=_args$args6.userId,userName=_args$args6.userName,grade=_args$args6.grade,academy=_args$args6.academy,discipline=_args$args6.discipline,cls=_args$args6.cls,phone=_args$args6.phone,sex=_args$args6.sex;data={userId:userId,userName:userName,grade:grade,academy:academy,discipline:discipline,cls:cls,phone:phone,sex:sex};_context12.next=5;return call(Service.post,\"user/updateMySelfInfo\",data);case 5:res=_context12.sent;_context12.t0=res.data.error_code;_context12.next=_context12.t0===0?9:_context12.t0===-1?13:_context12.t0===2?15:17;break;case 9:_context12.next=11;return put({type:MODIFY_STUDENT_SUCCESS});case 11:openNotification(res.data.message);return _context12.abrupt(\"break\",18);case 13:openNotification(res.data.message);return _context12.abrupt(\"break\",18);case 15:openNotification(res.data.message);return _context12.abrupt(\"break\",18);case 17:return _context12.abrupt(\"return\",openNotification('修改信息失败'));case 18:_context12.next=23;break;case 20:_context12.prev=20;_context12.t1=_context12[\"catch\"](0);console.log(_context12.t1);case 23:case\"end\":return _context12.stop();}}},_marked12,null,[[0,20]]);}//搜索学生\nfunction searchStudent(data){var _data$args5,page,value,type,flag,url,res;return _regeneratorRuntime.wrap(function searchStudent$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:_context13.prev=0;_data$args5=data.args,page=_data$args5.page,value=_data$args5.value,type=_data$args5.type,flag=_data$args5.flag;if(flag===\"userName\"){url=\"user/userInfo?page=\".concat(page,\"&userName=\").concat(value,\"&type=\").concat(type);}else if(flag===\"userId\"){url=\"user/userInfo?page=\".concat(page,\"&userId=\").concat(value,\"&type=\").concat(type);}else{url=\"user/userInfo?page=\".concat(page,\"&grade=\").concat(value,\"&type=\").concat(type);}_context13.next=5;return call(Service.get,url);case 5:res=_context13.sent;_context13.t0=res.data.error_code;_context13.next=_context13.t0===0?9:_context13.t0===-1?12:_context13.t0===2?14:16;break;case 9:_context13.next=11;return put({type:SEARCH_STUDENT_SUCCESS,payload:res.data.data});case 11:return _context13.abrupt(\"break\",17);case 12:openNotification(res.data.message);return _context13.abrupt(\"break\",17);case 14:openNotification(res.data.message);return _context13.abrupt(\"break\",17);case 16:return _context13.abrupt(\"return\",0);case 17:_context13.next=22;break;case 19:_context13.prev=19;_context13.t1=_context13[\"catch\"](0);console.log(_context13.t1);case 22:case\"end\":return _context13.stop();}}},_marked13,null,[[0,19]]);}//导入学生\nfunction importStudent(args){var file,formData,res;return _regeneratorRuntime.wrap(function importStudent$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:_context14.prev=0;file=args.args.file;formData=new FormData();formData.append(\"file\",file);_context14.next=6;return call(Service.post,\"admin/importUser\",formData);case 6:res=_context14.sent;_context14.t0=res.data.error_code;_context14.next=_context14.t0===0?10:_context14.t0===-1?14:_context14.t0===2?16:18;break;case 10:_context14.next=12;return put({type:IMPORT_USER_success,payload:res.data.data});case 12:openNotification(res.data.message);return _context14.abrupt(\"break\",19);case 14:openNotification(res.data.message);return _context14.abrupt(\"break\",19);case 16:openNotification(res.data.message);return _context14.abrupt(\"break\",19);case 18:return _context14.abrupt(\"return\",0);case 19:_context14.next=24;break;case 21:_context14.prev=21;_context14.t1=_context14[\"catch\"](0);console.log(_context14.t1);case 24:case\"end\":return _context14.stop();}}},_marked14,null,[[0,21]]);}//获取注册用户信息\nfunction fetchRegisterUserData(data){var _data$args6,page,type,userId,res;return _regeneratorRuntime.wrap(function fetchRegisterUserData$(_context15){while(1){switch(_context15.prev=_context15.next){case 0:_context15.prev=0;_data$args6=data.args,page=_data$args6.page,type=_data$args6.type,userId=_data$args6.userId;_context15.next=4;return call(Service.get,\"register/queryRegister?page=\".concat(page,\"&type=\").concat(type,\"&userId=\").concat(userId));case 4:res=_context15.sent;_context15.t0=res.data.error_code;_context15.next=_context15.t0===0?8:_context15.t0===-1?11:_context15.t0===2?13:15;break;case 8:_context15.next=10;return put({type:FETCH_REGISTER_DATA_SUCCESS,payload:res.data.data});case 10:return _context15.abrupt(\"break\",16);case 11:openNotification(res.data.message);return _context15.abrupt(\"break\",16);case 13:openNotification(res.data.message);return _context15.abrupt(\"break\",16);case 15:return _context15.abrupt(\"return\",0);case 16:_context15.next=21;break;case 18:_context15.prev=18;_context15.t1=_context15[\"catch\"](0);console.log(_context15.t1);case 21:case\"end\":return _context15.stop();}}},_marked15,null,[[0,18]]);}//用户授权\nfunction agreeRegister(args){var list,formData,res;return _regeneratorRuntime.wrap(function agreeRegister$(_context16){while(1){switch(_context16.prev=_context16.next){case 0:_context16.prev=0;list=args.args.list;formData=new FormData();formData.append('list',list);_context16.next=6;return call(Service.post,\"register/registered\",formData);case 6:res=_context16.sent;_context16.t0=res.data.error_code;_context16.next=_context16.t0===0?10:_context16.t0===-1?13:_context16.t0===2?15:17;break;case 10:_context16.next=12;return put({type:AGREE_REGISTER_SUCCESS});case 12:return _context16.abrupt(\"break\",18);case 13:openNotification(res.data.message);return _context16.abrupt(\"break\",18);case 15:openNotification(res.data.message);return _context16.abrupt(\"break\",18);case 17:return _context16.abrupt(\"return\",0);case 18:_context16.next=23;break;case 20:_context16.prev=20;_context16.t1=_context16[\"catch\"](0);console.log(_context16.t1);case 23:case\"end\":return _context16.stop();}}},_marked16,null,[[0,20]]);}//删除注册用户\nfunction deleteRegisterUser(args){var list,formData,res;return _regeneratorRuntime.wrap(function deleteRegisterUser$(_context17){while(1){switch(_context17.prev=_context17.next){case 0:_context17.prev=0;list=args.args.list;formData=new FormData();formData.append('userIdList',list);_context17.next=6;return call(Service.post,\"register/deleteRegister\",formData);case 6:res=_context17.sent;_context17.t0=res.data.error_code;_context17.next=_context17.t0===0?10:_context17.t0===-1?14:_context17.t0===2?16:18;break;case 10:_context17.next=12;return put({type:DELETE_REGISTER_USER_SUCCESS});case 12:openNotification(res.data.message);return _context17.abrupt(\"break\",19);case 14:openNotification(res.data.message);return _context17.abrupt(\"break\",19);case 16:openNotification(res.data.message);return _context17.abrupt(\"break\",19);case 18:return _context17.abrupt(\"return\",0);case 19:_context17.next=24;break;case 21:_context17.prev=21;_context17.t1=_context17[\"catch\"](0);console.log(_context17.t1);case 24:case\"end\":return _context17.stop();}}},_marked17,null,[[0,21]]);}//重置密码\nfunction resetPassword(args){var res;return _regeneratorRuntime.wrap(function resetPassword$(_context18){while(1){switch(_context18.prev=_context18.next){case 0:console.log(args.args);_context18.prev=1;_context18.next=4;return call(Service.post,'user/resetPassword',args.args);case 4:res=_context18.sent;console.log(res);_context18.t0=res.data.error_code;_context18.next=_context18.t0===0?9:_context18.t0===-1?13:_context18.t0===2?15:17;break;case 9:_context18.next=11;return put({type:RESET_PASSWORD_SUCCESS});case 11:openNotification(res.data.message);return _context18.abrupt(\"break\",18);case 13:openNotification(res.data.message);return _context18.abrupt(\"break\",18);case 15:openNotification(res.data.message);return _context18.abrupt(\"break\",18);case 17:return _context18.abrupt(\"return\",openNotification('重置密码失败'));case 18:_context18.next=23;break;case 20:_context18.prev=20;_context18.t1=_context18[\"catch\"](1);console.log(_context18.t1);case 23:case\"end\":return _context18.stop();}}},_marked18,null,[[1,20]]);}export default function rootAdminSagas(){return _regeneratorRuntime.wrap(function rootAdminSagas$(_context19){while(1){switch(_context19.prev=_context19.next){case 0:_context19.next=2;return takeEvery(ADD_NEW_ADMIN,addNewAdmin);case 2:_context19.next=4;return takeEvery(ADD_NEW_TEACHER,addNewTeacher);case 4:_context19.next=6;return takeEvery(FETCH_ADMINISTRATOR_DATA,fetchAdminData);case 6:_context19.next=8;return takeEvery(FETCH_TEACHER_RES,fetchTeacherData);case 8:_context19.next=10;return takeEvery(DELETE_TEACHER,deleteTeacher);case 10:_context19.next=12;return takeEvery(MODIFY_TEACHER,modifyTeacher);case 12:_context19.next=14;return takeEvery(FETCH_STUDENT_DATA,fetchStudentData);case 14:_context19.next=16;return takeEvery(FETCH_REGISTER_DATA,fetchRegisterUserData);case 16:_context19.next=18;return takeEvery(AGREE_REGISTER,agreeRegister);case 18:_context19.next=20;return takeEvery(MODIFY_ADMIN,modifyAdmin);case 20:_context19.next=22;return takeEvery(SEARCH_TEACHER,searchTeacher);case 22:_context19.next=24;return takeEvery(ADD_NEW_STUDENT,addNewStudent);case 24:_context19.next=26;return takeEvery(DELETE_STUDENT,deleteStudent);case 26:_context19.next=28;return takeEvery(MODIFY_STUDENT,modifyStudent);case 28:_context19.next=30;return takeEvery(SEARCH_STUDENT,searchStudent);case 30:_context19.next=32;return takeEvery(DELETE_REGISTER_USER,deleteRegisterUser);case 32:_context19.next=34;return takeEvery(IMPORT_USER,importStudent);case 34:_context19.next=36;return takeEvery(RESET_PASSWORD,resetPassword);case 36:case\"end\":return _context19.stop();}}},_marked19);}","map":{"version":3,"sources":["C:/projects/lab/lab_2.0/src/redux/sagas/adminSagas/userManage.js"],"names":["addNewAdmin","addNewTeacher","fetchAdminData","modifyAdmin","fetchTeacherData","deleteTeacher","modifyTeacher","searchTeacher","fetchStudentData","addNewStudent","deleteStudent","modifyStudent","searchStudent","importStudent","fetchRegisterUserData","agreeRegister","deleteRegisterUser","resetPassword","rootAdminSagas","takeEvery","call","put","Service","FETCH_ADMINISTRATOR_DATA","ADD_NEW_ADMIN","ADD_NEW_ADMIN_SUCCESS","MODIFY_ADMIN","MODIFY_ADMIN_SUCCESS","ADD_NEW_TEACHER","ADD_NEW_TEACHER_SUCCESS","SEARCH_TEACHER","SEARCH_TEACHER_SUCCESS","FETCH_ADMINISTRATOR_DATA_SUCCESS","FETCH_TEACHER_RES","FETCH_TEACHER_RES_SUCCESS","DELETE_TEACHER","DELETE_TEACHER_SUCCESS","MODIFY_TEACHER","MODIFY_TEACHER_SUCCESS","FETCH_STUDENT_DATA","FETCH_STUDENT_DATA_SUCCESS","ADD_NEW_STUDENT","ADD_NEW_STUDENT_SUCCESS","DELETE_STUDENT","DELETE_STUDENT_SUCCESS","MODIFY_STUDENT","MODIFY_STUDENT_SUCCESS","SEARCH_STUDENT","SEARCH_STUDENT_SUCCESS","IMPORT_USER","IMPORT_USER_success","FETCH_REGISTER_DATA","FETCH_REGISTER_DATA_SUCCESS","AGREE_REGISTER","AGREE_REGISTER_SUCCESS","DELETE_REGISTER_USER","DELETE_REGISTER_USER_SUCCESS","RESET_PASSWORD","RESET_PASSWORD_SUCCESS","openNotification","args","userId","userName","type","academy","sex","adminData","data","post","res","error_code","payloadA","newDataA","message","console","log","adminTeacherData","discipline","payload","newData","page","get","list","formData","FormData","append","phone","grade","cls","adminStudentData","payloadS","newDataS","value","flag","url","file"],"mappings":"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","sourcesContent":["import { takeEvery, call, put } from \"redux-saga/effects\";\r\nimport Service from \"../../../lib/Service\";\r\nimport {\r\n    FETCH_ADMINISTRATOR_DATA,\r\n    ADD_NEW_ADMIN,\r\n    ADD_NEW_ADMIN_SUCCESS,\r\n    MODIFY_ADMIN,\r\n    MODIFY_ADMIN_SUCCESS,\r\n    ADD_NEW_TEACHER,\r\n    ADD_NEW_TEACHER_SUCCESS,\r\n    SEARCH_TEACHER,\r\n    SEARCH_TEACHER_SUCCESS,\r\n    FETCH_ADMINISTRATOR_DATA_SUCCESS,\r\n    FETCH_TEACHER_RES,\r\n    FETCH_TEACHER_RES_SUCCESS,\r\n    DELETE_TEACHER,\r\n    DELETE_TEACHER_SUCCESS,\r\n    MODIFY_TEACHER,\r\n    MODIFY_TEACHER_SUCCESS,\r\n    FETCH_STUDENT_DATA,\r\n    FETCH_STUDENT_DATA_SUCCESS,\r\n    ADD_NEW_STUDENT,\r\n    ADD_NEW_STUDENT_SUCCESS,\r\n    DELETE_STUDENT,\r\n    DELETE_STUDENT_SUCCESS,\r\n    MODIFY_STUDENT,\r\n    MODIFY_STUDENT_SUCCESS,\r\n    SEARCH_STUDENT,\r\n    SEARCH_STUDENT_SUCCESS,\r\n    IMPORT_USER,\r\n    IMPORT_USER_success,\r\n    FETCH_REGISTER_DATA,\r\n    FETCH_REGISTER_DATA_SUCCESS,\r\n    AGREE_REGISTER,\r\n    AGREE_REGISTER_SUCCESS,\r\n    DELETE_REGISTER_USER,\r\n    DELETE_REGISTER_USER_SUCCESS,\r\n    RESET_PASSWORD,\r\n    RESET_PASSWORD_SUCCESS\r\n} from \"../../../constants/actionTypes\";\r\nimport { openNotification} from \"../../../utils/commonFunction\";\r\n\r\n//添加新的管理员\r\nfunction *addNewAdmin(args) {\r\n    try{\r\n        const {userId, userName, type, academy, sex, adminData} = args.args;\r\n        const data = {userId, userName, type, academy, sex};\r\n        const res = yield call(Service.post, \"admin/addUser\", data);\r\n        switch (res.data.error_code) {\r\n            case 0:\r\n                yield put({\r\n                    type: ADD_NEW_ADMIN_SUCCESS,\r\n                    payloadA: adminData,\r\n                    newDataA: data\r\n                });\r\n                openNotification(res.data.message);\r\n                break;\r\n            case -1:\r\n                openNotification(res.data.message);\r\n                break;\r\n            case 2:\r\n                openNotification(res.data.message);\r\n                break;\r\n            default:\r\n                return openNotification('添加管理员失败');\r\n        }\r\n    }catch (e) {\r\n        console.log(e);\r\n    }\r\n}\r\n//添加新的教师\r\nfunction *addNewTeacher(args) {\r\n    try{\r\n        const {userId, userName,adminTeacherData, type, sex, discipline} = args.args;\r\n        const data = {userId, userName, type, sex, discipline};\r\n        const res = yield call(Service.post, \"admin/addUser\", data);\r\n        switch (res.data.error_code) {\r\n            case 0:\r\n                yield put({\r\n                    type: ADD_NEW_TEACHER_SUCCESS,\r\n                    payload: adminTeacherData,\r\n                    newData: data\r\n                });\r\n                openNotification(res.data.message);\r\n                break;\r\n            case -1:\r\n                openNotification(res.data.message);\r\n                break;\r\n            case 2:\r\n                openNotification(res.data.message);\r\n                break;\r\n            default:\r\n                return 0\r\n        }\r\n    }catch (e) {\r\n        console.log(e)\r\n    }\r\n}\r\n//获取管理员信息\r\nfunction *fetchAdminData(data) {\r\n    try{\r\n        const {page, type} = data.args;\r\n        const res = yield call(Service.get,\r\n            `user/userInfo?page=${page}&type=${type}`);\r\n        switch (res.data.error_code) {\r\n            case 0:\r\n                yield put({\r\n                    type: FETCH_ADMINISTRATOR_DATA_SUCCESS,\r\n                    payload: res.data.data\r\n                });\r\n                break;\r\n            case -1:\r\n                openNotification(res.data.message);\r\n                break;\r\n            case 2:\r\n                openNotification(res.data.message);\r\n                break;\r\n            default:\r\n                return openNotification('获取管理员信息失败')\r\n        }\r\n    }catch (e) {\r\n        console.log(e);\r\n    }\r\n}\r\n//修改管理员信息\r\nfunction *modifyAdmin(args) {\r\n    try {\r\n        const { userId, userName, academy, sex } = args.args;\r\n        const data = {userId, userName, academy, sex };\r\n        const res = yield call(Service.post, \"user/updateUserInfo\", data);\r\n        switch (res.data.error_code) {\r\n            case 0:\r\n                yield put({\r\n                    type: MODIFY_ADMIN_SUCCESS,\r\n                });\r\n                openNotification(res.data.message);\r\n                break;\r\n            case -1:\r\n                openNotification(res.data.message);\r\n                break;\r\n            case 2:\r\n                openNotification(res.data.message);\r\n                break;\r\n            default:\r\n                return 0\r\n        }\r\n    }catch (e) {\r\n        console.log(e);\r\n    }\r\n}\r\n//获取教师信息\r\nfunction *fetchTeacherData(data) {\r\n    try{\r\n        const {page, type} = data.args;\r\n        const res = yield call(Service.get,\r\n            `user/userInfo?page=${page}&type=${type}`);\r\n        switch (res.data.error_code) {\r\n            case 0:\r\n                yield put({\r\n                    type: FETCH_TEACHER_RES_SUCCESS,\r\n                    payload: res.data.data\r\n                });\r\n                break;\r\n            case 1:\r\n                openNotification(res.data.message);\r\n                break;\r\n            case -1:\r\n                openNotification(res.data.message);\r\n                break;\r\n            case 2:\r\n                openNotification(res.data.message);\r\n                break;\r\n            default:\r\n                return 0\r\n        }\r\n    }catch (e) {\r\n        console.log(e);\r\n    }\r\n}\r\n//删除教师\r\nfunction *deleteTeacher(args) {\r\n    try {\r\n        const { list } = args.args;\r\n        let formData = new FormData();\r\n        formData.append('list', list);\r\n        const res = yield call(Service.post, \"admin/deleteUsers\", formData);\r\n        switch (res.data.error_code) {\r\n            case 0:\r\n                yield put({\r\n                    type: DELETE_TEACHER_SUCCESS, payload: null\r\n                });\r\n                openNotification(res.data.message);\r\n                break;\r\n            case -1:\r\n                openNotification(res.data.message);\r\n                break;\r\n            case 2:\r\n                openNotification(res.data.message);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }catch (e) {\r\n        console.log(e);\r\n    }\r\n}\r\n//修改教师信息\r\nfunction *modifyTeacher(args) {\r\n    try {\r\n        const { userId, userName, academy, phone, sex} = args.args;\r\n        const data = { userId, userName, academy, phone, sex};\r\n        const res = yield call(Service.post, \"user/updateUserInfo\", data);\r\n        switch (res.data.error_code) {\r\n            case 0:\r\n                yield put({\r\n                    type: MODIFY_TEACHER_SUCCESS,\r\n                });\r\n                openNotification(res.data.message);\r\n                break;\r\n            case -1:\r\n                openNotification(res.data.message);\r\n                break;\r\n            case 2:\r\n                openNotification(res.data.message);\r\n                break;\r\n            default:\r\n                return 0;\r\n        }\r\n    }catch (e) {\r\n        console.log(e);\r\n    }\r\n}\r\n//搜索老师\r\nfunction *searchTeacher(data) {\r\n    try {\r\n        const {page, type, userName } = data.args;\r\n        const res = yield call(Service.get,`user/userInfo?page=${page}&type=${type}&userName=${userName}`)\r\n        switch (res.data.error_code) {\r\n            case 0:\r\n                yield put({\r\n                    type: SEARCH_TEACHER_SUCCESS,\r\n                    payload: res.data.data\r\n                });\r\n                break;\r\n            case -1:\r\n                openNotification(res.data.message);\r\n                break;\r\n            case 2:\r\n                openNotification(res.data.message);\r\n                break;\r\n            default:\r\n                return 0;\r\n        }\r\n    }catch (e) {\r\n        console.log(e);\r\n    }\r\n}\r\n//获取学生信息\r\nfunction *fetchStudentData(data) {\r\n    try{\r\n        const {page, type} = data.args;\r\n        const res = yield call(Service.get,\r\n            `user/userInfo?page=${page}&type=${type}`);\r\n        switch (res.data.error_code) {\r\n            case 0:\r\n                yield put({\r\n                    type: FETCH_STUDENT_DATA_SUCCESS,\r\n                    payload: res.data.data\r\n                });\r\n                break;\r\n            case -1:\r\n                openNotification(res.data.message);\r\n                break;\r\n            case 2:\r\n                openNotification(res.data.message);\r\n                break;\r\n            default:\r\n                return 0;\r\n        }\r\n    }catch (e) {\r\n        console.log(e);\r\n    }\r\n}\r\n//添加学生\r\nfunction *addNewStudent(args) {\r\n    try {\r\n        const { type, userId, userName, grade, academy, discipline, cls, phone, sex, adminStudentData} = args.args;\r\n        const data = { type, userId, userName, grade, academy, discipline, cls, phone, sex };\r\n        const res = yield call(Service.post, \"admin/addUser\", data);\r\n        switch (res.data.error_code) {\r\n            case 0:\r\n                openNotification(res.data.message);\r\n                yield put({\r\n                    type: ADD_NEW_STUDENT_SUCCESS,\r\n                    payloadS: adminStudentData,\r\n                    newDataS: res.data.data,\r\n                });\r\n                break;\r\n            case -1:\r\n                openNotification(res.data.message);\r\n                break;\r\n            case 2:\r\n                openNotification(res.data.message);\r\n                break;\r\n            default:\r\n                return 0;\r\n        }\r\n    }catch (e) {\r\n        console.log(e);\r\n    }\r\n}\r\n//删除学生\r\nfunction *deleteStudent(args) {\r\n    try {\r\n        const { list } = args.args;\r\n        let formData = new FormData();\r\n        formData.append('list', list);\r\n        const res = yield call(Service.post, \"admin/deleteUsers\", formData);\r\n        switch (res.data.error_code) {\r\n            case 0:\r\n                yield put({\r\n                    type: DELETE_STUDENT_SUCCESS\r\n                });\r\n                openNotification(res.data.message);\r\n                break;\r\n            case -1:\r\n                openNotification(res.data.message);\r\n                break;\r\n            case 2:\r\n                openNotification(res.data.message);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }catch (e) {\r\n        console.log(e);\r\n    }\r\n}\r\n//修改学生\r\nfunction *modifyStudent(args) {\r\n    try {\r\n        const { userId, userName, grade, academy, discipline, cls, phone, sex } = args.args;\r\n        const data = { userId, userName, grade, academy, discipline, cls, phone, sex };\r\n        const res = yield call(Service.post, \"user/updateMySelfInfo\", data);\r\n        switch (res.data.error_code) {\r\n            case 0:\r\n                yield put({\r\n                    type: MODIFY_STUDENT_SUCCESS,\r\n                });\r\n                openNotification(res.data.message);\r\n                break;\r\n            case -1:\r\n                openNotification(res.data.message);\r\n                break;\r\n            case 2:\r\n                openNotification(res.data.message);\r\n                break;\r\n            default:\r\n                return openNotification('修改信息失败');\r\n        }\r\n        }catch (e) {\r\n        console.log(e);\r\n    }\r\n}\r\n//搜索学生\r\nfunction *searchStudent(data) {\r\n    try {\r\n        const {page, value, type, flag } = data.args;\r\n        let url;\r\n        if (flag === \"userName\") {\r\n            url = `user/userInfo?page=${page}&userName=${value}&type=${type}`;\r\n        } else if (flag === \"userId\") {\r\n            url = `user/userInfo?page=${page}&userId=${value}&type=${type}`;\r\n        } else {\r\n            url = `user/userInfo?page=${page}&grade=${value}&type=${type}`;\r\n        }\r\n        const res = yield call(Service.get, url);\r\n        switch (res.data.error_code) {\r\n            case 0:\r\n                yield put({\r\n                    type: SEARCH_STUDENT_SUCCESS,\r\n                    payload: res.data.data\r\n                });\r\n                break;\r\n            case -1:\r\n                openNotification(res.data.message);\r\n               break;\r\n            case 2:\r\n                openNotification(res.data.message);\r\n                break;\r\n            default:\r\n                return 0;\r\n        }\r\n    }catch (e) {\r\n        console.log(e);\r\n    }\r\n}\r\n//导入学生\r\nfunction *importStudent(args) {\r\n    try {\r\n        const {file} = args.args;\r\n        const formData = new FormData();\r\n        formData.append(\"file\", file);\r\n        const res = yield call(Service.post, \"admin/importUser\", formData);\r\n        switch (res.data.error_code) {\r\n            case 0:\r\n                yield put({\r\n                    type: IMPORT_USER_success,\r\n                    payload: res.data.data\r\n                });\r\n                openNotification(res.data.message);\r\n                break;\r\n            case -1:\r\n                openNotification(res.data.message);\r\n                break;\r\n            case 2:\r\n                openNotification(res.data.message);\r\n                break;\r\n            default:\r\n                return 0\r\n        }\r\n    }catch (e) {\r\n        console.log(e);\r\n    }\r\n}\r\n//获取注册用户信息\r\nfunction *fetchRegisterUserData(data) {\r\n    try {\r\n        const {page, type, userId} = data.args;\r\n        const res = yield call(Service.get, `register/queryRegister?page=${page}&type=${type}&userId=${userId}`);\r\n        switch (res.data.error_code) {\r\n            case 0:\r\n                yield put({\r\n                    type: FETCH_REGISTER_DATA_SUCCESS,\r\n                    payload: res.data.data\r\n                });\r\n                break;\r\n            case -1:\r\n                openNotification(res.data.message);\r\n                break;\r\n            case 2:\r\n                openNotification(res.data.message);\r\n                break;\r\n            default:\r\n                return 0\r\n        }\r\n    }catch (e) {\r\n        console.log(e);\r\n    }\r\n}\r\n//用户授权\r\nfunction *agreeRegister(args) {\r\n    try {\r\n        const {list} = args.args;\r\n        let formData = new FormData();\r\n        formData.append('list', list);\r\n        const res = yield call(Service.post, \"register/registered\", formData);\r\n        switch (res.data.error_code) {\r\n            case 0:\r\n                yield put({\r\n                    type: AGREE_REGISTER_SUCCESS,\r\n                });\r\n                break;\r\n            case -1:\r\n                openNotification(res.data.message);\r\n                break;\r\n            case 2:\r\n                openNotification(res.data.message);\r\n                break;\r\n            default:\r\n                return 0\r\n        }\r\n    }catch (e) {\r\n        console.log(e);\r\n    }\r\n}\r\n//删除注册用户\r\nfunction *deleteRegisterUser(args) {\r\n    try {\r\n        const { list } = args.args;\r\n        let formData = new FormData();\r\n        formData.append('userIdList', list);\r\n        const res = yield call(Service.post, \"register/deleteRegister\", formData);\r\n        switch (res.data.error_code) {\r\n            case 0:\r\n                yield put({\r\n                    type: DELETE_REGISTER_USER_SUCCESS,\r\n                });\r\n                openNotification(res.data.message);\r\n                break;\r\n            case -1:\r\n                openNotification(res.data.message);\r\n                break;\r\n            case 2:\r\n                openNotification(res.data.message);\r\n                break;\r\n            default:\r\n                return 0\r\n        }\r\n    }catch (e) {\r\n        console.log(e);\r\n    }\r\n}\r\n//重置密码\r\nfunction *resetPassword(args) {\r\n    console.log(args.args)\r\n    try {\r\n        const res = yield call(Service.post, 'user/resetPassword', args.args);\r\n        console.log(res)\r\n        switch (res.data.error_code) {\r\n            case 0:\r\n                yield put({\r\n                    type: RESET_PASSWORD_SUCCESS,\r\n                });\r\n                openNotification(res.data.message);\r\n                break;\r\n            case -1:\r\n                openNotification(res.data.message);\r\n                break;\r\n            case 2:\r\n                openNotification(res.data.message);\r\n                break;\r\n            default:\r\n                return openNotification('重置密码失败')\r\n            }\r\n    } catch (e) {\r\n        console.log(e)\r\n    }\r\n}\r\n\r\nexport default function *rootAdminSagas() {\r\n    yield takeEvery(ADD_NEW_ADMIN, addNewAdmin);\r\n    yield takeEvery(ADD_NEW_TEACHER, addNewTeacher);\r\n    yield takeEvery(FETCH_ADMINISTRATOR_DATA, fetchAdminData);\r\n    yield takeEvery(FETCH_TEACHER_RES, fetchTeacherData);\r\n    yield takeEvery(DELETE_TEACHER, deleteTeacher);\r\n    yield takeEvery(MODIFY_TEACHER, modifyTeacher);\r\n    yield takeEvery(FETCH_STUDENT_DATA, fetchStudentData);\r\n    yield takeEvery(FETCH_REGISTER_DATA, fetchRegisterUserData);\r\n    yield takeEvery(AGREE_REGISTER, agreeRegister);\r\n    yield takeEvery(MODIFY_ADMIN, modifyAdmin);\r\n    yield takeEvery(SEARCH_TEACHER,searchTeacher);\r\n    yield takeEvery(ADD_NEW_STUDENT, addNewStudent);\r\n    yield takeEvery(DELETE_STUDENT, deleteStudent);\r\n    yield takeEvery(MODIFY_STUDENT, modifyStudent);\r\n    yield takeEvery(SEARCH_STUDENT, searchStudent);\r\n    yield takeEvery(DELETE_REGISTER_USER, deleteRegisterUser);\r\n    yield takeEvery(IMPORT_USER, importStudent);\r\n    yield takeEvery(RESET_PASSWORD, resetPassword);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}