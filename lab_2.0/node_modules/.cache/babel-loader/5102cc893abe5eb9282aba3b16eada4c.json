{"ast":null,"code":"import\"antd/es/table/style/css\";import _Table from\"antd/es/table\";import _toConsumableArray from\"C:\\\\projects\\\\lab\\\\lab_2.0\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import React,{useEffect}from\"react\";import{connect}from\"react-redux\";import UpLoad from\"./UpLoad\";import*as resource from\"../redux/actionCreators/resource\";import\"../static/style/learningDatas.scss\";var MySoftware=function MySoftware(props){var handleMySoftware=props.handleMySoftware,userId=props.userId,userName=props.userName,total=props.total,teacherSoftware=props.teacherSoftware,handleDeleteSoftware=props.handleDeleteSoftware,softwareTemp=props.softwareTemp,time=props.time;useEffect(function(){handleMySoftware({page:1,type:\"software\",userName:userName});},[softwareTemp,time]);var columns=[{title:'软件名称',dataIndex:'title',key:'title'},{title:'大小',dataIndex:'size',align:'center',key:'size'},{title:'上传时间',key:'addTime',align:'center',dataIndex:'addTime'},{title:'软件处理',key:'软件处理',align:'center',dataIndex:'软件处理',render:function render(text,data){return/*#__PURE__*/React.createElement(\"a\",{onClick:function onClick(){handleDeleteSoftware({resourceId:data.id,type:\"software\",userId:userId,userName:userName});},className:\"resDelete\"},\"\\u5220\\u9664\");}}];return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"dataWrapper\"},/*#__PURE__*/React.createElement(\"p\",{style:{color:'#FF0000'}},\"\\u8BF7\\u53CA\\u65F6\\u6E05\\u7406\\u8FC7\\u671F\\u7684\\uFF0C\\u65E0\\u7528\\u7684\\u8F6F\\u4EF6\\uFF0C\\u4EE5\\u8282\\u7EA6\\u7A7A\\u95F4\"),/*#__PURE__*/React.createElement(UpLoad,null),/*#__PURE__*/React.createElement(_Table,{rowKey:function rowKey(record){return record.id;},size:'small',columns:columns,dataSource:_toConsumableArray(teacherSoftware),pagination:{total:total,pageSize:10,defaultCurrent:1,onChange:function onChange(e){handleMySoftware({page:e,type:'software',userName:userName});}}})));};export default connect(function(state){return{userName:state.getIn([\"userMana\",\"common\",\"name\"]),teacherSoftware:state.getIn([\"resource\",\"resource\",\"teacherSoftware\"]),total:state.getIn([\"resource\",\"resource\",\"mySoftwareTotal\"]),userId:state.getIn([\"userMana\",\"common\",\"userId\"]),softwareTemp:state.getIn([\"resource\",\"resource\",\"softwareTemp\"]),time:state.getIn([\"resource\",\"resource\",\"time\"])};},function(dispatch){return{handleMySoftware:function handleMySoftware(args){dispatch(resource.fetchTeacherSoftware(args));},handleDeleteSoftware:function handleDeleteSoftware(args){dispatch(resource.deleteSoftware(args));}};})(MySoftware);","map":{"version":3,"sources":["C:/projects/lab/lab_2.0/src/components/MySoftware.js"],"names":["React","useEffect","connect","UpLoad","resource","MySoftware","props","handleMySoftware","userId","userName","total","teacherSoftware","handleDeleteSoftware","softwareTemp","time","page","type","columns","title","dataIndex","key","align","render","text","data","resourceId","id","color","record","pageSize","defaultCurrent","onChange","e","state","getIn","dispatch","args","fetchTeacherSoftware","deleteSoftware"],"mappings":"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","sourcesContent":["import React, {useEffect} from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Table } from 'antd';\r\nimport UpLoad from \"./UpLoad\";\r\nimport * as resource from \"../redux/actionCreators/resource\";\r\nimport \"../static/style/learningDatas.scss\";\r\n\r\nconst MySoftware = props => {\r\n    const {\r\n        handleMySoftware,\r\n        userId,\r\n        userName,\r\n        total,\r\n        teacherSoftware,\r\n        handleDeleteSoftware,\r\n        softwareTemp,\r\n        time,\r\n    }= props;\r\n    useEffect(() => {\r\n        handleMySoftware({page:1, type:\"software\", userName: userName})\r\n    },[softwareTemp, time]);\r\n    const columns = [\r\n        {\r\n            title: '软件名称',\r\n            dataIndex: 'title',\r\n            key: 'title',\r\n        },\r\n        {\r\n            title: '大小',\r\n            dataIndex: 'size',\r\n            align: 'center',\r\n            key: 'size',\r\n        },\r\n        {\r\n            title: '上传时间',\r\n            key: 'addTime',\r\n            align: 'center',\r\n            dataIndex: 'addTime',\r\n        },\r\n        {\r\n            title: '软件处理',\r\n            key: '软件处理',\r\n            align: 'center',\r\n            dataIndex: '软件处理',\r\n            render: (text,data) => (\r\n                <a\r\n                    onClick={\r\n                        () => {\r\n                            handleDeleteSoftware({\r\n                                resourceId: data.id,\r\n                                type: \"software\",\r\n                                userId: userId,\r\n                                userName: userName\r\n                            });\r\n                        }\r\n                    }\r\n                    className=\"resDelete\">\r\n                    删除\r\n                </a>\r\n            )\r\n        },\r\n    ];\r\n\r\n    return(\r\n        <>\r\n            <div className=\"dataWrapper\">\r\n                <p style={{color: '#FF0000'}}>请及时清理过期的，无用的软件，以节约空间</p>\r\n                <UpLoad/>\r\n                <Table\r\n                    rowKey={record => record.id}\r\n                    size={'small'}\r\n                    columns={columns}\r\n                    dataSource={[...teacherSoftware]}\r\n                    pagination={{\r\n                        total,\r\n                        pageSize: 10,\r\n                        defaultCurrent: 1,\r\n                        onChange: e => {\r\n                            handleMySoftware({\r\n                                page: e,\r\n                                type: 'software',\r\n                                userName: userName\r\n                            })\r\n                        }\r\n                    }}\r\n                />\r\n            </div>\r\n        </>\r\n    )\r\n};\r\n\r\nexport default connect(\r\n    state => ({\r\n        userName: state.getIn([\"userMana\", \"common\", \"name\"]),\r\n        teacherSoftware: state.getIn([\"resource\", \"resource\", \"teacherSoftware\"]),\r\n        total: state.getIn([\"resource\", \"resource\", \"mySoftwareTotal\"]),\r\n        userId: state.getIn([\"userMana\", \"common\", \"userId\"]),\r\n        softwareTemp: state.getIn([\"resource\", \"resource\", \"softwareTemp\"]),\r\n        time: state.getIn([\"resource\", \"resource\", \"time\"]),\r\n    }),\r\n    dispatch => ({\r\n        handleMySoftware(args){\r\n            dispatch(resource.fetchTeacherSoftware(args));\r\n        },\r\n        handleDeleteSoftware(args) {\r\n            dispatch(resource.deleteSoftware(args))\r\n        }\r\n    })\r\n)(MySoftware);\r\n"]},"metadata":{},"sourceType":"module"}