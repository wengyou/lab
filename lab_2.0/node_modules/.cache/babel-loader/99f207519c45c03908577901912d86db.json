{"ast":null,"code":"import\"antd/es/row/style/css\";import _Row from\"antd/es/row\";import\"antd/es/input-number/style/css\";import _InputNumber from\"antd/es/input-number\";import\"antd/es/col/style/css\";import _Col from\"antd/es/col\";import\"antd/es/slider/style/css\";import _Slider from\"antd/es/slider\";import\"antd/es/card/style/css\";import _Card from\"antd/es/card\";import\"antd/es/button/style/css\";import _Button from\"antd/es/button\";import _slicedToArray from\"C:\\\\projects\\\\lab\\\\lab_2.0\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useRef,useState}from\"react\";import{connect}from\"react-redux\";import*as admin from\"../../redux/actionCreators/admin\";import{FETCH_PARAM}from\"../../constants/actionTypes\";var DataMana=function DataMana(props){var handleAdminClearData=props.handleAdminClearData,paramSystem=props.paramSystem,handleParam=props.handleParam,modifyParam=props.modifyParam;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),workLimit=_useState2[0],setWorkLimit=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),taskLimit=_useState4[0],setTaskLimit=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),softwareLimit=_useState6[0],setSoftwareLimit=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),meterialLimit=_useState8[0],setMeterialLimit=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),announceLimit=_useState10[0],setAnnounceLimit=_useState10[1];useEffect(function(){handleParam();},[]);useEffect(function(){paramSystem.size!==0&&setWorkLimit(paramSystem[4].keyValue);paramSystem.size!==0&&setTaskLimit(paramSystem[5].keyValue);paramSystem.size!==0&&setSoftwareLimit(paramSystem[3].keyValue);paramSystem.size!==0&&setMeterialLimit(paramSystem[2].keyValue);paramSystem.size!==0&&setAnnounceLimit(paramSystem[1].keyValue);},[paramSystem]);return/*#__PURE__*/React.createElement(\"div\",{style:{width:\"100%\",marginTop:\"20px\"}},/*#__PURE__*/React.createElement(_Card,{title:\"\\u6E05\\u9664\\u8BF4\\u660E\",style:{padding:\"10px 10px\",margin:\"20px 20px\"}},/*#__PURE__*/React.createElement(\"p\",null,\"\\u8BE5\\u529F\\u80FD\\u662F\\u7528\\u4E8E\\u5220\\u9664\\u6559\\u5E08\\u5728\\u6279\\u91CF\\u4E0B\\u8F7D\\u5B66\\u751F\\u4F5C\\u4E1A\\u65F6\\u6240\\u4EA7\\u751F\\u7684\\u6253\\u5305\\u4E34\\u65F6\\u6587\\u4EF6\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"p\",null,\"\\u5220\\u9664\\u65F6\\u53EA\\u4F1A\\u5220\\u9664\\u4E34\\u65F6\\u6587\\u4EF6\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"p\",null,\"\\u4E0D\\u4F1A\\u5BF9\\u5B66\\u751F\\u4F5C\\u4E1A\\u4EA7\\u751F\\u5F71\\u54CD\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"p\",null,\"\\u5220\\u9664\\u7684\\u597D\\u5904\\u662F\\u8282\\u7EA6\\u7CFB\\u7EDF\\u786C\\u76D8\\u7A7A\\u95F4\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(_Button,{type:\"primary\",onClick:function onClick(){handleAdminClearData();}},\"\\u786E\\u8BA4\\u6E05\\u9664\")),/*#__PURE__*/React.createElement(_Card,{title:\"\\u5BFC\\u5165\\u8BF4\\u660E\",style:{padding:\"10px 10px\",margin:\"20px 20px\"}},/*#__PURE__*/React.createElement(\"p\",null,\"\\u82E5\\u8981\\u5BFC\\u5165\\u5B66\\u751F\\u4FE1\\u606F,\\u53EA\\u9700\\u8981\\u5728\\u5B66\\u751F\\u4FE1\\u606F\\u4E2D\\u70B9\\u51FB\\u6279\\u91CF\\u5BFC\\u5165,\\u7136\\u540E\\u9009\\u62E9\\u76F8\\u5E94\\u7684\\u5B66\\u751F\\u6587\\u4EF6\\u3002\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"p\",null,\"\\u6559\\u5E08\\u7684\\u5BFC\\u5165\\u548C\\u5B66\\u751F\\u7684\\u4E00\\u6837\\u3002\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"p\",null,\"\\u8BFE\\u7A0B\\u7684\\u5BFC\\u5165\\u662F\\u4E0B\\u8F7D\\u8BFE\\u7A0B\\u5BFC\\u5165\\u6A21\\u677F\\uFF0C\\u7136\\u540E\\u5C06\\u8BFE\\u7A0B\\u4FE1\\u606F\\u6309\\u6A21\\u677F\\u683C\\u5F0F\\u586B\\u5199\\u540E\\u5BFC\\u5165\\u3002\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"span\",null,\"\\u6559\\u5E08\\u6216\\u5B66\\u751F\\u5BFC\\u5165\\u6A21\\u677F\"),/*#__PURE__*/React.createElement(\"a\",{download:\"teacherOrStudent\\u6A21\\u677F\",style:{marginLeft:\"20px\"},href:'http://172.22.4.2:80/lab/teacherOrStudent.xls'},\"teacherOrStudent.xls\")),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"span\",null,\"\\u8BFE\\u7A0B\\u5BFC\\u5165\\u6A21\\u677F\"),/*#__PURE__*/React.createElement(\"a\",{download:\"course\\u6A21\\u677F\",style:{marginLeft:\"20px\"},href:'http://172.22.4.2:80/lab/course.xls'},\"course.xls\"))),/*#__PURE__*/React.createElement(_Card,{title:\"\\u4E0A\\u4F20\\u5927\\u5C0F\\u9650\\u5236\\u8C03\\u8282\",style:{padding:\"10px 10px\",margin:\"20px 20px\"}},/*#__PURE__*/React.createElement(\"p\",null,\"\\u4F5C\\u4E1A\\uFF0C\\u8D44\\u6599\\uFF0C\\u8F6F\\u4EF6\\uFF0C\\u516C\\u544A\\uFF0C\\u9644\\u4EF6\\u4E0A\\u4F20\\u5927\\u5C0F\\u9650\\u5236\\u53EF\\u8C03\\u8282\\uFF0C\\u8303\\u56F4\\u4ECE5MB-5120MB\\uFF085G\\uFF09\\u3002\"),/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:'1rem'}},/*#__PURE__*/React.createElement(\"p\",null,\"\\u4E0A\\u4F20\\u4F5C\\u4E1A\\u5927\\u5C0F\\u9650\\u5236\\uFF08\\u5355\\u4F4DMB\\uFF09\\uFF1A\"),/*#__PURE__*/React.createElement(_Row,{style:{display:'flex'}},/*#__PURE__*/React.createElement(_Col,{span:12},/*#__PURE__*/React.createElement(_Slider,{min:5,max:5120,onChange:function onChange(e){return setWorkLimit(e);},value:workLimit})),/*#__PURE__*/React.createElement(_Col,{span:4},/*#__PURE__*/React.createElement(_InputNumber,{min:5,max:5120,style:{margin:'0 16px'},value:workLimit,onChange:function onChange(e){return setWorkLimit(e);}})),/*#__PURE__*/React.createElement(_Button,{onClick:function onClick(){modifyParam({'key_name':'work_file_max_size','key_value':workLimit});}},\"\\u786E\\u8BA4\\u4FEE\\u6539\"))),/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:'1rem'}},/*#__PURE__*/React.createElement(\"p\",null,\"\\u4E0A\\u4F20\\u8D44\\u6599\\u5927\\u5C0F\\u9650\\u5236\\uFF08\\u5355\\u4F4DMB\\uFF09\\uFF1A\"),/*#__PURE__*/React.createElement(_Row,{style:{display:'flex'}},/*#__PURE__*/React.createElement(_Col,{span:12},/*#__PURE__*/React.createElement(_Slider,{min:5,max:5120,onChange:function onChange(e){return setMeterialLimit(e);},value:meterialLimit})),/*#__PURE__*/React.createElement(_Col,{span:4},/*#__PURE__*/React.createElement(_InputNumber,{min:5,max:5120,style:{margin:'0 16px'},value:meterialLimit,onChange:function onChange(e){return setMeterialLimit(e);}})),/*#__PURE__*/React.createElement(_Button,{onClick:function onClick(){modifyParam({'key_name':'material_file_max_size','key_value':meterialLimit});}},\"\\u786E\\u8BA4\\u4FEE\\u6539\"))),/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:'1rem'}},/*#__PURE__*/React.createElement(\"p\",null,\"\\u4E0A\\u4F20\\u8F6F\\u4EF6\\u5927\\u5C0F\\u9650\\u5236\\uFF08\\u5355\\u4F4DMB\\uFF09\\uFF1A\"),/*#__PURE__*/React.createElement(_Row,{style:{display:'flex'}},/*#__PURE__*/React.createElement(_Col,{span:12},/*#__PURE__*/React.createElement(_Slider,{min:5,max:5120,onChange:function onChange(e){return setSoftwareLimit(e);},value:softwareLimit})),/*#__PURE__*/React.createElement(_Col,{span:4},/*#__PURE__*/React.createElement(_InputNumber,{min:5,max:5120,style:{margin:'0 16px'},value:softwareLimit,onChange:function onChange(e){return setSoftwareLimit(e);}})),/*#__PURE__*/React.createElement(_Button,{onClick:function onClick(){modifyParam({'key_name':'software_file_max_size','key_value':softwareLimit});}},\"\\u786E\\u8BA4\\u4FEE\\u6539\"))),/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:'1rem'}},/*#__PURE__*/React.createElement(\"p\",null,\"\\u4E0A\\u4F20\\u516C\\u544A\\u5927\\u5C0F\\u9650\\u5236\\uFF08\\u5355\\u4F4DMB\\uFF09\\uFF1A\"),/*#__PURE__*/React.createElement(_Row,{style:{display:'flex'}},/*#__PURE__*/React.createElement(_Col,{span:12},/*#__PURE__*/React.createElement(_Slider,{min:5,max:5120,onChange:function onChange(e){return setAnnounceLimit(e);},value:announceLimit})),/*#__PURE__*/React.createElement(_Col,{span:4},/*#__PURE__*/React.createElement(_InputNumber,{min:5,max:5120,style:{margin:'0 16px'},value:announceLimit,onChange:function onChange(e){return setAnnounceLimit(e);}})),/*#__PURE__*/React.createElement(_Button,{onClick:function onClick(){modifyParam({'key_name':'announce_file_max_size','key_value':announceLimit});}},\"\\u786E\\u8BA4\\u4FEE\\u6539\"))),/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:'1rem'}},/*#__PURE__*/React.createElement(\"p\",null,\"\\u4E0A\\u4F20\\u9644\\u4EF6\\u5927\\u5C0F\\u9650\\u5236\\uFF08\\u5355\\u4F4DMB\\uFF09\\uFF1A\"),/*#__PURE__*/React.createElement(_Row,{style:{display:'flex'}},/*#__PURE__*/React.createElement(_Col,{span:12},/*#__PURE__*/React.createElement(_Slider,{min:5,max:5120,onChange:function onChange(e){return setTaskLimit(e);},value:taskLimit})),/*#__PURE__*/React.createElement(_Col,{span:4},/*#__PURE__*/React.createElement(_InputNumber,{min:5,max:5120,style:{margin:'0 16px'},value:taskLimit,onChange:function onChange(e){return setTaskLimit(e);}})),/*#__PURE__*/React.createElement(_Button,{onClick:function onClick(){modifyParam({'key_name':'task_file_max_size','key_value':taskLimit});}},\"\\u786E\\u8BA4\\u4FEE\\u6539\")))));};export default connect(function(state){return{paramSystem:state.getIn([\"admin\",\"userManage\",\"paramSystem\"]),adminTotal:state.getIn([\"admin\",\"userManage\",\"adminTotal\"]),adminStudentData:state.getIn([\"admin\",\"userManage\",\"adminStudentData\"])};},function(dispatch){return{handleAdminClearData:function handleAdminClearData(){dispatch(admin.adminClearData());},handleParam:function handleParam(){dispatch({type:FETCH_PARAM});},modifyParam:function modifyParam(args){dispatch(admin.modifyParam(args));}};})(DataMana);","map":{"version":3,"sources":["C:/projects/lab/lab_2.0/src/components/Administrator/dataMana.js"],"names":["React","useEffect","useRef","useState","connect","admin","FETCH_PARAM","DataMana","props","handleAdminClearData","paramSystem","handleParam","modifyParam","workLimit","setWorkLimit","taskLimit","setTaskLimit","softwareLimit","setSoftwareLimit","meterialLimit","setMeterialLimit","announceLimit","setAnnounceLimit","size","keyValue","width","marginTop","padding","margin","marginLeft","display","e","state","getIn","adminTotal","adminStudentData","dispatch","adminClearData","type","args"],"mappings":"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","sourcesContent":["import React, {useEffect, useRef, useState} from \"react\";\r\nimport { Card, Button, Slider, InputNumber, Row, Col } from 'antd';\r\nimport {connect} from \"react-redux\";\r\nimport * as admin from \"../../redux/actionCreators/admin\"\r\nimport {FETCH_PARAM} from \"../../constants/actionTypes\";\r\n\r\nconst DataMana = props => {\r\n    const { \r\n        handleAdminClearData, \r\n        paramSystem, \r\n        handleParam,\r\n        modifyParam\r\n    } = props;\r\n    const [workLimit, setWorkLimit] = useState('');\r\n    const [taskLimit, setTaskLimit] = useState('');\r\n    const [softwareLimit, setSoftwareLimit] = useState('');\r\n    const [meterialLimit, setMeterialLimit] = useState('');\r\n    const [announceLimit, setAnnounceLimit] = useState('');\r\n    useEffect(() => {\r\n        handleParam()\r\n    }, [])\r\n    useEffect(() => {\r\n        paramSystem.size !== 0 && setWorkLimit(paramSystem[4].keyValue)\r\n        paramSystem.size !== 0 && setTaskLimit(paramSystem[5].keyValue)\r\n        paramSystem.size !== 0 && setSoftwareLimit(paramSystem[3].keyValue)\r\n        paramSystem.size !== 0 && setMeterialLimit(paramSystem[2].keyValue)\r\n        paramSystem.size !== 0 && setAnnounceLimit(paramSystem[1].keyValue)\r\n    }, [paramSystem])\r\n    return (\r\n        <div\r\n            style={{ width: \"100%\", marginTop: \"20px\"}}\r\n        >\r\n            <Card title = \"清除说明\" style={{ padding: \"10px 10px\", margin: \"20px 20px\"}}>\r\n                <p>该功能是用于删除教师在批量下载学生作业时所产生的打包临时文件</p>\r\n                <br/>\r\n                <p>删除时只会删除临时文件</p>\r\n                <br/>\r\n                <p>不会对学生作业产生影响</p>\r\n                <br/>\r\n                <p>删除的好处是节约系统硬盘空间</p>\r\n                <br/>\r\n                <Button\r\n                    type = \"primary\"\r\n                    onClick={()=>{\r\n                        handleAdminClearData()\r\n                    }}\r\n                >\r\n                    确认清除\r\n                </Button>\r\n            </Card>\r\n            <Card title = \"导入说明\" style={{ padding: \"10px 10px\", margin: \"20px 20px\"}}>\r\n                <p>若要导入学生信息,只需要在学生信息中点击批量导入,然后选择相应的学生文件。</p>\r\n                <br/>\r\n                <p>教师的导入和学生的一样。</p>\r\n                <br/>\r\n                <p>课程的导入是下载课程导入模板，然后将课程信息按模板格式填写后导入。</p>\r\n                <br/>\r\n                <span><span>教师或学生导入模板</span><a download=\"teacherOrStudent模板\" style={{marginLeft: \"20px\"}} href={'http://172.22.4.2:80/lab/teacherOrStudent.xls'}>teacherOrStudent.xls</a></span>\r\n                <br/>\r\n                <span><span>课程导入模板</span><a download=\"course模板\" style={{marginLeft: \"20px\"}} href={'http://172.22.4.2:80/lab/course.xls'}>course.xls</a></span>\r\n\r\n            </Card>\r\n\r\n            <Card title = \"上传大小限制调节\" style={{ padding: \"10px 10px\", margin: \"20px 20px\"}}>\r\n                <p>作业，资料，软件，公告，附件上传大小限制可调节，范围从5MB-5120MB（5G）。</p>\r\n                {/* 作业上传 */}\r\n                <div style={{marginTop: '1rem'}}>\r\n                    <p>上传作业大小限制（单位MB）：</p>\r\n                    <Row style={{display: 'flex'}}>\r\n                        <Col span={12}>\r\n                        <Slider\r\n                            min={5}\r\n                            max={5120}\r\n                            onChange={(e) => setWorkLimit(e)}\r\n                            value={workLimit}\r\n                        />\r\n                        </Col>\r\n                        <Col span={4}>\r\n                        <InputNumber\r\n                            min={5}\r\n                            max={5120}\r\n                            style={{ margin: '0 16px' }}\r\n                            value={workLimit}\r\n                            onChange={(e) => setWorkLimit(e)}\r\n                        />\r\n                        </Col>\r\n                        <Button\r\n                            onClick={() => {modifyParam({'key_name': 'work_file_max_size', 'key_value': workLimit})}}\r\n                        >确认修改</Button>\r\n                    </Row>  \r\n                </div> \r\n                {/* 资料上传 */}\r\n                <div style={{marginTop: '1rem'}}>\r\n                    <p>上传资料大小限制（单位MB）：</p>\r\n                    <Row style={{display: 'flex'}}>\r\n                        <Col span={12}>\r\n                        <Slider\r\n                            min={5}\r\n                            max={5120}\r\n                            onChange={(e) => setMeterialLimit(e)}\r\n                            value={meterialLimit}\r\n                        />\r\n                        </Col>\r\n                        <Col span={4}>\r\n                        <InputNumber\r\n                            min={5}\r\n                            max={5120}\r\n                            style={{ margin: '0 16px' }}\r\n                            value={meterialLimit}\r\n                            onChange={(e) => setMeterialLimit(e)}\r\n                        />\r\n                        </Col>\r\n                        <Button\r\n                            onClick={() => {modifyParam({'key_name': 'material_file_max_size', 'key_value': meterialLimit})}}\r\n                        >确认修改</Button>\r\n                    </Row>  \r\n                </div> \r\n                {/* 软件上传 */}\r\n                <div style={{marginTop: '1rem'}}>\r\n                    <p>上传软件大小限制（单位MB）：</p>\r\n                    <Row style={{display: 'flex'}}>\r\n                        <Col span={12}>\r\n                        <Slider\r\n                            min={5}\r\n                            max={5120}\r\n                            onChange={(e) => setSoftwareLimit(e)}\r\n                            value={softwareLimit}\r\n                        />\r\n                        </Col>\r\n                        <Col span={4}>\r\n                        <InputNumber\r\n                            min={5}\r\n                            max={5120}\r\n                            style={{ margin: '0 16px' }}\r\n                            value={softwareLimit}\r\n                            onChange={(e) => setSoftwareLimit(e)}\r\n                        />\r\n                        </Col>\r\n                        <Button\r\n                            onClick={() => {modifyParam({'key_name': 'software_file_max_size', 'key_value': softwareLimit})}}\r\n                        >确认修改</Button>\r\n                    </Row>  \r\n                </div> \r\n                {/* 公告上传 */}\r\n                <div style={{marginTop: '1rem'}}>\r\n                    <p>上传公告大小限制（单位MB）：</p>\r\n                    <Row style={{display: 'flex'}}>\r\n                        <Col span={12}>\r\n                        <Slider\r\n                            min={5}\r\n                            max={5120}\r\n                            onChange={(e) => setAnnounceLimit(e)}\r\n                            value={announceLimit}\r\n                        />\r\n                        </Col>\r\n                        <Col span={4}>\r\n                        <InputNumber\r\n                            min={5}\r\n                            max={5120}\r\n                            style={{ margin: '0 16px' }}\r\n                            value={announceLimit}\r\n                            onChange={(e) => setAnnounceLimit(e)}\r\n                        />\r\n                        </Col>\r\n                        <Button\r\n                            onClick={() => {modifyParam({'key_name': 'announce_file_max_size', 'key_value': announceLimit})}}\r\n                        >确认修改</Button>\r\n                    </Row>  \r\n                </div> \r\n                {/* 附件上传 */}\r\n                <div style={{marginTop: '1rem'}}>\r\n                    <p>上传附件大小限制（单位MB）：</p>\r\n                    <Row style={{display: 'flex'}}>\r\n                        <Col span={12}>\r\n                        <Slider\r\n                            min={5}\r\n                            max={5120}\r\n                            onChange={(e) => setTaskLimit(e)}\r\n                            value={taskLimit}\r\n                        />\r\n                        </Col>\r\n                        <Col span={4}>\r\n                        <InputNumber\r\n                            min={5}\r\n                            max={5120}\r\n                            style={{ margin: '0 16px' }}\r\n                            value={taskLimit}\r\n                            onChange={(e) => setTaskLimit(e)}\r\n                        />\r\n                        </Col>\r\n                        <Button\r\n                            onClick={() => {modifyParam({'key_name': 'task_file_max_size', 'key_value': taskLimit})}}\r\n                        >确认修改</Button>\r\n                    </Row>  \r\n                </div> \r\n            </Card>\r\n        </div>\r\n    )\r\n\r\n};\r\nexport default connect(\r\n    state => ({\r\n        paramSystem: state.getIn([\"admin\", \"userManage\", \"paramSystem\"]),\r\n        adminTotal: state.getIn([\"admin\", \"userManage\", \"adminTotal\"]),\r\n        adminStudentData: state.getIn([\"admin\", \"userManage\", \"adminStudentData\"]),\r\n    }),\r\n    dispatch => ({\r\n        handleAdminClearData(){\r\n            dispatch(admin.adminClearData())\r\n        },\r\n        handleParam() {\r\n            dispatch({type: FETCH_PARAM})\r\n        },\r\n        modifyParam(args) {\r\n            dispatch(admin.modifyParam(args))\r\n        }\r\n    }),\r\n)(DataMana);"]},"metadata":{},"sourceType":"module"}