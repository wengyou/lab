{"ast":null,"code":"import _toConsumableArray from\"C:\\\\projects\\\\lab\\\\lab_2.0\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import{fromJS}from\"immutable\";import*as constants from\"../../../constants/actionTypes\";var defaultState=fromJS({adminData:[],adminTeacherData:[],adminStudentData:[],adminRegisterUserData:[],adminTotal:\"\",registerUserTotal:\"\",studentTotal:\"\",teacherTotal:\"\",temp:'',addTeacherFlag:true,addAdminFlag:true,addStudentFlag:true,modifyAdminTemp:'',modifyTeacherTemp:'',modifyStudentTemp:'',teacherPage:\"\",studentPage:\"\",studentSearchFlag:false,teacherSearchFlag:false,paramSystem:[],addVisible:false});export default(function(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:defaultState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){//获取注册用户信息\ncase constants.FETCH_REGISTER_DATA_SUCCESS:return state.merge({adminRegisterUserData:action.payload.items,registerUserTotal:action.payload.total});//批量授权\ncase constants.AGREE_REGISTER_SUCCESS:return state.set(\"temp\",new Date());//获取学生数据\ncase constants.FETCH_STUDENT_DATA_SUCCESS:return state.merge({adminStudentData:action.payload.items,studentTotal:action.payload.total,studentPage:action.payload.page});//添加学生\ncase constants.ADD_NEW_STUDENT_SUCCESS:var payloadS=action.payloadS,newDataS=action.newDataS;var dataS=[newDataS].concat(_toConsumableArray(payloadS));dataS.pop();return state.merge({adminStudentData:dataS,addStudentFlag:false,addVisible:false});//删除学生\ncase constants.DELETE_STUDENT_SUCCESS:return state.set(\"temp\",new Date());//导入学生\ncase constants.IMPORT_USER_success:return state.set(\"temp\",new Date());//修改学生\ncase constants.MODIFY_STUDENT_SUCCESS:return state.set(\"modifyStudentTemp\",new Date());//搜索学生\ncase constants.SEARCH_STUDENT_SUCCESS:return state.merge({adminStudentData:action.payload.items,studentTotal:action.payload.total,studentPage:action.payload.page,studentSearchFlag:true});//获取管理员数据\ncase constants.FETCH_ADMINISTRATOR_DATA_SUCCESS:return state.merge({adminData:action.payload.items,adminTotal:action.payload.total});//添加管理员信息\ncase constants.ADD_NEW_ADMIN_SUCCESS:var payloadA=action.payloadA,newDataA=action.newDataA;var dataA=[newDataA].concat(_toConsumableArray(payloadA));dataA.pop();return state.merge({adminData:dataA,addAdminFlag:false,addVisible:false});//修改管理员信息\ncase constants.MODIFY_ADMIN_SUCCESS:return state.set(\"modifyAdminTemp\",new Date());//获取老师数据\ncase constants.FETCH_TEACHER_RES_SUCCESS:return state.merge({adminTeacherData:action.payload.items,teacherTotal:action.payload.total,teacherPage:action.payload.page});//添加老师\ncase constants.ADD_NEW_TEACHER_SUCCESS:var payload=action.payload,newData=action.newData;var data=[newData].concat(_toConsumableArray(payload));data.pop();console.log(data);return state.merge({adminTeacherData:data,addTeacherFlag:false});//修改教师信息\ncase constants.MODIFY_TEACHER_SUCCESS:return state.set(\"modifyTeacherTemp\",new Date());//搜索老师\ncase constants.SEARCH_TEACHER_SUCCESS:return state.merge({adminTeacherData:action.payload.items,teacherTotal:action.payload.total,teacherPage:action.payload.page,teacherSearchFlag:true});//删除老师\ncase constants.DELETE_TEACHER_SUCCESS:return state.set(\"temp\",new Date());//删除注册用户\ncase constants.DELETE_REGISTER_USER_SUCCESS:return state.set(\"temp\",new Date());//获取系统参数\ncase constants.FETCH_PARAM_SUCCESS:return state.merge({paramSystem:action.payload});default:return state;}});","map":{"version":3,"sources":["C:/projects/lab/lab_2.0/src/redux/reducers/adminMana/userManage.js"],"names":["fromJS","constants","defaultState","adminData","adminTeacherData","adminStudentData","adminRegisterUserData","adminTotal","registerUserTotal","studentTotal","teacherTotal","temp","addTeacherFlag","addAdminFlag","addStudentFlag","modifyAdminTemp","modifyTeacherTemp","modifyStudentTemp","teacherPage","studentPage","studentSearchFlag","teacherSearchFlag","paramSystem","addVisible","state","action","type","FETCH_REGISTER_DATA_SUCCESS","merge","payload","items","total","AGREE_REGISTER_SUCCESS","set","Date","FETCH_STUDENT_DATA_SUCCESS","page","ADD_NEW_STUDENT_SUCCESS","payloadS","newDataS","dataS","pop","DELETE_STUDENT_SUCCESS","IMPORT_USER_success","MODIFY_STUDENT_SUCCESS","SEARCH_STUDENT_SUCCESS","FETCH_ADMINISTRATOR_DATA_SUCCESS","ADD_NEW_ADMIN_SUCCESS","payloadA","newDataA","dataA","MODIFY_ADMIN_SUCCESS","FETCH_TEACHER_RES_SUCCESS","ADD_NEW_TEACHER_SUCCESS","newData","data","console","log","MODIFY_TEACHER_SUCCESS","SEARCH_TEACHER_SUCCESS","DELETE_TEACHER_SUCCESS","DELETE_REGISTER_USER_SUCCESS","FETCH_PARAM_SUCCESS"],"mappings":"8JAAA,OAASA,MAAT,KAAuB,WAAvB,CACA,MAAO,GAAKC,CAAAA,SAAZ,KAA2B,gCAA3B,CAEA,GAAMC,CAAAA,YAAY,CAAGF,MAAM,CAAC,CACxBG,SAAS,CAAE,EADa,CAExBC,gBAAgB,CAAE,EAFM,CAGxBC,gBAAgB,CAAE,EAHM,CAIxBC,qBAAqB,CAAE,EAJC,CAKxBC,UAAU,CAAE,EALY,CAMxBC,iBAAiB,CAAE,EANK,CAOxBC,YAAY,CAAE,EAPU,CAQxBC,YAAY,CAAE,EARU,CASxBC,IAAI,CAAE,EATkB,CAUxBC,cAAc,CAAE,IAVQ,CAWxBC,YAAY,CAAE,IAXU,CAYxBC,cAAc,CAAE,IAZQ,CAaxBC,eAAe,CAAE,EAbO,CAcxBC,iBAAiB,CAAE,EAdK,CAexBC,iBAAiB,CAAE,EAfK,CAgBxBC,WAAW,CAAE,EAhBW,CAiBxBC,WAAW,CAAE,EAjBW,CAkBxBC,iBAAiB,CAAE,KAlBK,CAmBxBC,iBAAiB,CAAE,KAnBK,CAoBxBC,WAAW,CAAE,EApBW,CAqBxBC,UAAU,CAAE,KArBY,CAAD,CAA3B,CAwBA,eAAe,UAAkC,IAAjCC,CAAAA,KAAiC,2DAAzBtB,YAAyB,IAAXuB,CAAAA,MAAW,2CAC7C,OAAQA,MAAM,CAACC,IAAf,EACI;AACA,IAAKzB,CAAAA,SAAS,CAAC0B,2BAAf,CACI,MAAOH,CAAAA,KAAK,CAACI,KAAN,CAAY,CACftB,qBAAqB,CAAEmB,MAAM,CAACI,OAAP,CAAeC,KADvB,CAEftB,iBAAiB,CAAEiB,MAAM,CAACI,OAAP,CAAeE,KAFnB,CAAZ,CAAP,CAIA;AACJ,IAAK9B,CAAAA,SAAS,CAAC+B,sBAAf,CACI,MAAOR,CAAAA,KAAK,CAACS,GAAN,CAAU,MAAV,CAAkB,GAAIC,CAAAA,IAAJ,EAAlB,CAAP,CACJ;AACA,IAAKjC,CAAAA,SAAS,CAACkC,0BAAf,CACI,MAAOX,CAAAA,KAAK,CAACI,KAAN,CAAY,CACfvB,gBAAgB,CAAEoB,MAAM,CAACI,OAAP,CAAeC,KADlB,CAEfrB,YAAY,CAAEgB,MAAM,CAACI,OAAP,CAAeE,KAFd,CAGfZ,WAAW,CAAEM,MAAM,CAACI,OAAP,CAAeO,IAHb,CAAZ,CAAP,CAKA;AACJ,IAAKnC,CAAAA,SAAS,CAACoC,uBAAf,IACWC,CAAAA,QADX,CACkCb,MADlC,CACWa,QADX,CACqBC,QADrB,CACkCd,MADlC,CACqBc,QADrB,CAEI,GAAMC,CAAAA,KAAK,EAAID,QAAJ,4BAAiBD,QAAjB,EAAX,CACAE,KAAK,CAACC,GAAN,GACA,MAAOjB,CAAAA,KAAK,CAACI,KAAN,CAAY,CACfvB,gBAAgB,CAAEmC,KADH,CAEf1B,cAAc,CAAE,KAFD,CAGfS,UAAU,CAAE,KAHG,CAAZ,CAAP,CAKA;AACJ,IAAKtB,CAAAA,SAAS,CAACyC,sBAAf,CACI,MAAOlB,CAAAA,KAAK,CAACS,GAAN,CAAU,MAAV,CAAiB,GAAIC,CAAAA,IAAJ,EAAjB,CAAP,CACA;AACJ,IAAKjC,CAAAA,SAAS,CAAC0C,mBAAf,CACI,MAAOnB,CAAAA,KAAK,CAACS,GAAN,CAAU,MAAV,CAAkB,GAAIC,CAAAA,IAAJ,EAAlB,CAAP,CACA;AACJ,IAAKjC,CAAAA,SAAS,CAAC2C,sBAAf,CACI,MAAOpB,CAAAA,KAAK,CAACS,GAAN,CAAU,mBAAV,CAA+B,GAAIC,CAAAA,IAAJ,EAA/B,CAAP,CACA;AACJ,IAAKjC,CAAAA,SAAS,CAAC4C,sBAAf,CACI,MAAOrB,CAAAA,KAAK,CAACI,KAAN,CAAY,CACfvB,gBAAgB,CAAEoB,MAAM,CAACI,OAAP,CAAeC,KADlB,CAEfrB,YAAY,CAAEgB,MAAM,CAACI,OAAP,CAAeE,KAFd,CAGfZ,WAAW,CAAEM,MAAM,CAACI,OAAP,CAAeO,IAHb,CAIfhB,iBAAiB,CAAE,IAJJ,CAAZ,CAAP,CAMJ;AACA,IAAKnB,CAAAA,SAAS,CAAC6C,gCAAf,CACI,MAAOtB,CAAAA,KAAK,CAACI,KAAN,CAAY,CACfzB,SAAS,CAAEsB,MAAM,CAACI,OAAP,CAAeC,KADX,CAEfvB,UAAU,CAAEkB,MAAM,CAACI,OAAP,CAAeE,KAFZ,CAAZ,CAAP,CAIA;AACJ,IAAK9B,CAAAA,SAAS,CAAC8C,qBAAf,IACYC,CAAAA,QADZ,CACmCvB,MADnC,CACYuB,QADZ,CACsBC,QADtB,CACmCxB,MADnC,CACsBwB,QADtB,CAEI,GAAMC,CAAAA,KAAK,EAAID,QAAJ,4BAAiBD,QAAjB,EAAX,CACAE,KAAK,CAACT,GAAN,GACA,MAAOjB,CAAAA,KAAK,CAACI,KAAN,CAAY,CACfzB,SAAS,CAAE+C,KADI,CAEfrC,YAAY,CAAE,KAFC,CAGfU,UAAU,CAAC,KAHI,CAAZ,CAAP,CAKA;AACJ,IAAKtB,CAAAA,SAAS,CAACkD,oBAAf,CACI,MAAO3B,CAAAA,KAAK,CAACS,GAAN,CAAU,iBAAV,CAA6B,GAAIC,CAAAA,IAAJ,EAA7B,CAAP,CACA;AACJ,IAAKjC,CAAAA,SAAS,CAACmD,yBAAf,CACI,MAAO5B,CAAAA,KAAK,CAACI,KAAN,CAAY,CACfxB,gBAAgB,CAAEqB,MAAM,CAACI,OAAP,CAAeC,KADlB,CAEfpB,YAAY,CAAEe,MAAM,CAACI,OAAP,CAAeE,KAFd,CAGfb,WAAW,CAAEO,MAAM,CAACI,OAAP,CAAeO,IAHb,CAAZ,CAAP,CAKA;AACJ,IAAKnC,CAAAA,SAAS,CAACoD,uBAAf,IACYxB,CAAAA,OADZ,CACiCJ,MADjC,CACYI,OADZ,CACqByB,OADrB,CACiC7B,MADjC,CACqB6B,OADrB,CAEI,GAAMC,CAAAA,IAAI,EAAID,OAAJ,4BAAgBzB,OAAhB,EAAV,CACA0B,IAAI,CAACd,GAAL,GACAe,OAAO,CAACC,GAAR,CAAYF,IAAZ,EACA,MAAO/B,CAAAA,KAAK,CAACI,KAAN,CAAY,CACfxB,gBAAgB,CAAEmD,IADH,CAEf3C,cAAc,CAAE,KAFD,CAAZ,CAAP,CAIA;AACJ,IAAKX,CAAAA,SAAS,CAACyD,sBAAf,CACI,MAAOlC,CAAAA,KAAK,CAACS,GAAN,CAAU,mBAAV,CAA+B,GAAIC,CAAAA,IAAJ,EAA/B,CAAP,CACA;AACJ,IAAKjC,CAAAA,SAAS,CAAC0D,sBAAf,CACI,MAAOnC,CAAAA,KAAK,CAACI,KAAN,CAAY,CACfxB,gBAAgB,CAAEqB,MAAM,CAACI,OAAP,CAAeC,KADlB,CAEfpB,YAAY,CAAEe,MAAM,CAACI,OAAP,CAAeE,KAFd,CAGfb,WAAW,CAAEO,MAAM,CAACI,OAAP,CAAeO,IAHb,CAIff,iBAAiB,CAAE,IAJJ,CAAZ,CAAP,CAMA;AACJ,IAAKpB,CAAAA,SAAS,CAAC2D,sBAAf,CACI,MAAOpC,CAAAA,KAAK,CAACS,GAAN,CAAU,MAAV,CAAiB,GAAIC,CAAAA,IAAJ,EAAjB,CAAP,CACA;AACJ,IAAKjC,CAAAA,SAAS,CAAC4D,4BAAf,CACI,MAAOrC,CAAAA,KAAK,CAACS,GAAN,CAAU,MAAV,CAAkB,GAAIC,CAAAA,IAAJ,EAAlB,CAAP,CACA;AACJ,IAAKjC,CAAAA,SAAS,CAAC6D,mBAAf,CACI,MAAOtC,CAAAA,KAAK,CAACI,KAAN,CAAY,CACfN,WAAW,CAAEG,MAAM,CAACI,OADL,CAAZ,CAAP,CAGJ,QACI,MAAOL,CAAAA,KAAP,CAvGR,CA0GH,CA3GD","sourcesContent":["import { fromJS } from \"immutable\";\r\nimport * as constants from \"../../../constants/actionTypes\"\r\n\r\nconst defaultState = fromJS({\r\n    adminData: [],\r\n    adminTeacherData: [],\r\n    adminStudentData: [],\r\n    adminRegisterUserData: [],\r\n    adminTotal: \"\",\r\n    registerUserTotal: \"\",\r\n    studentTotal: \"\",\r\n    teacherTotal: \"\",\r\n    temp: '',\r\n    addTeacherFlag: true,\r\n    addAdminFlag: true,\r\n    addStudentFlag: true,\r\n    modifyAdminTemp: '',\r\n    modifyTeacherTemp: '',\r\n    modifyStudentTemp: '',\r\n    teacherPage: \"\",\r\n    studentPage: \"\",\r\n    studentSearchFlag: false,\r\n    teacherSearchFlag: false,\r\n    paramSystem: [],\r\n    addVisible: false,\r\n});\r\n\r\nexport default (state = defaultState, action) => {\r\n    switch (action.type) {\r\n        //获取注册用户信息\r\n        case constants.FETCH_REGISTER_DATA_SUCCESS:\r\n            return state.merge({\r\n                adminRegisterUserData: action.payload.items,\r\n                registerUserTotal: action.payload.total\r\n            });\r\n            //批量授权\r\n        case constants.AGREE_REGISTER_SUCCESS:\r\n            return state.set(\"temp\", new Date());\r\n        //获取学生数据\r\n        case constants.FETCH_STUDENT_DATA_SUCCESS:\r\n            return state.merge({\r\n                adminStudentData: action.payload.items,\r\n                studentTotal: action.payload.total,\r\n                studentPage: action.payload.page,\r\n            });\r\n            //添加学生\r\n        case constants.ADD_NEW_STUDENT_SUCCESS:\r\n            const {payloadS, newDataS } = action;\r\n            const dataS = [newDataS, ...payloadS];\r\n            dataS.pop();\r\n            return state.merge({\r\n                adminStudentData: dataS,\r\n                addStudentFlag: false,\r\n                addVisible: false\r\n            });\r\n            //删除学生\r\n        case constants.DELETE_STUDENT_SUCCESS:\r\n            return state.set(\"temp\",new Date());\r\n            //导入学生\r\n        case constants.IMPORT_USER_success:\r\n            return state.set(\"temp\", new Date());\r\n            //修改学生\r\n        case constants.MODIFY_STUDENT_SUCCESS:\r\n            return state.set(\"modifyStudentTemp\", new Date());\r\n            //搜索学生\r\n        case constants.SEARCH_STUDENT_SUCCESS:\r\n            return state.merge({\r\n                adminStudentData: action.payload.items,\r\n                studentTotal: action.payload.total,\r\n                studentPage: action.payload.page,\r\n                studentSearchFlag: true\r\n            });\r\n        //获取管理员数据\r\n        case constants.FETCH_ADMINISTRATOR_DATA_SUCCESS:\r\n            return state.merge({\r\n                adminData: action.payload.items,\r\n                adminTotal: action.payload.total\r\n            });\r\n            //添加管理员信息\r\n        case constants.ADD_NEW_ADMIN_SUCCESS:\r\n            const { payloadA, newDataA } = action;\r\n            const dataA = [newDataA, ...payloadA];\r\n            dataA.pop();\r\n            return state.merge({\r\n                adminData: dataA,\r\n                addAdminFlag: false,\r\n                addVisible:false\r\n            });\r\n            //修改管理员信息\r\n        case constants.MODIFY_ADMIN_SUCCESS:\r\n            return state.set(\"modifyAdminTemp\", new Date());\r\n            //获取老师数据\r\n        case constants.FETCH_TEACHER_RES_SUCCESS:\r\n            return state.merge({\r\n                adminTeacherData: action.payload.items,\r\n                teacherTotal: action.payload.total,\r\n                teacherPage: action.payload.page\r\n            });\r\n            //添加老师\r\n        case constants.ADD_NEW_TEACHER_SUCCESS:\r\n            const { payload, newData } = action;\r\n            const data = [newData, ...payload];\r\n            data.pop();\r\n            console.log(data)\r\n            return state.merge({\r\n                adminTeacherData: data,\r\n                addTeacherFlag: false\r\n            });\r\n            //修改教师信息\r\n        case constants.MODIFY_TEACHER_SUCCESS:\r\n            return state.set(\"modifyTeacherTemp\", new Date());\r\n            //搜索老师\r\n        case constants.SEARCH_TEACHER_SUCCESS:\r\n            return state.merge({\r\n                adminTeacherData: action.payload.items,\r\n                teacherTotal: action.payload.total,\r\n                teacherPage: action.payload.page,\r\n                teacherSearchFlag: true\r\n            });\r\n            //删除老师\r\n        case constants.DELETE_TEACHER_SUCCESS:\r\n            return state.set(\"temp\",new Date());\r\n            //删除注册用户\r\n        case constants.DELETE_REGISTER_USER_SUCCESS:\r\n            return state.set(\"temp\", new Date());\r\n            //获取系统参数\r\n        case constants.FETCH_PARAM_SUCCESS:\r\n            return state.merge({\r\n                paramSystem: action.payload\r\n            });\r\n        default:\r\n            return state;\r\n\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}