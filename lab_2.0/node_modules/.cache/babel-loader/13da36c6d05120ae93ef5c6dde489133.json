{"ast":null,"code":"import \"antd/es/message/style/css\";\nimport _message from \"antd/es/message\";\nimport _regeneratorRuntime from \"C:\\\\projects\\\\lab\\\\lab_2.0\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\n\nvar _marked = /*#__PURE__*/_regeneratorRuntime.mark(adminQueryLabCourse),\n    _marked2 = /*#__PURE__*/_regeneratorRuntime.mark(adminAddlabCourse),\n    _marked3 = /*#__PURE__*/_regeneratorRuntime.mark(adminDeletelabCourse),\n    _marked4 = /*#__PURE__*/_regeneratorRuntime.mark(adminImportlabCourse),\n    _marked5 = /*#__PURE__*/_regeneratorRuntime.mark(adminQueryStudentCourse),\n    _marked6 = /*#__PURE__*/_regeneratorRuntime.mark(adminDeleteTeacherCourse),\n    _marked7 = /*#__PURE__*/_regeneratorRuntime.mark(deleteStudentCourse),\n    _marked8 = /*#__PURE__*/_regeneratorRuntime.mark(rootLabCourse);\n\nimport { takeEvery, call, put } from \"redux-saga/effects\";\nimport Service from \"../../../lib/Service\";\nimport { ADMIN_ADD_LABCOURSE, ADMIN_ADD_LABCOURSE_SUCCESS, ADMIN_DELETE_LABCOURSE, ADMIN_DELETE_LABCOURSE_SUCCESS, ADMIN_DELETE_TEACHERCOURSES, ADMIN_DELETE_TEACHERCOURSES_SUCCESS, ADMIN_IMPORT_LABCOURSE, ADMIN_IMPORT_LABCOURSE_SUCCESS, ADMIN_QUERY_LABCOURSE, ADMIN_QUERY_LABCOURSE_SUCCESS, ADMIN_QUERY_STUDENTCOURSE, ADMIN_QUERY_STUDENTCOURSE_SUCCESS, DELETE_STUDENTCOURSE_SUCCESS, DELETE_STUDENTCOURSE } from \"../../../constants/actionTypes\";\n\nfunction adminQueryLabCourse(data) {\n  var _data$args, userId, page, courseName, url, res;\n\n  return _regeneratorRuntime.wrap(function adminQueryLabCourse$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _data$args = data.args, userId = _data$args.userId, page = _data$args.page, courseName = _data$args.courseName;\n          url = courseName ? \"course/allCourse?page=\".concat(page, \"&userId=\").concat(userId, \"&courseName=\").concat(courseName) : \"course/allCourse?page=\".concat(page, \"&userId=\").concat(userId);\n          _context.next = 5;\n          return call(Service.get, url);\n\n        case 5:\n          res = _context.sent;\n          _context.t0 = res.data.error_code;\n          _context.next = _context.t0 === 0 ? 9 : 11;\n          break;\n\n        case 9:\n          _context.next = 11;\n          return put({\n            type: ADMIN_QUERY_LABCOURSE_SUCCESS,\n            payload: res.data.data\n          });\n\n        case 11:\n          _context.next = 15;\n          break;\n\n        case 13:\n          _context.prev = 13;\n          _context.t1 = _context[\"catch\"](0);\n\n        case 15:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked, null, [[0, 13]]);\n}\n\nfunction adminAddlabCourse(args) {\n  var _args$args, courseName, courseNumber, userId, data, res;\n\n  return _regeneratorRuntime.wrap(function adminAddlabCourse$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          _args$args = args.args, courseName = _args$args.courseName, courseNumber = _args$args.courseNumber, userId = _args$args.userId;\n          data = {\n            courseName: courseName,\n            courseNumber: courseNumber,\n            userId: userId\n          };\n          _context2.next = 5;\n          return call(Service.post, \"admin/addCourse\", data);\n\n        case 5:\n          res = _context2.sent;\n          _context2.t0 = res.data.error_code;\n          _context2.next = _context2.t0 === 0 ? 9 : _context2.t0 === -1 ? 15 : _context2.t0 === 1 ? 17 : 19;\n          break;\n\n        case 9:\n          _message.success(\"添加成功~\");\n\n          _context2.next = 12;\n          return put({\n            type: ADMIN_ADD_LABCOURSE_SUCCESS\n          });\n\n        case 12:\n          _context2.next = 14;\n          return call(Service.get, \"course/allCourse?page=1&userId=\".concat(userId));\n\n        case 14:\n          return _context2.abrupt(\"break\", 20);\n\n        case 15:\n          _message.error(\"添加失败！\");\n\n          return _context2.abrupt(\"break\", 20);\n\n        case 17:\n          _message.error(\"权限不足！\");\n\n          return _context2.abrupt(\"break\", 20);\n\n        case 19:\n          return _context2.abrupt(\"return\", 0);\n\n        case 20:\n          _context2.next = 24;\n          break;\n\n        case 22:\n          _context2.prev = 22;\n          _context2.t1 = _context2[\"catch\"](0);\n\n        case 24:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _marked2, null, [[0, 22]]);\n}\n\nfunction adminDeletelabCourse(args) {\n  var courseIdList, formData, data, res;\n  return _regeneratorRuntime.wrap(function adminDeletelabCourse$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          courseIdList = args.args.courseIdList;\n          formData = new FormData();\n          formData.append(\"courseIdList\", courseIdList);\n          data = {\n            courseIdList: courseIdList\n          };\n          _context3.next = 7;\n          return call(Service.post, \"admin/deleteCourse\", formData);\n\n        case 7:\n          res = _context3.sent;\n          _context3.t0 = res.data.error_code;\n          _context3.next = _context3.t0 === 0 ? 11 : _context3.t0 === -1 ? 15 : _context3.t0 === 1 ? 17 : 19;\n          break;\n\n        case 11:\n          _message.success(\"删除成功~\");\n\n          _context3.next = 14;\n          return put({\n            type: ADMIN_DELETE_LABCOURSE_SUCCESS\n          });\n\n        case 14:\n          return _context3.abrupt(\"break\", 20);\n\n        case 15:\n          _message.error(\"删除失败！\");\n\n          return _context3.abrupt(\"break\", 20);\n\n        case 17:\n          _message.error(\"权限不足！\");\n\n          return _context3.abrupt(\"break\", 20);\n\n        case 19:\n          return _context3.abrupt(\"return\", 0);\n\n        case 20:\n          _context3.next = 24;\n          break;\n\n        case 22:\n          _context3.prev = 22;\n          _context3.t1 = _context3[\"catch\"](0);\n\n        case 24:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, _marked3, null, [[0, 22]]);\n}\n\nfunction adminImportlabCourse(args) {\n  var _args$args2, userId, file, formData, res;\n\n  return _regeneratorRuntime.wrap(function adminImportlabCourse$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.prev = 0;\n          _args$args2 = args.args, userId = _args$args2.userId, file = _args$args2.file;\n          formData = new FormData();\n          formData.append(\"userId\", userId);\n          formData.append(\"file\", file[0]);\n          _context4.next = 7;\n          return call(Service.post, \"admin/importCourse\", formData);\n\n        case 7:\n          res = _context4.sent;\n          _context4.t0 = res.data.error_code;\n          _context4.next = _context4.t0 === 0 ? 11 : _context4.t0 === -1 ? 15 : _context4.t0 === 1 ? 17 : 19;\n          break;\n\n        case 11:\n          _message.success(res.data.message);\n\n          _context4.next = 14;\n          return put({\n            type: ADMIN_IMPORT_LABCOURSE_SUCCESS\n          });\n\n        case 14:\n          return _context4.abrupt(\"break\", 20);\n\n        case 15:\n          _message.error(\"导入失败！\");\n\n          return _context4.abrupt(\"break\", 20);\n\n        case 17:\n          _message.error(\"权限不足！\");\n\n          return _context4.abrupt(\"break\", 20);\n\n        case 19:\n          return _context4.abrupt(\"return\", 0);\n\n        case 20:\n          _context4.next = 24;\n          break;\n\n        case 22:\n          _context4.prev = 22;\n          _context4.t1 = _context4[\"catch\"](0);\n\n        case 24:\n        case \"end\":\n          return _context4.stop();\n      }\n    }\n  }, _marked4, null, [[0, 22]]);\n}\n\nfunction adminQueryStudentCourse(data) {\n  var _data$args2, page, studentName, studentId, url, res;\n\n  return _regeneratorRuntime.wrap(function adminQueryStudentCourse$(_context5) {\n    while (1) {\n      switch (_context5.prev = _context5.next) {\n        case 0:\n          _context5.prev = 0;\n          _data$args2 = data.args, page = _data$args2.page, studentName = _data$args2.studentName, studentId = _data$args2.studentId;\n          url = \"admin/queryStudentCourse?page=\".concat(page, \"&studentName=\").concat(studentName, \"&studentId=\").concat(studentId);\n          _context5.next = 5;\n          return call(Service.get, url);\n\n        case 5:\n          res = _context5.sent;\n          _context5.t0 = res.data.error_code;\n          _context5.next = _context5.t0 === 0 ? 9 : 12;\n          break;\n\n        case 9:\n          _context5.next = 11;\n          return put({\n            type: ADMIN_QUERY_STUDENTCOURSE_SUCCESS,\n            payload: res.data.data\n          });\n\n        case 11:\n          return _context5.abrupt(\"break\", 13);\n\n        case 12:\n          return _context5.abrupt(\"return\", 0);\n\n        case 13:\n          _context5.next = 17;\n          break;\n\n        case 15:\n          _context5.prev = 15;\n          _context5.t1 = _context5[\"catch\"](0);\n\n        case 17:\n        case \"end\":\n          return _context5.stop();\n      }\n    }\n  }, _marked5, null, [[0, 15]]);\n}\n\nfunction adminDeleteTeacherCourse(args) {\n  var teacherCourseIdList, formData, res;\n  return _regeneratorRuntime.wrap(function adminDeleteTeacherCourse$(_context6) {\n    while (1) {\n      switch (_context6.prev = _context6.next) {\n        case 0:\n          _context6.prev = 0;\n          teacherCourseIdList = args.args.teacherCourseIdList;\n          formData = new FormData();\n          formData.append(\"teacherCourseIdList\", teacherCourseIdList);\n          _context6.next = 6;\n          return call(Service.post, \"admin/deleteTeacherCourses\", formData);\n\n        case 6:\n          res = _context6.sent;\n          _context6.t0 = res.data.error_code;\n          _context6.next = _context6.t0 === 0 ? 10 : _context6.t0 === -1 ? 14 : _context6.t0 === 1 ? 16 : 18;\n          break;\n\n        case 10:\n          _message.success(res.data.message);\n\n          _context6.next = 13;\n          return put({\n            type: ADMIN_DELETE_TEACHERCOURSES_SUCCESS\n          });\n\n        case 13:\n          return _context6.abrupt(\"break\", 19);\n\n        case 14:\n          _message.error(\"删除失败！\");\n\n          return _context6.abrupt(\"break\", 19);\n\n        case 16:\n          _message.error(\"权限不足！\");\n\n          return _context6.abrupt(\"break\", 19);\n\n        case 18:\n          return _context6.abrupt(\"return\", 0);\n\n        case 19:\n          _context6.next = 23;\n          break;\n\n        case 21:\n          _context6.prev = 21;\n          _context6.t1 = _context6[\"catch\"](0);\n\n        case 23:\n        case \"end\":\n          return _context6.stop();\n      }\n    }\n  }, _marked6, null, [[0, 21]]);\n}\n\nfunction deleteStudentCourse(args) {\n  var studentCourseIdList, formData, res;\n  return _regeneratorRuntime.wrap(function deleteStudentCourse$(_context7) {\n    while (1) {\n      switch (_context7.prev = _context7.next) {\n        case 0:\n          _context7.prev = 0;\n          studentCourseIdList = args.args.studentCourseIdList;\n          formData = new FormData();\n          formData.append(\"studentCourseIdList\", studentCourseIdList);\n          _context7.next = 6;\n          return call(Service.post, \"teacher/deleteStudentCourses\", formData);\n\n        case 6:\n          res = _context7.sent;\n          _context7.t0 = res.data.error_code;\n          _context7.next = _context7.t0 === 0 ? 10 : _context7.t0 === -1 ? 14 : _context7.t0 === 1 ? 16 : 18;\n          break;\n\n        case 10:\n          _message.success(res.data.message);\n\n          _context7.next = 13;\n          return put({\n            type: DELETE_STUDENTCOURSE_SUCCESS\n          });\n\n        case 13:\n          return _context7.abrupt(\"break\", 19);\n\n        case 14:\n          _message.error(\"删除失败！\");\n\n          return _context7.abrupt(\"break\", 19);\n\n        case 16:\n          _message.error(\"权限不足！\");\n\n          return _context7.abrupt(\"break\", 19);\n\n        case 18:\n          return _context7.abrupt(\"return\", 0);\n\n        case 19:\n          _context7.next = 23;\n          break;\n\n        case 21:\n          _context7.prev = 21;\n          _context7.t1 = _context7[\"catch\"](0);\n\n        case 23:\n        case \"end\":\n          return _context7.stop();\n      }\n    }\n  }, _marked7, null, [[0, 21]]);\n}\n\nexport default function rootLabCourse() {\n  return _regeneratorRuntime.wrap(function rootLabCourse$(_context8) {\n    while (1) {\n      switch (_context8.prev = _context8.next) {\n        case 0:\n          _context8.next = 2;\n          return takeEvery(ADMIN_QUERY_LABCOURSE, adminQueryLabCourse);\n\n        case 2:\n          _context8.next = 4;\n          return takeEvery(ADMIN_ADD_LABCOURSE, adminAddlabCourse);\n\n        case 4:\n          _context8.next = 6;\n          return takeEvery(ADMIN_DELETE_LABCOURSE, adminDeletelabCourse);\n\n        case 6:\n          _context8.next = 8;\n          return takeEvery(ADMIN_IMPORT_LABCOURSE, adminImportlabCourse);\n\n        case 8:\n          _context8.next = 10;\n          return takeEvery(ADMIN_QUERY_STUDENTCOURSE, adminQueryStudentCourse);\n\n        case 10:\n          _context8.next = 12;\n          return takeEvery(ADMIN_DELETE_TEACHERCOURSES, adminDeleteTeacherCourse);\n\n        case 12:\n          _context8.next = 14;\n          return takeEvery(DELETE_STUDENTCOURSE, deleteStudentCourse);\n\n        case 14:\n        case \"end\":\n          return _context8.stop();\n      }\n    }\n  }, _marked8);\n}","map":{"version":3,"sources":["C:/projects/lab/lab_2.0/src/redux/sagas/adminSagas/labCourse.js"],"names":["adminQueryLabCourse","adminAddlabCourse","adminDeletelabCourse","adminImportlabCourse","adminQueryStudentCourse","adminDeleteTeacherCourse","deleteStudentCourse","rootLabCourse","takeEvery","call","put","Service","ADMIN_ADD_LABCOURSE","ADMIN_ADD_LABCOURSE_SUCCESS","ADMIN_DELETE_LABCOURSE","ADMIN_DELETE_LABCOURSE_SUCCESS","ADMIN_DELETE_TEACHERCOURSES","ADMIN_DELETE_TEACHERCOURSES_SUCCESS","ADMIN_IMPORT_LABCOURSE","ADMIN_IMPORT_LABCOURSE_SUCCESS","ADMIN_QUERY_LABCOURSE","ADMIN_QUERY_LABCOURSE_SUCCESS","ADMIN_QUERY_STUDENTCOURSE","ADMIN_QUERY_STUDENTCOURSE_SUCCESS","DELETE_STUDENTCOURSE_SUCCESS","DELETE_STUDENTCOURSE","data","args","userId","page","courseName","url","get","res","error_code","type","payload","courseNumber","post","success","error","courseIdList","formData","FormData","append","file","message","studentName","studentId","teacherCourseIdList","studentCourseIdList"],"mappings":"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","sourcesContent":["import { takeEvery, call, put } from \"redux-saga/effects\";\r\nimport Service from \"../../../lib/Service\";\r\nimport {\r\n    ADMIN_ADD_LABCOURSE,\r\n    ADMIN_ADD_LABCOURSE_SUCCESS,\r\n    ADMIN_DELETE_LABCOURSE,\r\n    ADMIN_DELETE_LABCOURSE_SUCCESS,\r\n    ADMIN_DELETE_TEACHERCOURSES,\r\n    ADMIN_DELETE_TEACHERCOURSES_SUCCESS,\r\n    ADMIN_IMPORT_LABCOURSE,\r\n    ADMIN_IMPORT_LABCOURSE_SUCCESS,\r\n    ADMIN_QUERY_LABCOURSE,\r\n    ADMIN_QUERY_LABCOURSE_SUCCESS,\r\n    ADMIN_QUERY_STUDENTCOURSE,\r\n    ADMIN_QUERY_STUDENTCOURSE_SUCCESS,\r\n    DELETE_STUDENTCOURSE_SUCCESS,\r\n    DELETE_STUDENTCOURSE,\r\n\r\n} from \"../../../constants/actionTypes\";\r\nimport { message } from \"antd\";\r\n\r\nfunction* adminQueryLabCourse(data) {\r\n    try{\r\n        const { userId, page, courseName } = data.args;\r\n        const url = courseName ? `course/allCourse?page=${page}&userId=${userId}&courseName=${courseName}`:\r\n            `course/allCourse?page=${page}&userId=${userId}`\r\n        ;\r\n        const res = yield call(Service.get, url);\r\n        switch (res.data.error_code) {\r\n            case 0:\r\n                yield put({\r\n                    type: ADMIN_QUERY_LABCOURSE_SUCCESS,\r\n                    payload: res.data.data,\r\n                })\r\n        }\r\n    }\r\n    catch (e) {\r\n    }\r\n}\r\n\r\nfunction* adminAddlabCourse(args) {\r\n    try{\r\n        const { courseName, courseNumber, userId } = args.args;\r\n        const data = { courseName, courseNumber, userId };\r\n        const res = yield call(Service.post, \"admin/addCourse\", data );\r\n        switch (res.data.error_code) {\r\n            case 0:\r\n                message.success(\"添加成功~\");\r\n                yield put({\r\n                    type: ADMIN_ADD_LABCOURSE_SUCCESS,\r\n                });\r\n                yield call(Service.get, `course/allCourse?page=1&userId=${userId}`);\r\n                break;\r\n            case -1:\r\n                message.error(\"添加失败！\");\r\n                break;\r\n            case 1:\r\n                message.error(\"权限不足！\");\r\n                break;\r\n            default:\r\n                return 0;\r\n        }\r\n    }\r\n    catch (e) {\r\n    }\r\n}\r\nfunction* adminDeletelabCourse(args) {\r\n    try{\r\n        const { courseIdList } = args.args;\r\n        const formData = new FormData;\r\n        formData.append(\"courseIdList\", courseIdList);\r\n        const data = { courseIdList };\r\n        const res = yield call(Service.post, \"admin/deleteCourse\", formData );\r\n        switch (res.data.error_code) {\r\n            case 0:\r\n                message.success(\"删除成功~\");\r\n                yield put({\r\n                    type: ADMIN_DELETE_LABCOURSE_SUCCESS,\r\n                });\r\n                break;\r\n            case -1:\r\n                message.error(\"删除失败！\");\r\n                break;\r\n            case 1:\r\n                message.error(\"权限不足！\");\r\n                break;\r\n            default:\r\n                return 0;\r\n        }\r\n    }\r\n    catch (e) {\r\n    }\r\n}\r\nfunction* adminImportlabCourse(args) {\r\n    try{\r\n        const { userId, file } = args.args;\r\n        const formData = new FormData;\r\n        formData.append(\"userId\", userId);\r\n        formData.append(\"file\", file[0]);\r\n        const res = yield call(Service.post, \"admin/importCourse\", formData );\r\n        switch (res.data.error_code) {\r\n            case 0:\r\n                message.success(res.data.message);\r\n                yield put({\r\n                    type: ADMIN_IMPORT_LABCOURSE_SUCCESS,\r\n                });\r\n                break;\r\n            case -1:\r\n                message.error(\"导入失败！\");\r\n                break;\r\n            case 1:\r\n                message.error(\"权限不足！\");\r\n                break;\r\n            default:\r\n                return 0;\r\n        }\r\n    }\r\n    catch (e) {\r\n    }\r\n}\r\n\r\nfunction* adminQueryStudentCourse(data) {\r\n    try {\r\n        const {page, studentName, studentId} = data.args;\r\n        const url = `admin/queryStudentCourse?page=${page}&studentName=${studentName}&studentId=${studentId}`;\r\n        const res = yield call(Service.get, url);\r\n        switch (res.data.error_code) {\r\n            case 0:\r\n                yield put({\r\n                    type: ADMIN_QUERY_STUDENTCOURSE_SUCCESS,\r\n                    payload: res.data.data,\r\n                });\r\n                break;\r\n            default:\r\n                return 0;\r\n        }\r\n    }catch(e){\r\n\r\n    }\r\n\r\n}\r\nfunction* adminDeleteTeacherCourse(args) {\r\n    try{\r\n        const { teacherCourseIdList } = args.args;\r\n        const formData = new FormData;\r\n        formData.append(\"teacherCourseIdList\", teacherCourseIdList);\r\n        const res = yield call(Service.post, \"admin/deleteTeacherCourses\", formData );\r\n        switch (res.data.error_code) {\r\n            case 0:\r\n                message.success(res.data.message);\r\n                yield put({\r\n                    type: ADMIN_DELETE_TEACHERCOURSES_SUCCESS,\r\n                });\r\n                break;\r\n            case -1:\r\n                message.error(\"删除失败！\");\r\n                break;\r\n            case 1:\r\n                message.error(\"权限不足！\");\r\n                break;\r\n            default:\r\n                return 0;\r\n        }\r\n    }\r\n    catch (e) {\r\n    }\r\n}\r\n\r\nfunction* deleteStudentCourse(args) {\r\n    try{\r\n        const { studentCourseIdList } = args.args;\r\n        const formData = new FormData;\r\n        formData.append(\"studentCourseIdList\", studentCourseIdList);\r\n        const res = yield call(Service.post, \"teacher/deleteStudentCourses\", formData );\r\n        switch (res.data.error_code) {\r\n            case 0:\r\n                message.success(res.data.message);\r\n                yield put({\r\n                    type: DELETE_STUDENTCOURSE_SUCCESS,\r\n                });\r\n                break;\r\n            case -1:\r\n                message.error(\"删除失败！\");\r\n                break;\r\n            case 1:\r\n                message.error(\"权限不足！\");\r\n                break;\r\n            default:\r\n                return 0;\r\n        }\r\n    }\r\n    catch (e) {\r\n    }\r\n}\r\n\r\nexport default function* rootLabCourse() {\r\n    yield takeEvery(ADMIN_QUERY_LABCOURSE, adminQueryLabCourse);\r\n    yield takeEvery(ADMIN_ADD_LABCOURSE, adminAddlabCourse);\r\n    yield takeEvery(ADMIN_DELETE_LABCOURSE, adminDeletelabCourse);\r\n    yield takeEvery(ADMIN_IMPORT_LABCOURSE, adminImportlabCourse);\r\n    yield takeEvery(ADMIN_QUERY_STUDENTCOURSE, adminQueryStudentCourse);\r\n    yield takeEvery(ADMIN_DELETE_TEACHERCOURSES, adminDeleteTeacherCourse);\r\n    yield takeEvery(DELETE_STUDENTCOURSE, deleteStudentCourse);\r\n}"]},"metadata":{},"sourceType":"module"}