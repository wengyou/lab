{"ast":null,"code":"import _defineProperty from \"C:\\\\projects\\\\lab\\\\lab_2.0\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport \"antd/es/upload/style/css\";\nimport _Upload from \"antd/es/upload\";\nimport \"antd/es/input/style/css\";\nimport _Input from \"antd/es/input\";\nimport _toConsumableArray from \"C:\\\\projects\\\\lab\\\\lab_2.0\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport \"antd/es/button/style/css\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/icon/style/css\";\nimport _Icon from \"antd/es/icon\";\nimport _objectSpread from \"C:\\\\projects\\\\lab\\\\lab_2.0\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport \"antd/es/table/style/css\";\nimport _Table from \"antd/es/table\";\nimport \"antd/es/message/style/css\";\nimport _message from \"antd/es/message\";\nimport _slicedToArray from \"C:\\\\projects\\\\lab\\\\lab_2.0\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport \"antd/es/modal/style/css\";\nimport _Modal from \"antd/es/modal\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\projects\\\\lab\\\\lab_2.0\\\\src\\\\components\\\\TeacherTasks.js\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport * as course from \"../redux/actionCreators/resource\";\nimport { export_json_to_excel2 } from \"../lib/Export2Excel\";\nimport AllCourse from \"./AllCourse\";\nimport AddStudents from \"./addStudents\";\nvar confirm = _Modal.confirm; //教师任务的第一个\n\nvar TeacherTasks = function TeacherTasks(props) {\n  var _React$createElement;\n\n  var type = props.type,\n      userId = props.userId,\n      submitTotal = props.submitTotal,\n      submitList = props.submitList,\n      downloadUrl = props.downloadUrl,\n      unSubmitList = props.unSubmitList,\n      courseTask = props.courseTask,\n      myCourse = props.myCourse,\n      teacherUploadFlag = props.teacherUploadFlag,\n      teacherUpdateFlag = props.teacherUpdateFlag,\n      handleAddRemark = props.handleAddRemark,\n      handleMyCourseRes = props.handleMyCourseRes,\n      studentCourseList = props.studentCourseList,\n      handleFetchTaskRes = props.handleFetchTaskRes,\n      handleTeacherDeleteCourse = props.handleTeacherDeleteCourse,\n      handleTeacherReleaseTask = props.handleTeacherReleaseTask,\n      handleTeacherDeleteTask = props.handleTeacherDeleteTask,\n      handleToggleUpload = props.handleToggleUpload,\n      handleTeacherQuerySubmit = props.handleTeacherQuerySubmit,\n      handleTeacherQueryUnsubmit = props.handleTeacherQueryUnsubmit,\n      handleTeacherUpdateTask = props.handleTeacherUpdateTask,\n      handleTeacherDownloadSubmit = props.handleTeacherDownloadSubmit,\n      handleDeleteStudentCourse = props.handleDeleteStudentCourse,\n      handleCheckStudent = props.handleCheckStudent;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      releaseVisible = _useState2[0],\n      setReleaseVisible = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      remarkVisible = _useState4[0],\n      setRemarkVisible = _useState4[1];\n\n  var _useState5 = useState(true),\n      _useState6 = _slicedToArray(_useState5, 2),\n      textVisible = _useState6[0],\n      setTextVisible = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      updateVisible = _useState8[0],\n      setUpdateVisible = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      unSubmitVisible = _useState10[0],\n      setUnSubmitVisible = _useState10[1];\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      submitVisible = _useState12[0],\n      setSubmitVisible = _useState12[1];\n\n  var _useState13 = useState(false),\n      _useState14 = _slicedToArray(_useState13, 2),\n      downloadVisible = _useState14[0],\n      setDownloadVisible = _useState14[1];\n\n  var _useState15 = useState(false),\n      _useState16 = _slicedToArray(_useState15, 2),\n      checkStudentVisible = _useState16[0],\n      setCheckStudentVisible = _useState16[1];\n\n  var _useState17 = useState(false),\n      _useState18 = _slicedToArray(_useState17, 2),\n      addCourseVisible = _useState18[0],\n      setAddCourseVisible = _useState18[1];\n\n  var _useState19 = useState(false),\n      _useState20 = _slicedToArray(_useState19, 2),\n      addStudentVisible = _useState20[0],\n      setAddStudentVisible = _useState20[1];\n\n  var _useState21 = useState(\"\"),\n      _useState22 = _slicedToArray(_useState21, 2),\n      teacherCourseId = _useState22[0],\n      setTeacherCourseId = _useState22[1];\n\n  var _useState23 = useState(\"\"),\n      _useState24 = _slicedToArray(_useState23, 2),\n      taskName = _useState24[0],\n      setTaskName = _useState24[1];\n\n  var _useState25 = useState(),\n      _useState26 = _slicedToArray(_useState25, 2),\n      taskId = _useState26[0],\n      setTaskId = _useState26[1];\n\n  var _useState27 = useState(''),\n      _useState28 = _slicedToArray(_useState27, 2),\n      userIdList = _useState28[0],\n      setUserIdList = _useState28[1];\n\n  var _useState29 = useState(\"\"),\n      _useState30 = _slicedToArray(_useState29, 2),\n      updateName = _useState30[0],\n      setUpdateName = _useState30[1];\n\n  var _useState31 = useState(\"\"),\n      _useState32 = _slicedToArray(_useState31, 2),\n      remark = _useState32[0],\n      setRemark = _useState32[1];\n\n  var _useState33 = useState([]),\n      _useState34 = _slicedToArray(_useState33, 2),\n      files = _useState34[0],\n      setFiles = _useState34[1];\n\n  var _useState35 = useState([]),\n      _useState36 = _slicedToArray(_useState35, 2),\n      updateFiles = _useState36[0],\n      setUpdateFiles = _useState36[1];\n\n  var _useState37 = useState(false),\n      _useState38 = _slicedToArray(_useState37, 2),\n      uploadLoading = _useState38[0],\n      setUploadLoading = _useState38[1];\n\n  var _useState39 = useState(false),\n      _useState40 = _slicedToArray(_useState39, 2),\n      updateLoading = _useState40[0],\n      setUpdateLoading = _useState40[1];\n\n  var _useState41 = useState(false),\n      _useState42 = _slicedToArray(_useState41, 2),\n      uploadBtn = _useState42[0],\n      setUploadBtn = _useState42[1];\n\n  var _useState43 = useState(false),\n      _useState44 = _slicedToArray(_useState43, 2),\n      updateBtn = _useState44[0],\n      setUpdateBtn = _useState44[1];\n\n  var _useState45 = useState({\n    page: 1,\n    rows: 10\n  }),\n      _useState46 = _slicedToArray(_useState45, 2),\n      checkSubmit = _useState46[0],\n      setCheckSubmit = _useState46[1];\n\n  useEffect(function () {\n    handleMyCourseRes({\n      userId: userId,\n      type: type\n    });\n  }, []);\n  useEffect(function () {\n    setReleaseVisible(false);\n    setUploadLoading(false);\n    setUploadBtn(false);\n  }, [teacherUploadFlag]);\n  useEffect(function () {\n    setUpdateVisible(false);\n    setUpdateLoading(false);\n    setUpdateBtn(false);\n  }, [teacherUpdateFlag]); //删除课程或任务时弹出的确认框\n\n  var deleteConfirm = function deleteConfirm(e, action) {\n    confirm({\n      title: \"请确认~\",\n      content: action === 'deleteTask' ? '删除将会移除所有学生作业，无法撤销，您确定吗？' : '删除该实验课程，会删除和该课程相关的作业及实验任务附件，您确定吗？',\n      onOk: function onOk() {\n        action === \"deleteTask\" ? handleTeacherDeleteTask({\n          taskId: e.id,\n          teacherCourseId: e.teacherCourseId\n        }) : handleTeacherDeleteCourse({\n          id: e.teacherCourseId,\n          userId: userId,\n          courseId: e.courseId\n        });\n      },\n      onCancel: function onCancel() {}\n    });\n  }; //实现手动上传文件后发布任务\n\n\n  var handleUpload = function handleUpload() {\n    if (taskName && taskName.trim().length !== 0) {\n      handleTeacherReleaseTask(files.length > 0 ? {\n        teacherCourseId: teacherCourseId,\n        userId: userId,\n        taskName: taskName,\n        file: files[0],\n        courseTask: courseTask\n      } : {\n        teacherCourseId: teacherCourseId,\n        userId: userId,\n        taskName: taskName,\n        file: \"\",\n        courseTask: courseTask\n      });\n      setTaskName(\"\");\n      setFiles([]);\n    } else {\n      _message.error(\"任务名不能为空哦！\");\n\n      setUploadLoading(false);\n    }\n  };\n\n  var handleUpdate = function handleUpdate() {\n    if (updateName && updateName.trim().length !== 0) {\n      handleTeacherUpdateTask({\n        id: taskId,\n        taskName: updateName,\n        file: updateFiles[0],\n        teacherCourseId: teacherCourseId,\n        userId: userId\n      });\n      setUpdateFiles([]);\n      setTaskName(\"\");\n    } else {\n      _message.error(\"任务名不能为空哦！\");\n\n      setUpdateLoading(false);\n    }\n  }; //添加/修改教学班备注\n\n\n  var addRemark = function addRemark() {\n    handleAddRemark({\n      teacherCourseId: teacherCourseId,\n      remark: remark\n    });\n    setTimeout(function () {\n      setRemarkVisible(!remarkVisible);\n      setRemark(\"\");\n    }, 1000);\n  }; //点击那个加号展开实验任务详情\n\n\n  var _expandedRowRender = function expandedRowRender(record) {\n    var columns = [{\n      title: '任务名称',\n      width: \"18%\",\n      dataIndex: 'taskName',\n      key: 'taskName',\n      align: 'center'\n    }, {\n      title: '任务附件',\n      key: 'taskFileName',\n      align: 'center',\n      width: \"18%\",\n      render: function render(e) {\n        return /*#__PURE__*/React.createElement(\"a\", {\n          download: \"\",\n          href: e.url,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 21\n          }\n        }, e.taskFileName);\n      }\n    }, {\n      title: '发布时间',\n      dataIndex: 'addTime',\n      key: 'addTime',\n      align: 'center'\n    }, {\n      title: '学生作业',\n      key: 'studentWork',\n      align: 'center',\n      render: function render(e) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          style: {\n            color: \"#189EFF\",\n            cursor: \"pointer\",\n            padding: \"0 0.375rem\"\n          },\n          onClick: function onClick() {\n            return checkWorks(e);\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 25\n          }\n        }, \"\\u67E5\\u770B\\u4F5C\\u4E1A\"), /*#__PURE__*/React.createElement(\"span\", {\n          onClick: function onClick() {\n            handleToggleUpload({\n              taskId: e.id,\n              teacherCourseId: e.teacherCourseId\n            });\n          },\n          style: {\n            color: e.closed ? \"darkBlue\" : \"#B30000\",\n            cursor: \"pointer\",\n            padding: \"0 0.375rem\"\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 25\n          }\n        }, e.closed ? \"开启作业提交\" : \"关闭作业提交\"), /*#__PURE__*/React.createElement(\"span\", {\n          style: {\n            color: \"#189EFF\",\n            cursor: \"pointer\",\n            padding: \"0 0.375rem\"\n          },\n          onClick: function onClick() {\n            setUnSubmitVisible(!unSubmitVisible);\n            handleTeacherQueryUnsubmit({\n              teacherCourseId: e.teacherCourseId,\n              taskId: e.id\n            });\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 25\n          }\n        }, \"\\u672A\\u63D0\\u4EA4\\u540D\\u5355\"));\n      }\n    }, {\n      title: '任务处理',\n      key: \"dealTask\",\n      align: 'center',\n      render: function render(e) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          onClick: function onClick() {\n            setUpdateVisible(!updateVisible);\n            setUpdateName(e.taskName);\n            setTaskId(e.id);\n            setTeacherCourseId(e.teacherCourseId);\n          },\n          style: {\n            color: \"#189EFF\",\n            cursor: \"pointer\"\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 21\n          }\n        }, \"\\u4FEE\\u6539\\u4EFB\\u52A1\"), /*#__PURE__*/React.createElement(\"span\", {\n          onClick: function onClick() {\n            return deleteConfirm(e, \"deleteTask\");\n          },\n          style: {\n            color: \"#B30000\",\n            cursor: \"pointer\",\n            padding: \"0 0.375rem\"\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 25\n          }\n        }, \"\\u5220\\u9664\\u4EFB\\u52A1\"));\n      }\n    }];\n    var el = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(_Table, {\n      rowKey: function rowKey(e) {\n        return e.id;\n      },\n      columns: columns,\n      dataSource: courseTask[record.teacherCourseId],\n      pagination: false,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 17\n      }\n    }));\n    return el;\n  }; //删除学生\n\n\n  var deleteStudent = function deleteStudent(e) {\n    confirm({\n      title: '将删除学生上传到该任务的所有作业，请下载该学生的作业备份再删除',\n      onOk: function onOk() {\n        handleDeleteStudentCourse({\n          studentCourseIdList: e.studentCourseId\n        });\n      },\n      onCancel: function onCancel() {}\n    });\n  }; //导出学生\n\n\n  var exportStudent = function exportStudent() {\n    var tHeader = ['学生姓名', '学号'];\n    var filterVal = ['userName', 'userId'];\n    export_json_to_excel2(tHeader, studentCourseList, filterVal, '选课学生信息');\n  }; //下载作业\n\n\n  var downloadWorks = function downloadWorks() {\n    handleTeacherDownloadSubmit({\n      userIdList: userIdList,\n      taskId: taskId\n    });\n    setDownloadVisible(true);\n  }; //查看学生作业\n\n\n  var checkWorks = function checkWorks(e) {\n    setCheckSubmit(_objectSpread(_objectSpread({}, checkSubmit), {}, {\n      taskId: e.id\n    }));\n    handleTeacherQuerySubmit(_objectSpread(_objectSpread({}, checkSubmit), {}, {\n      taskId: e.id\n    }));\n    setSubmitVisible(true);\n    setTaskId(e.id);\n  }; //查看学生作业中的翻页\n\n\n  var changePage = function changePage(e) {\n    setCheckSubmit(_objectSpread(_objectSpread({}, checkSubmit), {}, {\n      page: e\n    }));\n    handleTeacherQuerySubmit(_objectSpread(_objectSpread({}, checkSubmit), {}, {\n      page: e\n    }));\n  }; //改变学生作业中每页显示数量\n\n\n  var onShowSizeChange = function onShowSizeChange(current, pageSize) {\n    setCheckSubmit(_objectSpread(_objectSpread({}, checkSubmit), {}, {\n      page: 1,\n      rows: pageSize\n    }));\n    handleTeacherQuerySubmit(_objectSpread(_objectSpread({}, checkSubmit), {}, {\n      page: 1,\n      rows: pageSize\n    }));\n  };\n\n  var columns = [{\n    title: '实验课程',\n    dataIndex: 'courseName',\n    key: 'courseName',\n    align: 'center'\n  }, {\n    title: '教学班编号',\n    dataIndex: 'teacherCourseId',\n    key: 'teacherCourseId',\n    align: 'center'\n  }, {\n    title: '教学班备注',\n    key: 'remark',\n    align: 'center',\n    render: function render(e) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        onClick: function onClick() {\n          setTeacherCourseId(e.teacherCourseId);\n          setRemarkVisible(!remarkVisible);\n          setRemark(e.remark);\n        },\n        style: {\n          color: e.remark ? \"#F0BB04\" : \"#189EFF\",\n          cursor: \"pointer\"\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 17\n        }\n      }, e.remark ? /*#__PURE__*/React.createElement(\"div\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          color: 'rgba(0, 0, 0, 0.65)'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 30\n        }\n      }, e.remark), \"\\u4FEE\\u6539\") : /*#__PURE__*/React.createElement(\"div\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 25\n        }\n      }, \"\\u6DFB\\u52A0\"));\n    }\n  }, {\n    title: '课程编号',\n    dataIndex: 'courseNumber',\n    key: 'courseNumber',\n    align: 'center'\n  }, {\n    title: '添加时间',\n    dataIndex: 'addTime',\n    key: 'addTime',\n    align: 'center'\n  }, {\n    title: '课程处理',\n    key: \"dealCourse\",\n    align: 'center',\n    render: function render(e) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        onClick: function onClick() {\n          setTeacherCourseId(e.teacherCourseId);\n          setReleaseVisible(true);\n        },\n        style: {\n          color: \"#189EFF\",\n          cursor: \"pointer\"\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 21\n        }\n      }, \"\\u53D1\\u5E03\\u4EFB\\u52A1\"), /*#__PURE__*/React.createElement(\"span\", {\n        onClick: function onClick() {\n          return deleteConfirm(e, \"deleteCourse\");\n        },\n        style: {\n          color: \"#B30000\",\n          cursor: \"pointer\",\n          padding: \"0 0.375rem\"\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 21\n        }\n      }, \"\\u5220\\u9664\\u8BFE\\u7A0B\"), /*#__PURE__*/React.createElement(\"span\", {\n        onClick: function onClick() {\n          setTeacherCourseId(e.teacherCourseId);\n          handleCheckStudent({\n            teacherCourseId: e.teacherCourseId\n          });\n          setCheckStudentVisible(true);\n        },\n        style: {\n          color: \"#F0BB04\",\n          cursor: \"pointer\",\n          padding: \"0 0.375rem\"\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 21\n        }\n      }, \"\\u5B66\\u751F\\u4FE1\\u606F\"));\n    }\n  }];\n  var releaseProps = {\n    beforeUpload: function beforeUpload(file) {\n      files.push(file);\n      files.length > 0 ? setUploadBtn(true) : setUploadBtn(false);\n      return false;\n    },\n    onRemove: function onRemove(file) {\n      var index = files.indexOf(file.originFileObj);\n      files.splice(index, 1);\n      files.length > 0 ? setUploadBtn(true) : setUploadBtn(false);\n    }\n  };\n  var updateProps = {\n    beforeUpload: function beforeUpload(file) {\n      updateFiles.push(file);\n      updateFiles.length > 0 ? setUpdateBtn(true) : setUpdateBtn(false);\n      return false;\n    },\n    onRemove: function onRemove(file) {\n      var index = updateFiles.indexOf(file.originFileObj);\n      updateFiles.splice(index, 1);\n      updateFiles.length > 0 ? setUpdateBtn(true) : setUpdateBtn(false);\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(_Button, {\n    onClick: function onClick() {\n      setAddCourseVisible(true);\n    },\n    type: \"primary\",\n    className: \"margin_row_xxs\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 411,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(_Icon, {\n    type: 'plus',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 17\n    }\n  }), \"\\u6DFB\\u52A0\"), /*#__PURE__*/React.createElement(_Table, {\n    rowKey: function rowKey(record) {\n      return record.teacherCourseId;\n    },\n    size: 'small',\n    columns: columns,\n    expandedRowRender: function expandedRowRender(record) {\n      return _expandedRowRender(record);\n    },\n    onExpand: function onExpand(expanded, record) {\n      expanded && handleFetchTaskRes({\n        teacherCourseId: record.teacherCourseId,\n        courseTask: courseTask\n      });\n    },\n    dataSource: _toConsumableArray(myCourse),\n    pagination: false,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 415,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(_Modal, {\n    width: '64rem',\n    title: \"\\u6DFB\\u52A0\\u8BFE\\u7A0B\",\n    visible: addCourseVisible,\n    footer: null,\n    onCancel: function onCancel() {\n      setAddCourseVisible(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 428,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(AllCourse, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 437,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(_Modal, {\n    title: \"\\u53D1\\u5E03\\u5B9E\\u9A8C\\u4EFB\\u52A1\\u53CA\\u4E0A\\u4F20\\u9644\\u4EF6\",\n    visible: releaseVisible,\n    onCancel: function onCancel() {\n      setReleaseVisible(false);\n      setUploadLoading(false);\n      setFiles([]);\n      setTaskName(\"\");\n    },\n    footer: [/*#__PURE__*/React.createElement(_Button, {\n      onClick: function onClick() {\n        setReleaseVisible(!releaseVisible);\n        setUploadLoading(false);\n        setUploadBtn(false);\n        setFiles([]);\n        setTaskName(\"\");\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 449,\n        columnNumber: 21\n      }\n    }, \"\\u53D6\\u6D88\")],\n    destroyOnClose: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 439,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      marginBottom: \"0.75rem\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 463,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(_Input, {\n    style: {\n      width: \"75%\"\n    },\n    value: taskName,\n    placeholder: \"请输入任务名称\",\n    onChange: function onChange(e) {\n      setTaskName(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 464,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(_Button, {\n    style: {\n      marginLeft: \"0.75rem\"\n    },\n    type: \"primary\",\n    loading: uploadLoading,\n    onClick: function onClick() {\n      if (files.length <= 1) {\n        setUploadLoading(true);\n        handleUpload();\n      } else {\n        _message.error(\"只能上传一个附件!\");\n      }\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 472,\n      columnNumber: 21\n    }\n  }, \"\\u53D1\\u5E03\\u4EFB\\u52A1\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 488,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      alignItems: \"center\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 489,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(_Upload, Object.assign({}, releaseProps, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 490,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(_Button, {\n    disabled: uploadBtn,\n    onClick: function onClick() {\n      return setTextVisible(false);\n    },\n    style: {\n      marginRight: \"0.625rem\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 493,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(_Icon, {\n    type: \"upload\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 498,\n      columnNumber: 33\n    }\n  }), \"\\u9009\\u62E9\\u6587\\u4EF6\")), /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      display: textVisible ? \"\" : \"none\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 502,\n      columnNumber: 25\n    }\n  }, textVisible ? '(注：上传的文件将覆盖原有文件！)' : '可不上传文件直接发布任务')), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"fontC_red fontS_12 padding_column_xxs\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 504,\n      columnNumber: 21\n    }\n  }, \"\\u53D1\\u5E03\\u7684\\u4EFB\\u52A1\\u548C\\u4E0A\\u4F20\\u5230\\u8BE5\\u4EFB\\u52A1\\u7684\\u4F5C\\u4E1A\\uFF0C\\u5C06\\u4E8E\\u6BCF\\u5E748\\u67081\\u65E5\\u6E05\\u7A7A\\uFF0C\\u8BF7\\u8001\\u5E08\\u53CA\\u65F6\\u5907\\u4EFD\\u3002\"))), /*#__PURE__*/React.createElement(_Modal, {\n    rowKey: function rowKey(e) {\n      return e.id;\n    },\n    title: \"\\u4FEE\\u6539\\u4EFB\\u52A1\",\n    visible: updateVisible,\n    onCancel: function onCancel() {\n      setUpdateVisible(!updateVisible);\n      setUpdateLoading(false);\n      setUpdateBtn(false);\n      setUpdateFiles([]);\n    },\n    footer: [/*#__PURE__*/React.createElement(_Button, {\n      disabled: updateBtn,\n      onClick: function onClick() {\n        setUpdateVisible(!updateVisible);\n        setUpdateLoading(false);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 519,\n        columnNumber: 21\n      }\n    }, \"\\u53D6\\u6D88\")],\n    destroyOnClose: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 508,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      marginBottom: \"0.75rem\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 533,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(_Input, {\n    style: {\n      width: \"75%\"\n    },\n    value: updateName,\n    onChange: function onChange(e) {\n      setUpdateName(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 534,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(_Button, {\n    loading: updateLoading,\n    style: {\n      marginLeft: \"0.75rem\"\n    },\n    type: \"primary\",\n    onClick: function onClick() {\n      setUpdateLoading(true);\n      handleUpdate();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 541,\n      columnNumber: 21\n    }\n  }, \"\\u786E\\u8BA4\\u4FEE\\u6539\")), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      alignItems: \"center\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 553,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(_Upload, Object.assign({}, updateProps, {\n    showUploadList: true,\n    multiple: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 556,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(_Button, {\n    disabled: updateBtn,\n    onClick: function onClick() {\n      return setTextVisible(false);\n    },\n    style: {\n      marginRight: \"0.625rem\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 561,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(_Icon, {\n    type: \"upload\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 566,\n      columnNumber: 29\n    }\n  }), \"\\u9009\\u62E9\\u6587\\u4EF6\")), /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      display: textVisible ? \"\" : \"none\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 570,\n      columnNumber: 21\n    }\n  }, \"(\\u6CE8\\uFF1A\\u53EF\\u4E0D\\u4E0A\\u4F20\\u6587\\u4EF6\\u76F4\\u63A5\\u53D1\\u5E03\\u4EFB\\u52A1~)\"))), /*#__PURE__*/React.createElement(_Modal, {\n    title: \"\".concat(remark ? \"修改\" : \"添加\", \"\\u5907\\u6CE8\"),\n    visible: remarkVisible,\n    footer: null,\n    onCancel: function onCancel() {\n      return setRemarkVisible(!remarkVisible);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 573,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 579,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(_Input, {\n    style: {\n      marginRight: \"0.8125rem\"\n    },\n    placeholder: \"\".concat(remark ? remark : \"请输入内容（如：班级代码、专业等）\"),\n    value: remark,\n    onChange: function onChange(e) {\n      setRemark(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 580,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(_Button, {\n    type: \"primary\",\n    onClick: function onClick() {\n      return addRemark();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 588,\n      columnNumber: 17\n    }\n  }, \"\\u786E\\u8BA4\"))), /*#__PURE__*/React.createElement(_Modal, {\n    title: \"\\u672A\\u63D0\\u4EA4\\u4F5C\\u4E1A\\u540D\\u5355\",\n    visible: unSubmitVisible,\n    footer: null,\n    onCancel: function onCancel() {\n      setUnSubmitVisible(!unSubmitVisible);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 596,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(_Table, {\n    rowKey: function rowKey(e) {\n      return e.studentId;\n    },\n    size: \"small\",\n    dataSource: unSubmitList,\n    columns: [{\n      title: \"学生姓名\",\n      dataIndex: \"userName\",\n      key: \"userName\"\n    }, {\n      title: \"学生学号\",\n      dataIndex: \"userId\",\n      key: \"userId\"\n    }],\n    pagination: false,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 602,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(_Modal, (_React$createElement = {\n    title: \"\\u9009\\u8BFE\\u5B66\\u751F\\u4FE1\\u606F\",\n    visible: checkStudentVisible,\n    footer: null,\n    onCancel: function onCancel() {\n      setCheckStudentVisible(false);\n    }\n  }, _defineProperty(_React$createElement, \"footer\", [/*#__PURE__*/React.createElement(_Button, {\n    onClick: function onClick() {\n      setAddStudentVisible(true);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 621,\n      columnNumber: 21\n    }\n  }, \"\\u6DFB\\u52A0\"), /*#__PURE__*/React.createElement(_Button, {\n    type: \"primary\",\n    onClick: exportStudent,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 622,\n      columnNumber: 21\n    }\n  }, \"\\u5BFC\\u51FA\")]), _defineProperty(_React$createElement, \"__self\", _this), _defineProperty(_React$createElement, \"__source\", {\n    fileName: _jsxFileName,\n    lineNumber: 615,\n    columnNumber: 13\n  }), _React$createElement), /*#__PURE__*/React.createElement(_Table, {\n    rowKey: function rowKey(e) {\n      return e.userId;\n    },\n    size: \"small\",\n    dataSource: _toConsumableArray(studentCourseList),\n    columns: [{\n      title: \"学生姓名\",\n      dataIndex: \"userName\",\n      key: \"userName\"\n    }, {\n      title: \"学生学号\",\n      dataIndex: \"userId\",\n      key: \"userId\"\n    }, {\n      title: \"操作\",\n      key: \"operate\",\n      render: function render(e) {\n        return /*#__PURE__*/React.createElement(\"span\", {\n          onClick: function onClick() {\n            return deleteStudent(e);\n          },\n          style: {\n            color: \"#B30000\",\n            cursor: \"pointer\",\n            padding: \"0 0.375rem\"\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 636,\n            columnNumber: 33\n          }\n        }, \"\\u5220\\u9664\");\n      }\n    }],\n    pagination: false,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 625,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(_Modal, {\n    title: \"请确认！\",\n    width: \"12.5rem\",\n    visible: downloadVisible,\n    footer: /*#__PURE__*/React.createElement(\"a\", {\n      download: \"\",\n      href: downloadUrl,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 655,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(_Button, {\n      type: \"primary\",\n      onClick: function onClick() {\n        return setDownloadVisible(false);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 656,\n        columnNumber: 25\n      }\n    }, \"\\u786E\\u5B9A\")),\n    onCancel: function onCancel() {\n      return setDownloadVisible(!downloadVisible);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 650,\n      columnNumber: 13\n    }\n  }, \"\\u60A8\\u786E\\u8BA4\\u4E0B\\u8F7D\\u5417\\uFF1F\"), /*#__PURE__*/React.createElement(_Modal, {\n    title: \"\\u5DF2\\u63D0\\u4EA4\\u4F5C\\u4E1A\\u4FE1\\u606F\",\n    visible: submitVisible,\n    width: \"64rem\",\n    onCancel: function onCancel() {\n      return setSubmitVisible(!submitVisible);\n    },\n    footer: null,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 663,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(_Button, {\n    onClick: downloadWorks,\n    type: \"primary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 671,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(_Icon, {\n    type: \"download\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 675,\n      columnNumber: 21\n    }\n  }), \"\\u4E0B\\u8F7D\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"margin_row_xxs\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 678,\n      columnNumber: 17\n    }\n  }, \"(\\u672A\\u9009\\u62E9\\u5B66\\u751F\\u70B9\\u51FB\\u6309\\u94AE\\u9ED8\\u8BA4\\u4E0B\\u8F7D\\u5168\\u90E8\\u5B66\\u751F\\u4F5C\\u4E1A)\"), /*#__PURE__*/React.createElement(_Table, {\n    rowKey: function rowKey(e) {\n      return e.id;\n    },\n    pagination: {\n      current: checkSubmit.page,\n      total: submitTotal,\n      showSizeChanger: true,\n      onShowSizeChange: onShowSizeChange,\n      onChange: changePage\n    },\n    rowSelection: {\n      onChange: function onChange(selectedRowKeys, selectedRows) {\n        //setStartDownload(selectedRows);\n        var studentIdList = selectedRows.map(function (e) {\n          return e.studentId;\n        });\n        var idList = Array.from(new Set(studentIdList));\n        setUserIdList(idList.join(\";\"));\n      }\n    },\n    dataSource: _toConsumableArray(submitList),\n    columns: [{\n      title: \"学生姓名\",\n      dataIndex: \"userName\",\n      key: \"userName\"\n    }, {\n      title: \"学号\",\n      dataIndex: \"studentId\",\n      key: \"studentId\"\n    }, {\n      title: \"作业名称\",\n      key: \"workName\",\n      render: function render(e) {\n        return /*#__PURE__*/React.createElement(\"a\", {\n          href: e.url,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 706,\n            columnNumber: 33\n          }\n        }, e.workName);\n      }\n    }, {\n      title: \"上传时间\",\n      dataIndex: \"addTime\",\n      key: \"addTime\"\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 679,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(AddStudents, {\n    addStudentVisible: addStudentVisible,\n    visibleCallback: function visibleCallback(e) {\n      return setAddStudentVisible(e);\n    },\n    teacherCourseId: teacherCourseId,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 714,\n      columnNumber: 13\n    }\n  }));\n};\n\nexport default connect(function (state) {\n  return {\n    userId: state.getIn([\"userMana\", \"common\", \"userId\"]),\n    type: state.getIn([\"userMana\", \"common\", \"type\"]),\n    myCourse: state.getIn([\"course\", \"myCourse\"]),\n    courseTask: state.getIn([\"course\", \"courseTask\"]),\n    unSubmitList: state.getIn([\"course\", \"unsubmitList\"]),\n    submitList: state.getIn([\"course\", \"submitList\"]),\n    submitTotal: state.getIn([\"course\", \"submitTotal\"]),\n    downloadUrl: state.getIn([\"course\", \"downloadUrl\"]),\n    studentCourseList: state.getIn([\"course\", \"studentCourseList\"]),\n    studentCourseTotal: state.getIn([\"course\", \"studentCourseTotal\"]),\n    teacherUploadFlag: state.getIn([\"course\", \"teacherUploadFlag\"]),\n    teacherUpdateFlag: state.getIn([\"course\", \"teacherUpdateFlag\"])\n  };\n}, function (dispatch) {\n  return {\n    handleMyCourseRes: function handleMyCourseRes(args) {\n      dispatch(course.queryMyCourse(args));\n    },\n    handleFetchTaskRes: function handleFetchTaskRes(teacherCourseId, courseTask) {\n      dispatch(course.fetchCourseTask(teacherCourseId, courseTask));\n    },\n    handleTeacherDeleteCourse: function handleTeacherDeleteCourse(args) {\n      dispatch(course.teacherDeleteCourse(args));\n    },\n    handleTeacherReleaseTask: function handleTeacherReleaseTask(args) {\n      dispatch(course.teacherReleaseTask(args));\n    },\n    handleTeacherUpdateTask: function handleTeacherUpdateTask(args) {\n      dispatch(course.teacherUpdateTask(args));\n    },\n    handleAddRemark: function handleAddRemark(args) {\n      dispatch(course.teacherAddRemark(args));\n    },\n    handleTeacherDeleteTask: function handleTeacherDeleteTask(args) {\n      dispatch(course.teacherDeleteTask(args));\n    },\n    handleToggleUpload: function handleToggleUpload(args) {\n      dispatch(course.teacherToggleUpload(args));\n    },\n    handleTeacherQueryUnsubmit: function handleTeacherQueryUnsubmit(args) {\n      dispatch(course.teacherQueryUnsubmit(args));\n    },\n    handleTeacherQuerySubmit: function handleTeacherQuerySubmit(taskId) {\n      dispatch(course.teacherQuerySubmit(taskId));\n    },\n    handleTeacherDownloadSubmit: function handleTeacherDownloadSubmit(args) {\n      dispatch(course.teacherDownloadSubmit(args));\n    },\n    handleDeleteStudentCourse: function handleDeleteStudentCourse(args) {\n      dispatch(course.teacherDeleteStudent(args));\n    },\n    handleCheckStudent: function handleCheckStudent(args) {\n      dispatch(course.teacherCheckStudent(args));\n    }\n  };\n})(TeacherTasks);","map":{"version":3,"sources":["C:/projects/lab/lab_2.0/src/components/TeacherTasks.js"],"names":["React","useEffect","useState","connect","course","export_json_to_excel2","AllCourse","AddStudents","confirm","TeacherTasks","props","type","userId","submitTotal","submitList","downloadUrl","unSubmitList","courseTask","myCourse","teacherUploadFlag","teacherUpdateFlag","handleAddRemark","handleMyCourseRes","studentCourseList","handleFetchTaskRes","handleTeacherDeleteCourse","handleTeacherReleaseTask","handleTeacherDeleteTask","handleToggleUpload","handleTeacherQuerySubmit","handleTeacherQueryUnsubmit","handleTeacherUpdateTask","handleTeacherDownloadSubmit","handleDeleteStudentCourse","handleCheckStudent","releaseVisible","setReleaseVisible","remarkVisible","setRemarkVisible","textVisible","setTextVisible","updateVisible","setUpdateVisible","unSubmitVisible","setUnSubmitVisible","submitVisible","setSubmitVisible","downloadVisible","setDownloadVisible","checkStudentVisible","setCheckStudentVisible","addCourseVisible","setAddCourseVisible","addStudentVisible","setAddStudentVisible","teacherCourseId","setTeacherCourseId","taskName","setTaskName","taskId","setTaskId","userIdList","setUserIdList","updateName","setUpdateName","remark","setRemark","files","setFiles","updateFiles","setUpdateFiles","uploadLoading","setUploadLoading","updateLoading","setUpdateLoading","uploadBtn","setUploadBtn","updateBtn","setUpdateBtn","page","rows","checkSubmit","setCheckSubmit","deleteConfirm","e","action","title","content","onOk","id","courseId","onCancel","handleUpload","trim","length","file","error","handleUpdate","addRemark","setTimeout","expandedRowRender","record","columns","width","dataIndex","key","align","render","url","taskFileName","color","cursor","padding","checkWorks","closed","el","deleteStudent","studentCourseIdList","studentCourseId","exportStudent","tHeader","filterVal","downloadWorks","changePage","onShowSizeChange","current","pageSize","releaseProps","beforeUpload","push","onRemove","index","indexOf","originFileObj","splice","updateProps","expanded","display","marginBottom","target","value","marginLeft","alignItems","marginRight","studentId","total","showSizeChanger","onChange","selectedRowKeys","selectedRows","studentIdList","map","idList","Array","from","Set","join","workName","state","getIn","studentCourseTotal","dispatch","args","queryMyCourse","fetchCourseTask","teacherDeleteCourse","teacherReleaseTask","teacherUpdateTask","teacherAddRemark","teacherDeleteTask","teacherToggleUpload","teacherQueryUnsubmit","teacherQuerySubmit","teacherDownloadSubmit","teacherDeleteStudent","teacherCheckStudent"],"mappings":"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","sourcesContent":["\r\nimport React, {useEffect, useState} from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Table, Modal, Input, Button, Icon, Upload, Drawer, message } from \"antd\";\r\nimport * as course from \"../redux/actionCreators/resource\";\r\nimport { export_json_to_excel2 } from \"../lib/Export2Excel\";\r\nimport AllCourse from \"./AllCourse\";\r\nimport AddStudents from \"./addStudents\";\r\n\r\nconst { confirm } = Modal;\r\n//教师任务的第一个\r\nconst TeacherTasks = props => {\r\n    const {\r\n        type, userId, submitTotal, submitList,downloadUrl,unSubmitList,\r\n        courseTask, myCourse, teacherUploadFlag, teacherUpdateFlag,\r\n        handleAddRemark, handleMyCourseRes,studentCourseList,\r\n        handleFetchTaskRes, handleTeacherDeleteCourse,\r\n        handleTeacherReleaseTask, handleTeacherDeleteTask,\r\n        handleToggleUpload, handleTeacherQuerySubmit,\r\n        handleTeacherQueryUnsubmit,handleTeacherUpdateTask,\r\n        handleTeacherDownloadSubmit,handleDeleteStudentCourse,\r\n        handleCheckStudent,\r\n    } = props;\r\n    const [ releaseVisible, setReleaseVisible ] = useState(false);\r\n    const [ remarkVisible, setRemarkVisible ] = useState(false);\r\n    const [ textVisible, setTextVisible ] = useState(true);\r\n    const [ updateVisible, setUpdateVisible ] = useState(false);\r\n    const [ unSubmitVisible, setUnSubmitVisible ] = useState(false);\r\n    const [ submitVisible, setSubmitVisible ] = useState(false);\r\n    const [ downloadVisible, setDownloadVisible ] = useState(false);\r\n    const [ checkStudentVisible, setCheckStudentVisible ] = useState(false);\r\n    const [ addCourseVisible, setAddCourseVisible ] = useState(false);\r\n    const [ addStudentVisible, setAddStudentVisible ] = useState(false);\r\n    const [teacherCourseId, setTeacherCourseId] = useState(\"\");\r\n    const [taskName, setTaskName] = useState(\"\");\r\n    const [taskId, setTaskId] = useState();\r\n    const [userIdList, setUserIdList] = useState('');\r\n    const [updateName, setUpdateName] = useState(\"\");\r\n    const [ remark, setRemark ] = useState(\"\");\r\n    const [files, setFiles] = useState([]);\r\n    const [updateFiles,setUpdateFiles] = useState([]);\r\n    const [uploadLoading, setUploadLoading] = useState(false);\r\n    const [updateLoading, setUpdateLoading] = useState(false);\r\n    const [uploadBtn, setUploadBtn] = useState(false);\r\n    const [updateBtn, setUpdateBtn] = useState(false);\r\n    const [checkSubmit, setCheckSubmit] = useState({page: 1, rows: 10});\r\n    useEffect(()=>{\r\n        handleMyCourseRes({ userId: userId, type:type })\r\n    },[]);\r\n    useEffect(()=>{\r\n        setReleaseVisible(false);\r\n        setUploadLoading(false);\r\n        setUploadBtn(false);\r\n    },[teacherUploadFlag]);\r\n    useEffect(()=>{\r\n        setUpdateVisible(false);\r\n        setUpdateLoading(false);\r\n        setUpdateBtn(false);\r\n    },[teacherUpdateFlag]);\r\n\r\n    //删除课程或任务时弹出的确认框\r\n    const deleteConfirm = (e, action) => {\r\n        confirm({\r\n            title: \"请确认~\",\r\n            content: action === 'deleteTask' ? '删除将会移除所有学生作业，无法撤销，您确定吗？' : '删除该实验课程，会删除和该课程相关的作业及实验任务附件，您确定吗？',\r\n            onOk() {\r\n                action === \"deleteTask\" ?\r\n                        handleTeacherDeleteTask({\r\n                            taskId: e.id,\r\n                            teacherCourseId: e.teacherCourseId\r\n                        })\r\n                    :\r\n                        handleTeacherDeleteCourse({\r\n                            id: e.teacherCourseId,\r\n                            userId: userId,\r\n                            courseId:e.courseId\r\n                        })\r\n            },\r\n            onCancel() {}\r\n        })\r\n    };\r\n    //实现手动上传文件后发布任务\r\n    const handleUpload = () => {\r\n        if(taskName && taskName.trim().length !== 0){\r\n            handleTeacherReleaseTask(\r\n                files.length > 0 ?\r\n                {\r\n                    teacherCourseId: teacherCourseId,\r\n                    userId: userId,\r\n                    taskName: taskName,\r\n                    file: files[0],\r\n                    courseTask: courseTask\r\n                }\r\n            :\r\n                    {\r\n                        teacherCourseId: teacherCourseId,\r\n                        userId: userId,\r\n                        taskName: taskName,\r\n                        file: \"\",\r\n                        courseTask: courseTask\r\n                    }\r\n            );\r\n            setTaskName(\"\");\r\n            setFiles([]);\r\n        } else {\r\n            message.error(\"任务名不能为空哦！\");\r\n            setUploadLoading(false);\r\n        }\r\n    };\r\n    const handleUpdate = () => {\r\n        if(updateName && updateName.trim().length !== 0){\r\n            handleTeacherUpdateTask({\r\n                id: taskId,\r\n                taskName: updateName,\r\n                file: updateFiles[0],\r\n                teacherCourseId: teacherCourseId,\r\n                userId: userId\r\n            });\r\n            setUpdateFiles([]);\r\n            setTaskName(\"\");\r\n        }\r\n        else{\r\n            message.error(\"任务名不能为空哦！\");\r\n            setUpdateLoading(false);\r\n\r\n\r\n        }\r\n    };\r\n    //添加/修改教学班备注\r\n    const addRemark = () =>{\r\n        handleAddRemark({\r\n            teacherCourseId: teacherCourseId,\r\n            remark: remark,\r\n        });\r\n        setTimeout(()=>{\r\n            setRemarkVisible(!remarkVisible);\r\n            setRemark(\"\");\r\n        }, 1000 );\r\n    };\r\n    //点击那个加号展开实验任务详情\r\n    const expandedRowRender = record => {\r\n        const columns = [\r\n            { title: '任务名称', width: \"18%\", dataIndex: 'taskName', key: 'taskName', align: 'center' },\r\n            {\r\n                title: '任务附件',\r\n                key: 'taskFileName',\r\n                align: 'center',\r\n                width: \"18%\",\r\n                render: e => (\r\n                    <a download={\"\"} href = {e.url}>{e.taskFileName}</a>\r\n                )\r\n            },\r\n            { title: '发布时间', dataIndex: 'addTime', key: 'addTime', align: 'center' },\r\n            {\r\n                title: '学生作业',\r\n                key: 'studentWork',\r\n                align: 'center',\r\n                render: e => (\r\n                    <div>\r\n                        <span\r\n                            style={{color: \"#189EFF\", cursor: \"pointer\", padding: \"0 0.375rem\"}}\r\n                            onClick={() => checkWorks(e)}\r\n                        >\r\n                            查看作业\r\n                        </span>\r\n                        <span\r\n                            onClick={()=>{\r\n                                handleToggleUpload({\r\n                                    taskId: e.id,\r\n                                    teacherCourseId: e.teacherCourseId,\r\n                                })\r\n                            }}\r\n                            style={{color: e.closed ? \"darkBlue\" : \"#B30000\", cursor: \"pointer\", padding: \"0 0.375rem\"}}\r\n                        >\r\n                            {\r\n                                e.closed ? \"开启作业提交\" : \"关闭作业提交\"\r\n                            }\r\n                        </span>\r\n                        <span\r\n                            style={{color: \"#189EFF\", cursor: \"pointer\", padding: \"0 0.375rem\"}}\r\n                            onClick={()=>{\r\n                                setUnSubmitVisible(!unSubmitVisible);\r\n                                handleTeacherQueryUnsubmit({\r\n                                    teacherCourseId: e.teacherCourseId,\r\n                                    taskId: e.id,\r\n                                });\r\n                            }}\r\n                        >\r\n                            未提交名单\r\n                        </span>\r\n                    </div>\r\n                )\r\n            },\r\n            {\r\n                title: '任务处理',\r\n                key: \"dealTask\",\r\n                align: 'center',\r\n                render: (e)=>(\r\n                    <div>\r\n                    <span\r\n                        onClick = {\r\n                            () => {\r\n                                setUpdateVisible(!updateVisible);\r\n                                setUpdateName(e.taskName);\r\n                                setTaskId(e.id);\r\n                                setTeacherCourseId(e.teacherCourseId);\r\n                            }\r\n                        }\r\n                        style = {{color: \"#189EFF\", cursor: \"pointer\"}}\r\n                    >\r\n                        修改任务\r\n                    </span>\r\n                        <span\r\n                            onClick={()=>deleteConfirm(e, \"deleteTask\")}\r\n                            style={{color: \"#B30000\", cursor: \"pointer\", padding: \"0 0.375rem\"}}\r\n                        >\r\n                        删除任务\r\n                        </span>\r\n                    </div>\r\n                )\r\n            }\r\n        ];\r\n        const el = (\r\n            <>\r\n                <Table\r\n                    rowKey={e => (e.id)}\r\n                    columns={columns}\r\n                    dataSource={courseTask[record.teacherCourseId]}\r\n                    pagination={false}\r\n                />\r\n            </>\r\n        );\r\n        return el;\r\n    };\r\n    //删除学生\r\n    const deleteStudent = (e) => {\r\n        confirm({\r\n            title: '将删除学生上传到该任务的所有作业，请下载该学生的作业备份再删除',\r\n            onOk(){\r\n                handleDeleteStudentCourse({\r\n                    studentCourseIdList: e.studentCourseId,\r\n                });\r\n            },\r\n            onCancel(){\r\n            }\r\n        })\r\n    }\r\n    //导出学生\r\n    const exportStudent = () => {\r\n        const tHeader = ['学生姓名', '学号']\r\n        const filterVal = ['userName', 'userId']\r\n        export_json_to_excel2(tHeader, studentCourseList, filterVal, '选课学生信息')\r\n    }\r\n    //下载作业\r\n    const downloadWorks = ()=>{\r\n        handleTeacherDownloadSubmit({\r\n            userIdList: userIdList,\r\n            taskId: taskId\r\n        });\r\n        setDownloadVisible(true);\r\n        }\r\n    //查看学生作业\r\n    const checkWorks = (e)=>{\r\n        setCheckSubmit(\r\n            {\r\n                ...checkSubmit,\r\n                taskId: e.id\r\n            }\r\n        )\r\n        handleTeacherQuerySubmit({\r\n            ...checkSubmit,\r\n            taskId: e.id\r\n        });\r\n        setSubmitVisible(true);\r\n        setTaskId(e.id);\r\n    }\r\n    //查看学生作业中的翻页\r\n    const changePage = (e) => {\r\n        setCheckSubmit(\r\n            {\r\n                ...checkSubmit,\r\n                page: e\r\n            }\r\n        )\r\n        handleTeacherQuerySubmit({\r\n            ...checkSubmit,\r\n            page: e\r\n        })\r\n\r\n    }\r\n    //改变学生作业中每页显示数量\r\n    const onShowSizeChange = (current, pageSize) => {\r\n        setCheckSubmit(\r\n            {\r\n                ...checkSubmit,\r\n                page: 1,\r\n                rows: pageSize\r\n            }\r\n        )\r\n        handleTeacherQuerySubmit({\r\n            ...checkSubmit,\r\n            page: 1,\r\n            rows: pageSize\r\n        })\r\n    }\r\n\r\n\r\n    const columns = [\r\n        { title: '实验课程', dataIndex: 'courseName', key: 'courseName',align: 'center', },\r\n        { title: '教学班编号', dataIndex: 'teacherCourseId', key: 'teacherCourseId', align: 'center', },\r\n        {\r\n            title: '教学班备注',\r\n            key: 'remark',\r\n            align: 'center',\r\n            render: e => (\r\n                <div\r\n                    onClick = {\r\n                        ()=>{\r\n                            setTeacherCourseId(e.teacherCourseId);\r\n                            setRemarkVisible(!remarkVisible);\r\n                            setRemark(e.remark);\r\n                        }\r\n                    }\r\n                    style={{color: e.remark ? \"#F0BB04\" :\"#189EFF\", cursor: \"pointer\"}}\r\n                >{\r\n                    e.remark ?\r\n                        <div><div style={{color: 'rgba(0, 0, 0, 0.65)'}}>{e.remark}</div>修改</div>\r\n                        :\r\n                        <div>添加</div>\r\n                }\r\n                </div>\r\n            )\r\n        },\r\n        { title: '课程编号', dataIndex: 'courseNumber', key: 'courseNumber', align: 'center', },\r\n        { title: '添加时间', dataIndex: 'addTime', key: 'addTime', align: 'center', },\r\n        {\r\n            title: '课程处理',\r\n            key: \"dealCourse\",\r\n            align: 'center',\r\n            render: (e)=>(\r\n                <div>\r\n                    <span\r\n                        onClick={\r\n                            ()=>{\r\n                                setTeacherCourseId(e.teacherCourseId);\r\n                                setReleaseVisible(true);\r\n                            }\r\n                        }\r\n                        style={{color: \"#189EFF\", cursor: \"pointer\"}}\r\n                    >\r\n                        发布任务\r\n                    </span>\r\n                    <span\r\n                        onClick={()=>deleteConfirm(e, \"deleteCourse\")}\r\n                        style={{color: \"#B30000\", cursor: \"pointer\", padding: \"0 0.375rem\"}}\r\n                    >\r\n                        删除课程\r\n                    </span>\r\n                    <span\r\n                        onClick={()=>{\r\n                            setTeacherCourseId(e.teacherCourseId);\r\n                            handleCheckStudent({\r\n                                teacherCourseId: e.teacherCourseId\r\n                            });\r\n                            setCheckStudentVisible(true);\r\n                        }}\r\n                        style={{color: \"#F0BB04\", cursor: \"pointer\", padding: \"0 0.375rem\"}}\r\n                    >\r\n                        学生信息\r\n                    </span>\r\n                </div>\r\n            )\r\n        }\r\n\r\n    ];\r\n\r\n    const releaseProps = {\r\n        beforeUpload:\r\n            file => {\r\n                files.push(file);\r\n                files.length > 0 ? setUploadBtn(true) : setUploadBtn(false);\r\n                return false\r\n            },\r\n        onRemove:\r\n            file=>{\r\n                const index = files.indexOf(file.originFileObj);\r\n                files.splice(index, 1);\r\n                files.length > 0 ? setUploadBtn(true) : setUploadBtn(false);\r\n\r\n            },\r\n    };\r\n\r\n    const updateProps = {\r\n        beforeUpload:\r\n            file => {\r\n                updateFiles.push(file);\r\n                updateFiles.length > 0 ? setUpdateBtn(true) : setUpdateBtn(false);\r\n                return false\r\n            },\r\n        onRemove:\r\n            file=>{\r\n                const index = updateFiles.indexOf(file.originFileObj);\r\n                updateFiles.splice(index, 1);\r\n                updateFiles.length > 0 ? setUpdateBtn(true) : setUpdateBtn(false);\r\n\r\n            }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <Button onClick={() => {setAddCourseVisible(true)}} type='primary' className='margin_row_xxs' >\r\n                <Icon type={'plus'} />\r\n                添加\r\n            </Button>\r\n            <Table\r\n                rowKey={record => record.teacherCourseId}\r\n                size={'small'}\r\n                columns={columns}\r\n                expandedRowRender={(record)=>expandedRowRender(record)}\r\n                onExpand = {\r\n                    (expanded,record)=>{\r\n                        expanded && handleFetchTaskRes({teacherCourseId: record.teacherCourseId, courseTask});\r\n                    }\r\n                }\r\n                dataSource={[...myCourse]}\r\n                pagination={false}\r\n            />\r\n            <Modal\r\n                width={'64rem'}\r\n                title='添加课程'\r\n                visible={addCourseVisible}\r\n                footer={null}\r\n                onCancel = {() => {\r\n                    setAddCourseVisible(false);\r\n                }}\r\n            >\r\n                <AllCourse />\r\n            </Modal>\r\n            <Modal\r\n                title = \"发布实验任务及上传附件\"\r\n                visible = {releaseVisible}\r\n                onCancel={() => {\r\n                    setReleaseVisible(false);\r\n                    setUploadLoading(false);\r\n                    setFiles([]);\r\n                    setTaskName(\"\");\r\n                }}\r\n                footer = {[\r\n                    <Button\r\n                        onClick={() => {\r\n                            setReleaseVisible(!releaseVisible);\r\n                            setUploadLoading(false);\r\n                            setUploadBtn(false);\r\n                            setFiles([]);\r\n                            setTaskName(\"\");\r\n                        }}\r\n                    >\r\n                        取消\r\n                    </Button>\r\n                ]}\r\n                destroyOnClose = {true}\r\n            >\r\n                <div style={{display: \"flex\", marginBottom: \"0.75rem\"}}>\r\n                    <Input\r\n                        style={{width: \"75%\"}}\r\n                        value={taskName}\r\n                        placeholder = {\"请输入任务名称\"}\r\n                        onChange = {(e) =>{\r\n                            setTaskName(e.target.value);\r\n                        }}\r\n                    />\r\n                    <Button\r\n                        style={{marginLeft: \"0.75rem\"}}\r\n                        type = {\"primary\"}\r\n                        loading = {uploadLoading}\r\n                        onClick={()=> {\r\n                            if(files.length <= 1){\r\n                                setUploadLoading(true);\r\n                                handleUpload();\r\n                            }else{\r\n                                message.error(\"只能上传一个附件!\");\r\n                            }\r\n                        }}\r\n                    >\r\n                        发布任务\r\n                    </Button>\r\n                </div>\r\n                <div>\r\n                    <div style={{display: \"flex\", alignItems: \"center\"}} >\r\n                        <Upload\r\n                            {...releaseProps}\r\n                        >\r\n                            <Button\r\n                                disabled={uploadBtn}\r\n                                onClick={()=>(setTextVisible(false))}\r\n                                style={{marginRight: \"0.625rem\"}}\r\n                            >\r\n                                <Icon type = \"upload\"/>\r\n                                选择文件\r\n                            </Button>\r\n                        </Upload>\r\n                        <p style={{ display: textVisible ? \"\" : \"none\" }}>{textVisible ? '(注：上传的文件将覆盖原有文件！)' : '可不上传文件直接发布任务'}</p>\r\n                    </div>\r\n                    <div className=\"fontC_red fontS_12 padding_column_xxs\">发布的任务和上传到该任务的作业，将于每年8月1日清空，请老师及时备份。</div>\r\n                </div>\r\n        </Modal>\r\n\r\n            <Modal\r\n                rowKey = {e=>e.id}\r\n                title = \"修改任务\"\r\n                visible = {updateVisible}\r\n                onCancel={() => {\r\n                    setUpdateVisible(!updateVisible);\r\n                    setUpdateLoading(false);\r\n                    setUpdateBtn(false);\r\n                    setUpdateFiles([]);\r\n                }}\r\n                footer = {[\r\n                    <Button\r\n                        disabled={updateBtn}\r\n                        onClick={() => {\r\n                            setUpdateVisible(!updateVisible);\r\n                            setUpdateLoading(false);\r\n                          }\r\n                        }\r\n                    >\r\n                        取消\r\n                    </Button>\r\n                ]}\r\n                destroyOnClose = {true}\r\n\r\n            >\r\n                <div style={{display: \"flex\", marginBottom: \"0.75rem\"}}>\r\n                    <Input\r\n                        style={{width: \"75%\"}}\r\n                        value = {updateName}\r\n                        onChange = {(e) =>{\r\n                            setUpdateName(e.target.value);\r\n                        }}\r\n                    />\r\n                    <Button\r\n                        loading={updateLoading}\r\n                        style={{marginLeft: \"0.75rem\"}}\r\n                        type = {\"primary\"}\r\n                        onClick={()=>{\r\n                            setUpdateLoading(true);\r\n                            handleUpdate();\r\n                        }}\r\n                    >\r\n                        确认修改\r\n                    </Button>\r\n                </div>\r\n                <div\r\n                    style={{display: \"flex\", alignItems: \"center\"}}\r\n                >\r\n                    <Upload\r\n                        {...updateProps}\r\n                        showUploadList={true}\r\n                        multiple = {true}\r\n                    >\r\n                        <Button\r\n                            disabled={updateBtn}\r\n                            onClick={()=>(setTextVisible(false))}\r\n                            style={{marginRight: \"0.625rem\"}}\r\n                        >\r\n                            <Icon type = \"upload\"/>\r\n                            选择文件\r\n                        </Button>\r\n                    </Upload>\r\n                    <p style={{ display: textVisible ? \"\" : \"none\" }}>(注：可不上传文件直接发布任务~)</p>\r\n                </div>\r\n            </Modal>\r\n            <Modal\r\n                title = {`${remark ? \"修改\" : \"添加\"}备注`}\r\n                visible={remarkVisible}\r\n                footer = {null}\r\n                onCancel={()=>setRemarkVisible(!remarkVisible)}\r\n            >\r\n                <div  style = {{display: \"flex\" }} >\r\n                <Input\r\n                    style={{marginRight: \"0.8125rem\"}}\r\n                    placeholder={`${remark ? remark : \"请输入内容（如：班级代码、专业等）\"}`}\r\n                    value={remark}\r\n                    onChange = {(e) =>{\r\n                        setRemark(e.target.value);\r\n                    }}\r\n                />\r\n                <Button\r\n                    type={\"primary\"}\r\n                    onClick={()=>addRemark()}\r\n                >\r\n                    确认\r\n                </Button>\r\n                </div>\r\n            </Modal>\r\n            <Modal\r\n                title = \"未提交作业名单\"\r\n                visible={unSubmitVisible}\r\n                footer = {null}\r\n                onCancel={() => { setUnSubmitVisible(!unSubmitVisible) }}\r\n            >\r\n                <Table\r\n                    rowKey={e => (e.studentId)}\r\n                    size = \"small\"\r\n                    dataSource={unSubmitList}\r\n                    columns={[\r\n                        { title: \"学生姓名\", dataIndex: \"userName\", key: \"userName\" },\r\n                        { title: \"学生学号\", dataIndex: \"userId\", key: \"userId\" }\r\n                    ]}\r\n                    pagination={false}\r\n\r\n                />\r\n\r\n            </Modal>\r\n            <Modal\r\n                title = \"选课学生信息\"\r\n                visible={checkStudentVisible}\r\n                footer = {null}\r\n                onCancel={() => { setCheckStudentVisible(false) }}\r\n                footer = {[\r\n                    <Button onClick={() => {setAddStudentVisible(true)}} >添加</Button>,\r\n                    <Button type='primary' onClick={exportStudent} >导出</Button>\r\n                ]}\r\n            >\r\n                <Table\r\n                    rowKey={e => (e.userId)}\r\n                    size={\"small\"}\r\n                    dataSource = {[...studentCourseList]}\r\n                    columns={[\r\n                        { title: \"学生姓名\", dataIndex: \"userName\", key: \"userName\" },\r\n                        { title: \"学生学号\", dataIndex: \"userId\", key: \"userId\" },\r\n                        {\r\n                            title: \"操作\",\r\n                            key: \"operate\",\r\n                            render: (e)=> (\r\n                                <span\r\n                                    onClick={()=>(deleteStudent(e))}\r\n                                    style={{color: \"#B30000\", cursor: \"pointer\", padding: \"0 0.375rem\"}}\r\n                                >\r\n                                    删除\r\n                                </span>\r\n                            )\r\n                        }\r\n                    ]}\r\n                    pagination={false}\r\n\r\n                />\r\n\r\n            </Modal>\r\n            <Modal\r\n                title={\"请确认！\"}\r\n                width={\"12.5rem\"}\r\n                visible={downloadVisible}\r\n                footer = {\r\n                    <a download=\"\" href={downloadUrl}>\r\n                        <Button type={\"primary\"} onClick={() => (setDownloadVisible(false))} >确定</Button>\r\n                    </a>\r\n                }\r\n                onCancel={()=>(setDownloadVisible(!downloadVisible))}\r\n            >\r\n                您确认下载吗？\r\n            </Modal>\r\n            <Modal\r\n                title={`已提交作业信息`}\r\n                visible={submitVisible}\r\n                width={\"64rem\"}\r\n                onCancel = {()=>(setSubmitVisible(!submitVisible))}\r\n                footer={null}\r\n            >\r\n\r\n                <Button\r\n                    onClick={downloadWorks}\r\n                    type = {\"primary\"}\r\n                    >\r\n                    <Icon type = \"download\" />\r\n                    下载\r\n                </Button>\r\n                <span className=\"margin_row_xxs\">(未选择学生点击按钮默认下载全部学生作业)</span>\r\n                <Table\r\n                    rowKey={e => (e.id)}\r\n                    pagination={{\r\n                        current: checkSubmit.page,\r\n                        total:submitTotal,\r\n                        showSizeChanger: true,\r\n                        onShowSizeChange: onShowSizeChange,\r\n                        onChange: changePage\r\n                    }}\r\n                    rowSelection ={{\r\n                        onChange: (selectedRowKeys, selectedRows) => {\r\n                            //setStartDownload(selectedRows);\r\n                            let studentIdList = selectedRows.map((e)=>(\r\n                                e.studentId\r\n                            ));\r\n                            let idList = Array.from(new Set(studentIdList));\r\n                            setUserIdList(idList.join(\";\"));\r\n                        },\r\n                    }}\r\n                    dataSource={[...submitList]}\r\n                    columns={[\r\n                        {title: \"学生姓名\", dataIndex: \"userName\", key: \"userName\"},\r\n                        {title: \"学号\", dataIndex: \"studentId\", key: \"studentId\"},\r\n                        {\r\n                            title: \"作业名称\",\r\n                            key: \"workName\",\r\n                            render: (e)=>(\r\n                                <a href={e.url}>{e.workName}</a>\r\n                            )\r\n                        },\r\n                        {title: \"上传时间\", dataIndex: \"addTime\", key: \"addTime\"}]\r\n                    }\r\n                />\r\n\r\n            </Modal>\r\n            <AddStudents\r\n                addStudentVisible={addStudentVisible}\r\n                visibleCallback={(e) => (setAddStudentVisible(e))}\r\n                teacherCourseId={teacherCourseId}\r\n                />\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default connect(\r\n    state => ({\r\n        userId: state.getIn([\"userMana\", \"common\", \"userId\"]),\r\n        type: state.getIn([\"userMana\", \"common\", \"type\"]),\r\n        myCourse: state.getIn([\"course\", \"myCourse\"]),\r\n        courseTask: state.getIn([\"course\", \"courseTask\"]),\r\n        unSubmitList: state.getIn([\"course\", \"unsubmitList\"]),\r\n        submitList: state.getIn([\"course\", \"submitList\"]),\r\n        submitTotal: state.getIn([\"course\", \"submitTotal\"]),\r\n        downloadUrl: state.getIn([\"course\", \"downloadUrl\"]),\r\n        studentCourseList: state.getIn([\"course\", \"studentCourseList\"]),\r\n        studentCourseTotal: state.getIn([\"course\",\"studentCourseTotal\"]),\r\n        teacherUploadFlag: state.getIn([\"course\", \"teacherUploadFlag\"]),\r\n        teacherUpdateFlag: state.getIn([\"course\", \"teacherUpdateFlag\"]),\r\n    }) ,\r\n    dispatch => ({\r\n        handleMyCourseRes(args){\r\n            dispatch(course.queryMyCourse(args));\r\n        },\r\n        handleFetchTaskRes(teacherCourseId,courseTask){\r\n            dispatch(course.fetchCourseTask(teacherCourseId, courseTask));\r\n        },\r\n        handleTeacherDeleteCourse(args){\r\n            dispatch(course.teacherDeleteCourse(args))\r\n        },\r\n        handleTeacherReleaseTask(args){\r\n            dispatch(course.teacherReleaseTask(args))\r\n        },\r\n        handleTeacherUpdateTask(args){\r\n            dispatch(course.teacherUpdateTask(args))\r\n        },\r\n        handleAddRemark(args){\r\n            dispatch(course.teacherAddRemark(args))\r\n        },\r\n        handleTeacherDeleteTask(args){\r\n            dispatch(course.teacherDeleteTask(args))\r\n        },\r\n        handleToggleUpload(args){\r\n            dispatch(course.teacherToggleUpload(args));\r\n        },\r\n        handleTeacherQueryUnsubmit(args){\r\n            dispatch(course.teacherQueryUnsubmit(args))\r\n        },\r\n        handleTeacherQuerySubmit(taskId){\r\n            dispatch(course.teacherQuerySubmit(taskId))\r\n        },\r\n        handleTeacherDownloadSubmit(args){\r\n            dispatch(course.teacherDownloadSubmit(args))\r\n        },\r\n        handleDeleteStudentCourse(args){\r\n            dispatch(course.teacherDeleteStudent(args))\r\n        },\r\n        handleCheckStudent(args){\r\n            dispatch(course.teacherCheckStudent(args));\r\n        }\r\n    })\r\n)(TeacherTasks);\r\n"]},"metadata":{},"sourceType":"module"}