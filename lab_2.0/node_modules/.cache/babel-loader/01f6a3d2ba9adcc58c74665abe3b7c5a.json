{"ast":null,"code":"import\"antd/es/table/style/css\";import _Table from\"antd/es/table\";import\"antd/es/modal/style/css\";import _Modal from\"antd/es/modal\";import\"antd/es/form/style/css\";import _Form from\"antd/es/form\";import\"antd/es/input/style/css\";import _Input from\"antd/es/input\";import\"antd/es/button/style/css\";import _Button from\"antd/es/button\";import _slicedToArray from\"C:\\\\projects\\\\lab\\\\lab_2.0\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import\"antd/es/select/style/css\";import _Select from\"antd/es/select\";import React,{useEffect,useRef,useState}from\"react\";import{connect}from\"react-redux\";import{withRouter}from'react-router-dom';import\"../static/style/header.scss\";import*as user from\"../redux/actionCreators/user\";import{checkNumber,Encrypto,isChinese,openNotification,Decrypt,onKeyDown}from\"../utils/commonFunction\";import{COUNTER,LOG_OUT,SECRET_GUARD_EXISTENCE}from\"../constants/actionTypes\";import StudentTable from\"./StudentTable\";import SearchStudent from\"./SearchStudent\";var Option=_Select.Option;var sex=\"男\",teacherId=\"\",question=\"Q1\";var Header=function Header(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),registerUserId=_useState2[0],setRegisterUserId=_useState2[1];var rowSelection={onChange:function onChange(selectedRowKeys,selectedRows){setRegisterUserId([selectedRowKeys]);},getCheckboxProps:function getCheckboxProps(record){return{disabled:record.name==='Disabled User',// Column configuration not to be checked\nname:record.name};}};var handleSexChange=function handleSexChange(val){sex=val;};var handleTeacherChange=function handleTeacherChange(val){teacherId=val;};var handleQuestionChange=function handleQuestionChange(val){question=val;};var login=props.login,handleLogin=props.handleLogin,handleRegister=props.handleRegister,handleTeacher=props.handleTeacher,reUserId=props.reUserId,reGrade=props.reGrade,reAcademy=props.reAcademy,reDiscipline=props.reDiscipline,reClass=props.reClass,reSex=props.reSex,reType=props.reType,rePhone=props.rePhone,rePassword=props.rePassword,name=props.name,userIdentify=props.userIdentify,handleLogOut=props.handleLogOut,handlePreserve=props.handlePreserve,data=props.data,handleQueryRegister=props.handleQueryRegister,total=props.total,handleRegistered=props.handleRegistered,teacherName=props.teacherName,registerSuccess=props.registerSuccess,registeredFlag=props.registeredFlag,querySecret=props.querySecret,secretGuardExistence=props.secretGuardExistence,isQuestion=props.isQuestion,resetPasswardData=props.resetPasswardData,addQuestion=props.addQuestion,checkQuestion=props.checkQuestion,isCheck=props.isCheck,modifyPassward=props.modifyPassward,visible=props.visible;useEffect(function(){registerSuccess?setRegisterVisible(!registerVisible):setRegisterVisible(registerVisible);},[registerSuccess]);useEffect(function(){if(reType!==\"\"){handleQueryRegister({userId:reUserId,type:\"teacher\",page:1});}},[registeredFlag]);useEffect(function(){setResetVisible(modifyPassward);},[modifyPassward]);useEffect(function(){setResetVisible(false);setLoginVisible(false);},[visible]);//注册信息\nvar userId=useRef();var userName=useRef();var academy=useRef();var grade=useRef();var discipline=useRef();var cls=useRef();var phone=useRef();var password=useRef();var type=useRef();//学生修改信息\nvar modifyUserId=useRef();var modifyUserName=useRef();var modifyAcademy=useRef();var modifyGrade=useRef();var modifyDiscipline=useRef();var modifyCls=useRef();var modifySex=useRef();var modifyType=useRef();var modifyPhone=useRef();var modifyPassword=useRef();//密保\nvar questionAnswer=useRef();var newPassward=useRef();var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loginVisible=_useState4[0],setLoginVisible=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),registerVisible=_useState6[0],setRegisterVisible=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),identifyVisible=_useState8[0],setIdentifyVisible=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),studentMessageVisible=_useState10[0],setStudentMessageVisible=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),studentCertification=_useState12[0],setStudentCertification=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),resetVisible=_useState14[0],setResetVisible=_useState14[1];//身份\nvar _useState15=useState(\"游客\"),_useState16=_slicedToArray(_useState15,2),identify=_useState16[0],setIdentify=_useState16[1];useEffect(function(){setIdentify(userIdentify);userIdentify==='超级管理员'&&props.history.push('/admin');},[userIdentify]);var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),edit=_useState18[0],toggleEdit=_useState18[1];//教师批准注册用户\nvar columns=[{title:'学号',dataIndex:'userId',key:'name'},{title:'学生姓名',dataIndex:'userName',key:'userName'},{title:'年级',dataIndex:'grade',key:'grade'},{title:'学院',dataIndex:'academy',key:'academy'},{title:'专业',dataIndex:'discipline',key:'discipline'},{title:'班级',dataIndex:'cls',key:'cls'},{title:'性别',dataIndex:'sex',key:'sex'},{title:'电话',dataIndex:'phone',key:'phone'},{title:'注册时间',dataIndex:'registerDate',key:'registerDate'},{title:'授权状态',dataIndex:'state',key:'state',render:function render(text,data){return/*#__PURE__*/React.createElement(\"span\",{style:{color:\"blue\",cursor:\"pointer\"},onClick:function onClick(){text===\"no\"&&handleRegistered({userId:[data.userId],teacherId:reUserId,type:reType,page:1});}},text===\"no\"?text=\"批准\":text=\"已批准\");}}];//我的信息\nvar refs=[{ref:modifyUserId,defaultMessage:reUserId,title:\"学号\"},{ref:modifyUserName,defaultMessage:name,title:\"姓名\"},{ref:modifyAcademy,defaultMessage:reAcademy,title:\"学院\"},{ref:modifyGrade,defaultMessage:reGrade,title:\"年级\"},{ref:modifyDiscipline,defaultMessage:reDiscipline,title:\"专业\"},{ref:modifyCls,defaultMessage:reClass,title:\"班级\"},{ref:modifySex,defaultMessage:reSex,title:\"性别\"},{ref:modifyType,defaultMessage:reType,title:\"类型\"},{ref:modifyPhone,defaultMessage:rePhone,title:\"电话\"},{ref:modifyPassword,defaultMessage:Decrypt(rePassword),title:\"密码\"}];var layout={labelCol:{span:4},wrapperCol:{span:16}};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"header\",{className:\"userHeader\"},/*#__PURE__*/React.createElement(\"ul\",{id:\"headerNav\",className:\"row row-start-center\"},login&&/*#__PURE__*/React.createElement(\"li\",{onClick:function onClick(){return setIdentifyVisible(!identifyVisible);}},/*#__PURE__*/React.createElement(\"span\",null,\"\\u60A8\\u597D,\"),/*#__PURE__*/React.createElement(\"span\",{className:\"name\"},name)),identifyVisible&&login&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(_Modal,{keyboard:true,title:\"我的信息（其他信息不可改只可更改密码）\",visible:identifyVisible,onCancel:function onCancel(){return setIdentifyVisible(!identifyVisible);},onOk:function onOk(){return setIdentifyVisible(!identifyVisible);},footer:/*#__PURE__*/React.createElement(_Button,{type:\"primary\",onClick:function onClick(){setResetVisible(true);secretGuardExistence(reUserId);setIdentifyVisible(!identifyVisible);}},\"\\u4FEE\\u6539\\u5BC6\\u7801\")},/*#__PURE__*/React.createElement(_Form.Item,{className:\"row row-spacebetween-center\",style:{margin:0,flexWrap:\"wrap\"}},refs.map(function(el){return/*#__PURE__*/React.createElement(\"div\",{className:\"row center-center\",style:{width:\"30rem\"}},/*#__PURE__*/React.createElement(\"label\",null,el.title),/*#__PURE__*/React.createElement(_Input,{disabled:true,ref:el.ref,defaultValue:el.defaultMessage,className:\"modifyInput\",onPressEnter:function onPressEnter(){handlePreserve({userId:modifyUserId.current.state.value,userName:modifyUserName.current.state.value,grade:modifyGrade.current.state.value,academy:modifyAcademy.current.state.value,discipline:modifyDiscipline.current.state.value,cls:modifyCls.current.state.value,phone:modifyPhone.current.state.value,sex:modifySex.current.state.value,password:Encrypto(modifyPassword.current.state.value)});setIdentifyVisible(!identifyVisible);}}));})))),/*#__PURE__*/React.createElement(\"li\",null,\"\\u8EAB\\u4EFD - \".concat(identify)),login&&identify===\"教师\"&&/*#__PURE__*/React.createElement(\"li\",{className:\"studentMessage\",onClick:function onClick(){return setStudentMessageVisible(!studentMessageVisible);}},\"\\u5B66\\u751F\\u4FE1\\u606F\"),studentMessageVisible&&login&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(_Modal,{visible:studentMessageVisible,onCancel:function onCancel(){return setStudentMessageVisible(!studentMessageVisible);},title:\"学生信息\",footer:null,width:\"60rem\"},/*#__PURE__*/React.createElement(\"div\",{className:\"studentMesWrapper\"},/*#__PURE__*/React.createElement(\"div\",{className:\"searchWrapper\"},/*#__PURE__*/React.createElement(_Button,{style:{marginRight:\"0.5rem\"},onClick:function onClick(){setStudentCertification(true);handleQueryRegister({userId:reUserId,type:reType,page:1});}},\"\\u5B66\\u751F\\u8BA4\\u8BC1\"),studentCertification&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(_Modal,{width:\"68rem\",visible:studentCertification,onCancel:function onCancel(){return setStudentCertification(!studentCertification);},title:\"学生注册\",footer:/*#__PURE__*/React.createElement(_Button,{type:\"primary\",onClick:function onClick(){handleRegistered({userId:registerUserId});}},\"\\u6279\\u91CF\\u6279\\u51C6\")},/*#__PURE__*/React.createElement(_Table,{rowKey:function rowKey(record){return record.userId;},rowSelection:rowSelection,style:{width:\"65rem\"},columns:columns,dataSource:data,pagination:{total:total,pageSize:10,onChange:function onChange(e){handleQueryRegister({userId:reUserId,type:\"teacher\",page:e});}}}))),/*#__PURE__*/React.createElement(SearchStudent,{style:{marginLeft:'1rem'}})),/*#__PURE__*/React.createElement(StudentTable,null)))),login&&/*#__PURE__*/React.createElement(\"a\",{href:\"\",onClick:function onClick(e){e.preventDefault();localStorage.removeItem('access');handleLogOut();setLoginVisible(loginVisible);}},\"\\u9000\\u51FA\"),!login&&/*#__PURE__*/React.createElement(\"li\",{className:\"navItem\",onClick:function onClick(){return setLoginVisible(!loginVisible);}},\"\\u767B\\u5F55\"),loginVisible&&!login?/*#__PURE__*/React.createElement(_Modal,{visible:loginVisible,title:\"\\u767B\\u5F55\",onCancel:function onCancel(){return setLoginVisible(!loginVisible);},onOk:function onOk(){setLoginVisible(!loginVisible);},footer:/*#__PURE__*/React.createElement(_Button,{type:\"primary\",onClick:function onClick(){handleLogin({userId:userId.current.state.value,password:Encrypto(password.current.input.value)});}},\"\\u767B\\u5F55\")},/*#__PURE__*/React.createElement(_Form,Object.assign({},layout,{name:\"basic\"// initialValues={{\n//     remember: true,\n// }}\n// onFinish={onFinish}\n// onFinishFailed={onFinishFailed}\n}),/*#__PURE__*/React.createElement(_Form.Item,{label:\"\\u7528\\u6237\\u540D\",name:\"username\",rules:[{required:true,message:'Please input your username!'}]},/*#__PURE__*/React.createElement(_Input,{ref:userId})),/*#__PURE__*/React.createElement(_Form.Item,{label:\"\\u5BC6\\u7801\",name:\"password\",rules:[{required:true,message:'Please input your password!'}]},/*#__PURE__*/React.createElement(_Input.Password,{ref:password,onPressEnter:function onPressEnter(){handleLogin({userId:userId.current.state.value,password:Encrypto(password.current.input.value)});}}))),/*#__PURE__*/React.createElement(_Button,{style:{marginTop:\"1rem\"},onClick:function onClick(){console.log(modifyPassward);if(userId.current.state.value!==''){secretGuardExistence(userId.current.state.value);}else{openNotification('账号不能为空');}}},\"\\u5FD8\\u8BB0\\u5BC6\\u7801\")):\"\",/*#__PURE__*/React.createElement(_Modal,{visible:resetVisible,title:isCheck?\"修改密码\":isQuestion?\"验证密保问题\":\"添加密保问题\",onCancel:function onCancel(){return setResetVisible(!resetVisible);},onOk:function onOk(){setResetVisible(!resetVisible);querySecret({userId:reUserId});},footer:/*#__PURE__*/React.createElement(_Button,{type:\"primary\",onClick:function onClick(){isCheck?handlePreserve({'userId':resetPasswardData.userId||reUserId,'userName':resetPasswardData.userName||name,'grade':resetPasswardData.grade||reGrade,'academy':resetPasswardData.academy||reAcademy,'discipline':resetPasswardData.discipline||reDiscipline,'cls':resetPasswardData.cls||reClass,'phone':resetPasswardData.phone||rePhone,'sex':resetPasswardData.sex||reSex,'password':Encrypto(newPassward.current.state.value)}):isQuestion?checkQuestion({'userId':resetPasswardData.userId||reUserId,'question':question,'answer':questionAnswer.current.input.value}):addQuestion({'userId':resetPasswardData.userId||reUserId,'question':question,'answer':questionAnswer.current.input.value});}},\"\\u63D0\\u4EA4\")},isCheck?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"row row-spacebetween-center\"},/*#__PURE__*/React.createElement(\"label\",null,\"\\u8F93\\u5165\\u4F60\\u7684\\u65B0\\u5BC6\\u7801\\uFF1A\"),/*#__PURE__*/React.createElement(_Input,{ref:newPassward,style:{width:\"70%\"}}))):/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"row row-spacebetween-center\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"\"},\"\\u8BF7\\u9009\\u62E9\\u5BC6\\u4FDD\\u95EE\\u9898:\"),/*#__PURE__*/React.createElement(_Select,{defaultValue:\"Q1\",style:{width:\"70%\"},onChange:function onChange(val){return handleQuestionChange(val);}},/*#__PURE__*/React.createElement(Option,{value:\"Q1\"},\"\\u60A8\\u5C31\\u8BFB\\u7684\\u9AD8\\u4E2D\\u53EB\\u4EC0\\u4E48\\u540D\\u5B57\\uFF1F\"),/*#__PURE__*/React.createElement(Option,{value:\"Q2\"},\"\\u60A8\\u7684\\u6BCD\\u4EB2\\u53EB\\u4EC0\\u4E48\\u540D\\u5B57\\uFF1F\"),/*#__PURE__*/React.createElement(Option,{value:\"Q3\"},\"\\u60A8\\u5C31\\u8BFB\\u7684\\u5C0F\\u5B66\\u53EB\\u4EC0\\u4E48\\u540D\\u5B57\\uFF1F\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"row row-spacebetween-center\"},/*#__PURE__*/React.createElement(\"label\",null,\"\\u8F93\\u5165\\u5BC6\\u4FDD\\u95EE\\u9898\\u7B54\\u6848\\uFF1A\"),/*#__PURE__*/React.createElement(_Input,{ref:questionAnswer,style:{width:\"70%\"}})))),!login&&/*#__PURE__*/React.createElement(\"li\",{className:\"navItem\",onClick:function onClick(){setRegisterVisible(!registerVisible);handleTeacher({});}},\"\\u6CE8\\u518C\"),registerVisible&&!login&&/*#__PURE__*/React.createElement(_Modal,{title:\"\\u6CE8\\u518C\",visible:registerVisible,onCancel:function onCancel(){return setRegisterVisible(!registerVisible);},footer:/*#__PURE__*/React.createElement(\"div\",{className:\"row row-spacebetween-center\"},/*#__PURE__*/React.createElement(\"span\",null,\"\\u63D0\\u793A\\uFF1A\\u4FE1\\u606F\\u5FC5\\u987B\\u771F\\u5B9E,\\u5B8C\\u6574,\\u5426\\u5219\\u65E0\\u6548\\uFF01\"),/*#__PURE__*/React.createElement(_Button,{type:\"primary\",onClick:function onClick(){handleRegister({userId:userId.current.state.value,userName:userName.current.state.value,academy:academy.current.state.value,grade:grade.current.state.value,discipline:discipline.current.state.value,cls:cls.current.state.value,sex:sex,phone:phone.current.state.value,teacherId:teacherId,password:Encrypto(password.current.input.value)});}},\"\\u6CE8\\u518C\"))},/*#__PURE__*/React.createElement(\"div\",{className:\"row row-spacebetween-center\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"\"},\"\\u5B66\\u53F7\"),/*#__PURE__*/React.createElement(_Input,{ref:userId,style:{width:\"90%\"},placeholder:'例：2018211304'})),/*#__PURE__*/React.createElement(\"div\",{className:\"row row-spacebetween-center\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"\"},\"\\u5E74\\u7EA7\"),/*#__PURE__*/React.createElement(_Input,{ref:grade,style:{width:\"90%\"},placeholder:'例：2018'})),/*#__PURE__*/React.createElement(\"div\",{className:\"row row-spacebetween-center\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"\"},\"\\u4E13\\u4E1A\"),/*#__PURE__*/React.createElement(_Input,{ref:discipline,style:{width:\"90%\"},placeholder:'例：电子商务'})),/*#__PURE__*/React.createElement(\"div\",{className:\"row row-spacebetween-center\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"\"},\"\\u6027\\u522B\"),/*#__PURE__*/React.createElement(_Select,{defaultValue:\"\\u7537\",style:{width:\"90%\"},onChange:function onChange(val){return handleSexChange(val);}},/*#__PURE__*/React.createElement(Option,{value:\"\\u7537\"},\"\\u7537\"),/*#__PURE__*/React.createElement(Option,{value:\"\\u5973\"},\"\\u5973\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"row row-spacebetween-center\"},/*#__PURE__*/React.createElement(\"label\",null,\"\\u6559\\u5E08\"),/*#__PURE__*/React.createElement(_Select,{onSearch:function onSearch(value){return console.log(value);},onChange:function onChange(val){return handleTeacherChange(val);},style:{width:\"90%\"},placeholder:\"\\u6CE8\\u518C\\u540E\\u9700\\u8981\\u8BE5\\u6559\\u5E08\\u5BA1\\u6838\\u901A\\u8FC7\\uFF0C\\u8BF7\\u9009\\u62E9\"},teacherName.map(function(item,index){return/*#__PURE__*/React.createElement(Option,{value:item[1],key:index},item[0]);}))),/*#__PURE__*/React.createElement(\"div\",{className:\"row row-spacebetween-center\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"\"},\"\\u7535\\u8BDD\"),/*#__PURE__*/React.createElement(_Input,{ref:phone,style:{width:\"90%\"},placeholder:'输入11位的数字'})),/*#__PURE__*/React.createElement(\"div\",{className:\"row row-spacebetween-center\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"\"},\"\\u59D3\\u540D\"),/*#__PURE__*/React.createElement(_Input,{ref:userName,style:{width:\"90%\"}})),/*#__PURE__*/React.createElement(\"div\",{className:\"row row-spacebetween-center\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"\"},\"\\u5B66\\u9662\"),/*#__PURE__*/React.createElement(_Input,{ref:academy,style:{width:\"90%\"},placeholder:'例：经济管理现代邮政学院'})),/*#__PURE__*/React.createElement(\"div\",{className:\"row row-spacebetween-center\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"\"},\"\\u73ED\\u7EA7\"),/*#__PURE__*/React.createElement(_Input,{ref:cls,style:{width:\"90%\"},placeholder:'例：03131802'})),/*#__PURE__*/React.createElement(\"div\",{className:\"row row-spacebetween-center\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"\"},\"\\u5BC6\\u7801\"),/*#__PURE__*/React.createElement(_Input.Password,{onPressEnter:function onPressEnter(){handleRegister({userId:userId.current.state.value,userName:userName.current.state.value,academy:academy.current.state.value,grade:grade.current.state.value,discipline:discipline.current.state.value,cls:cls.current.state.value,sex:sex,phone:phone.current.state.value,teacherId:teacherId,password:Encrypto(password.current.input.value)});},ref:password,style:{width:\"90%\"}}))),/*#__PURE__*/React.createElement(\"li\",{style:{paddingLeft:10}},/*#__PURE__*/React.createElement(\"a\",{href:\"http://172.22.4.2.node6.cqupt.co/manual/html/student.html\"},\"\\u4F7F\\u7528\\u624B\\u518C\")))));};export default withRouter(connect(function(state){return{login:state.getIn([\"userMana\",\"common\",\"login\"]),teacher:state.getIn([\"userMana\",\"student\",\"teacher\"]),userIdentify:state.getIn([\"userMana\",\"common\",\"userIdentify\"]),name:state.getIn([\"userMana\",\"common\",\"name\"]),reAcademy:state.getIn([\"userMana\",\"common\",\"academy\"]),reDiscipline:state.getIn([\"userMana\",\"common\",\"discipline\"]),reGrade:state.getIn([\"userMana\",\"common\",\"grade\"]),reSex:state.getIn([\"userMana\",\"common\",\"sex\"]),reUserId:state.getIn([\"userMana\",\"common\",\"userId\"]),reClass:state.getIn([\"userMana\",\"common\",\"class\"]),reType:state.getIn([\"userMana\",\"common\",\"type\"]),rePhone:state.getIn([\"userMana\",\"common\",\"phone\"]),rePassword:state.getIn([\"userMana\",\"common\",\"password\"]),data:state.getIn([\"userMana\",\"common\",\"registerStudent\"]),total:state.getIn([\"userMana\",\"common\",\"registerTotal\"]),teacherName:state.getIn([\"resource\",\"resource\",\"teacherName\"]),ratify:state.getIn([\"resource\",\"resource\",\"ratify\"]),registerSuccess:state.getIn([\"userMana\",\"common\",\"registerSuccess\"]),registeredFlag:state.getIn([\"userMana\",\"common\",\"registeredFlag\"]),resetPasswardData:state.getIn([\"userMana\",\"common\",\"resetPasswardData\"]),isQuestion:state.getIn([\"userMana\",\"common\",\"isQuestion\"]),isCheck:state.getIn([\"userMana\",\"common\",\"isCheck\"]),modifyPassward:state.getIn([\"userMana\",\"common\",\"modifyPassward\"]),visible:state.getIn([\"userMana\",\"common\",\"visible\"])};},function(dispatch){return{handleLogin:function handleLogin(args){if(args.length===0){openNotification(\"请输入密码\");}else{dispatch(user.login(args));}},handleRegister:function handleRegister(args){if(!checkNumber(args.userId)&&args.userId.length===10){openNotification(\"请检查学号格式\");}else if(!checkNumber(args.grade)&&args.grade.length===4){openNotification(\"请检查年级的格式\");}else if(!isChinese(args.discipline)){openNotification(\"请检查专业的格式\");}else if(!checkNumber(args.phone)&&args.phone.length===11){openNotification(\"请检查电话的格式\");}else if(!isChinese(args.userName)){openNotification(\"请检查姓名的格式\");}else if(!isChinese(args.academy)){openNotification(\"请检查学院的格式\");}else if(!checkNumber(args.cls)&&args.cls.length===8){openNotification(\"请检查班级的格式\");}else if(args.length===0){openNotification(\"请输入密码\");}else{dispatch(user.register(args));}},handleTeacher:function handleTeacher(){dispatch(user.teacher());},handleLogOut:function handleLogOut(){dispatch({type:LOG_OUT});},handlePreserve:function handlePreserve(args){dispatch(user.preserve(args));},handleQueryRegister:function handleQueryRegister(args){dispatch(user.queryRegister(args));},handleRegistered:function handleRegistered(args){dispatch(user.registered(args));},querySecret:function querySecret(args){dispatch(user.querySecret(args));},secretGuardExistence:function secretGuardExistence(args){dispatch(user.secretGuardExistence(args));},checkQuestion:function checkQuestion(args){dispatch(user.checkQuestion(args));},addQuestion:function addQuestion(args){dispatch(user.addQuestion(args));}};})(Header));","map":{"version":3,"sources":["C:/projects/lab/lab_2.0/src/components/Header.js"],"names":["React","useEffect","useRef","useState","connect","withRouter","user","checkNumber","Encrypto","isChinese","openNotification","Decrypt","onKeyDown","COUNTER","LOG_OUT","SECRET_GUARD_EXISTENCE","StudentTable","SearchStudent","Option","sex","teacherId","question","Header","props","registerUserId","setRegisterUserId","rowSelection","onChange","selectedRowKeys","selectedRows","getCheckboxProps","record","disabled","name","handleSexChange","val","handleTeacherChange","handleQuestionChange","login","handleLogin","handleRegister","handleTeacher","reUserId","reGrade","reAcademy","reDiscipline","reClass","reSex","reType","rePhone","rePassword","userIdentify","handleLogOut","handlePreserve","data","handleQueryRegister","total","handleRegistered","teacherName","registerSuccess","registeredFlag","querySecret","secretGuardExistence","isQuestion","resetPasswardData","addQuestion","checkQuestion","isCheck","modifyPassward","visible","setRegisterVisible","registerVisible","userId","type","page","setResetVisible","setLoginVisible","userName","academy","grade","discipline","cls","phone","password","modifyUserId","modifyUserName","modifyAcademy","modifyGrade","modifyDiscipline","modifyCls","modifySex","modifyType","modifyPhone","modifyPassword","questionAnswer","newPassward","loginVisible","identifyVisible","setIdentifyVisible","studentMessageVisible","setStudentMessageVisible","studentCertification","setStudentCertification","resetVisible","identify","setIdentify","history","push","edit","toggleEdit","columns","title","dataIndex","key","render","text","color","cursor","refs","ref","defaultMessage","layout","labelCol","span","wrapperCol","margin","flexWrap","map","el","width","current","state","value","marginRight","pageSize","e","marginLeft","preventDefault","localStorage","removeItem","input","required","message","marginTop","console","log","item","index","paddingLeft","getIn","teacher","ratify","dispatch","args","length","register","preserve","queryRegister","registered"],"mappings":"qiBAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,MAA1B,CAAkCC,QAAlC,KAAiD,OAAjD,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,UAAT,KAA2B,kBAA3B,CAEA,MAAO,6BAAP,CACA,MAAO,GAAKC,CAAAA,IAAZ,KAAsB,8BAAtB,CACA,OAAQC,WAAR,CAAqBC,QAArB,CAA+BC,SAA/B,CAA0CC,gBAA1C,CAA4DC,OAA5D,CAAqEC,SAArE,KAAqF,yBAArF,CACA,OAAQC,OAAR,CAAiBC,OAAjB,CAA0BC,sBAA1B,KAAuD,0BAAvD,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,C,GACQC,CAAAA,M,SAAAA,M,CAER,GAAIC,CAAAA,GAAG,CAAG,GAAV,CAAcC,SAAS,CAAG,EAA1B,CAA8BC,QAAQ,CAAG,IAAzC,CAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAAAC,KAAK,CAAI,eACwBpB,QAAQ,CAAC,EAAD,CADhC,wCACbqB,cADa,eACGC,iBADH,eAEpB,GAAMC,CAAAA,YAAY,CAAG,CACjBC,QAAQ,CAAE,kBAACC,eAAD,CAAkBC,YAAlB,CAAmC,CACzCJ,iBAAiB,CAAC,CAACG,eAAD,CAAD,CAAjB,CACH,CAHgB,CAIjBE,gBAAgB,CAAE,0BAAAC,MAAM,QAAK,CACzBC,QAAQ,CAAED,MAAM,CAACE,IAAP,GAAgB,eADD,CACkB;AAC3CA,IAAI,CAAEF,MAAM,CAACE,IAFY,CAAL,EAJP,CAArB,CASA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAC,GAAG,CAAI,CAC3BhB,GAAG,CAAGgB,GAAN,CACH,CAFD,CAGA,GAAMC,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAAAD,GAAG,CAAI,CAC/Bf,SAAS,CAAGe,GAAZ,CACH,CAFD,CAGA,GAAME,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,CAAAF,GAAG,CAAI,CAChCd,QAAQ,CAAGc,GAAX,CACH,CAFD,CAjBoB,GAqBhBG,CAAAA,KArBgB,CAsDhBf,KAtDgB,CAqBhBe,KArBgB,CAsBhBC,WAtBgB,CAsDhBhB,KAtDgB,CAsBhBgB,WAtBgB,CAuBhBC,cAvBgB,CAsDhBjB,KAtDgB,CAuBhBiB,cAvBgB,CAwBhBC,aAxBgB,CAsDhBlB,KAtDgB,CAwBhBkB,aAxBgB,CAyBhBC,QAzBgB,CAsDhBnB,KAtDgB,CAyBhBmB,QAzBgB,CA0BhBC,OA1BgB,CAsDhBpB,KAtDgB,CA0BhBoB,OA1BgB,CA2BhBC,SA3BgB,CAsDhBrB,KAtDgB,CA2BhBqB,SA3BgB,CA4BhBC,YA5BgB,CAsDhBtB,KAtDgB,CA4BhBsB,YA5BgB,CA6BhBC,OA7BgB,CAsDhBvB,KAtDgB,CA6BhBuB,OA7BgB,CA8BhBC,KA9BgB,CAsDhBxB,KAtDgB,CA8BhBwB,KA9BgB,CA+BhBC,MA/BgB,CAsDhBzB,KAtDgB,CA+BhByB,MA/BgB,CAgChBC,OAhCgB,CAsDhB1B,KAtDgB,CAgChB0B,OAhCgB,CAiChBC,UAjCgB,CAsDhB3B,KAtDgB,CAiChB2B,UAjCgB,CAkChBjB,IAlCgB,CAsDhBV,KAtDgB,CAkChBU,IAlCgB,CAmChBkB,YAnCgB,CAsDhB5B,KAtDgB,CAmChB4B,YAnCgB,CAoChBC,YApCgB,CAsDhB7B,KAtDgB,CAoChB6B,YApCgB,CAqChBC,cArCgB,CAsDhB9B,KAtDgB,CAqChB8B,cArCgB,CAsChBC,IAtCgB,CAsDhB/B,KAtDgB,CAsChB+B,IAtCgB,CAuChBC,mBAvCgB,CAsDhBhC,KAtDgB,CAuChBgC,mBAvCgB,CAwChBC,KAxCgB,CAsDhBjC,KAtDgB,CAwChBiC,KAxCgB,CAyChBC,gBAzCgB,CAsDhBlC,KAtDgB,CAyChBkC,gBAzCgB,CA0ChBC,WA1CgB,CAsDhBnC,KAtDgB,CA0ChBmC,WA1CgB,CA2ChBC,eA3CgB,CAsDhBpC,KAtDgB,CA2ChBoC,eA3CgB,CA4ChBC,cA5CgB,CAsDhBrC,KAtDgB,CA4ChBqC,cA5CgB,CA6ChBC,WA7CgB,CAsDhBtC,KAtDgB,CA6ChBsC,WA7CgB,CA8ChBC,oBA9CgB,CAsDhBvC,KAtDgB,CA8ChBuC,oBA9CgB,CA+ChBC,UA/CgB,CAsDhBxC,KAtDgB,CA+ChBwC,UA/CgB,CAgDhBC,iBAhDgB,CAsDhBzC,KAtDgB,CAgDhByC,iBAhDgB,CAiDhBC,WAjDgB,CAsDhB1C,KAtDgB,CAiDhB0C,WAjDgB,CAkDhBC,aAlDgB,CAsDhB3C,KAtDgB,CAkDhB2C,aAlDgB,CAmDhBC,OAnDgB,CAsDhB5C,KAtDgB,CAmDhB4C,OAnDgB,CAoDhBC,cApDgB,CAsDhB7C,KAtDgB,CAoDhB6C,cApDgB,CAqDhBC,OArDgB,CAsDhB9C,KAtDgB,CAqDhB8C,OArDgB,CAuDpBpE,SAAS,CAAC,UAAM,CACZ0D,eAAe,CAAGW,kBAAkB,CAAC,CAACC,eAAF,CAArB,CAA0CD,kBAAkB,CAACC,eAAD,CAA3E,CACH,CAFQ,CAEN,CAACZ,eAAD,CAFM,CAAT,CAGA1D,SAAS,CAAC,UAAM,CACZ,GAAI+C,MAAM,GAAK,EAAf,CAAmB,CACfO,mBAAmB,CAAC,CAACiB,MAAM,CAAE9B,QAAT,CAAmB+B,IAAI,CAAE,SAAzB,CAAoCC,IAAI,CAAE,CAA1C,CAAD,CAAnB,CACH,CACJ,CAJQ,CAIN,CAACd,cAAD,CAJM,CAAT,CAKA3D,SAAS,CAAC,UAAM,CACZ0E,eAAe,CAACP,cAAD,CAAf,CACH,CAFQ,CAEN,CAACA,cAAD,CAFM,CAAT,CAGAnE,SAAS,CAAC,UAAM,CACZ0E,eAAe,CAAC,KAAD,CAAf,CACAC,eAAe,CAAC,KAAD,CAAf,CACH,CAHQ,CAGN,CAACP,OAAD,CAHM,CAAT,CAIA;AACA,GAAMG,CAAAA,MAAM,CAAGtE,MAAM,EAArB,CACA,GAAM2E,CAAAA,QAAQ,CAAG3E,MAAM,EAAvB,CACA,GAAM4E,CAAAA,OAAO,CAAG5E,MAAM,EAAtB,CACA,GAAM6E,CAAAA,KAAK,CAAG7E,MAAM,EAApB,CACA,GAAM8E,CAAAA,UAAU,CAAG9E,MAAM,EAAzB,CACA,GAAM+E,CAAAA,GAAG,CAAG/E,MAAM,EAAlB,CACA,GAAMgF,CAAAA,KAAK,CAAGhF,MAAM,EAApB,CACA,GAAMiF,CAAAA,QAAQ,CAAGjF,MAAM,EAAvB,CACA,GAAMuE,CAAAA,IAAI,CAAGvE,MAAM,EAAnB,CACA;AACA,GAAMkF,CAAAA,YAAY,CAAGlF,MAAM,EAA3B,CACA,GAAMmF,CAAAA,cAAc,CAAGnF,MAAM,EAA7B,CACA,GAAMoF,CAAAA,aAAa,CAAGpF,MAAM,EAA5B,CACA,GAAMqF,CAAAA,WAAW,CAAGrF,MAAM,EAA1B,CACA,GAAMsF,CAAAA,gBAAgB,CAAGtF,MAAM,EAA/B,CACA,GAAMuF,CAAAA,SAAS,CAAGvF,MAAM,EAAxB,CACA,GAAMwF,CAAAA,SAAS,CAAGxF,MAAM,EAAxB,CACA,GAAMyF,CAAAA,UAAU,CAAGzF,MAAM,EAAzB,CACA,GAAM0F,CAAAA,WAAW,CAAG1F,MAAM,EAA1B,CACA,GAAM2F,CAAAA,cAAc,CAAG3F,MAAM,EAA7B,CACA;AACA,GAAM4F,CAAAA,cAAc,CAAG5F,MAAM,EAA7B,CACA,GAAM6F,CAAAA,WAAW,CAAG7F,MAAM,EAA1B,CA7FoB,eA8FoBC,QAAQ,CAAC,KAAD,CA9F5B,yCA8Fb6F,YA9Fa,eA8FCpB,eA9FD,8BA+F0BzE,QAAQ,CAAC,KAAD,CA/FlC,yCA+FboE,eA/Fa,eA+FID,kBA/FJ,8BAgG0BnE,QAAQ,CAAC,KAAD,CAhGlC,yCAgGb8F,eAhGa,eAgGIC,kBAhGJ,8BAiGsC/F,QAAQ,CAAC,KAAD,CAjG9C,0CAiGbgG,qBAjGa,gBAiGUC,wBAjGV,gCAkGoCjG,QAAQ,CAAC,KAAD,CAlG5C,2CAkGbkG,oBAlGa,gBAkGSC,uBAlGT,gCAmGoBnG,QAAQ,CAAC,KAAD,CAnG5B,2CAmGboG,YAnGa,gBAmGC5B,eAnGD,gBAoGpB;AApGoB,gBAqGYxE,QAAQ,CAAC,IAAD,CArGpB,2CAqGbqG,QArGa,gBAqGHC,WArGG,gBAsGpBxG,SAAS,CAAC,UAAM,CACZwG,WAAW,CAACtD,YAAD,CAAX,CACAA,YAAY,GAAK,OAAjB,EAA4B5B,KAAK,CAACmF,OAAN,CAAcC,IAAd,CAAmB,QAAnB,CAA5B,CACH,CAHQ,CAGP,CAACxD,YAAD,CAHO,CAAT,CAtGoB,gBA0GOhD,QAAQ,CAAC,KAAD,CA1Gf,2CA0GbyG,IA1Ga,gBA0GPC,UA1GO,gBA2GpB;AACA,GAAMC,CAAAA,OAAO,CAAG,CACZ,CACIC,KAAK,CAAE,IADX,CAEIC,SAAS,CAAE,QAFf,CAGIC,GAAG,CAAE,MAHT,CADY,CAMZ,CACIF,KAAK,CAAE,MADX,CAEIC,SAAS,CAAE,UAFf,CAGIC,GAAG,CAAE,UAHT,CANY,CAWZ,CACIF,KAAK,CAAE,IADX,CAEIC,SAAS,CAAE,OAFf,CAGIC,GAAG,CAAE,OAHT,CAXY,CAgBZ,CACIF,KAAK,CAAE,IADX,CAEIC,SAAS,CAAE,SAFf,CAGIC,GAAG,CAAE,SAHT,CAhBY,CAqBZ,CACIF,KAAK,CAAE,IADX,CAEIC,SAAS,CAAE,YAFf,CAGIC,GAAG,CAAE,YAHT,CArBY,CA0BZ,CACIF,KAAK,CAAE,IADX,CAEIC,SAAS,CAAE,KAFf,CAGIC,GAAG,CAAE,KAHT,CA1BY,CA+BZ,CACIF,KAAK,CAAE,IADX,CAEIC,SAAS,CAAE,KAFf,CAGIC,GAAG,CAAE,KAHT,CA/BY,CAoCZ,CACIF,KAAK,CAAE,IADX,CAEIC,SAAS,CAAE,OAFf,CAGIC,GAAG,CAAE,OAHT,CApCY,CAyCZ,CACIF,KAAK,CAAE,MADX,CAEIC,SAAS,CAAE,cAFf,CAGIC,GAAG,CAAE,cAHT,CAzCY,CA8CZ,CACIF,KAAK,CAAE,MADX,CAEIC,SAAS,CAAE,OAFf,CAGIC,GAAG,CAAE,OAHT,CAIIC,MAAM,CAAE,gBAACC,IAAD,CAAO7D,IAAP,qBAAgB,4BACpB,KAAK,CAAE,CAAC8D,KAAK,CAAE,MAAR,CAAgBC,MAAM,CAAE,SAAxB,CADa,CAEpB,OAAO,CAAE,kBAAM,CACXF,IAAI,GAAK,IAAT,EACA1D,gBAAgB,CAAC,CACbe,MAAM,CAAE,CAAClB,IAAI,CAACkB,MAAN,CADK,CAEbpD,SAAS,CAAEsB,QAFE,CAGb+B,IAAI,CAAEzB,MAHO,CAIb0B,IAAI,CAAE,CAJO,CAAD,CADhB,CAOH,CAVmB,EAYnByC,IAAI,GAAK,IAAT,CAAeA,IAAI,CAAC,IAApB,CAAyBA,IAAI,CAAC,KAZX,CAAhB,EAJZ,CA9CY,CAAhB,CAkEA;AACA,GAAMG,CAAAA,IAAI,CAAG,CACT,CACIC,GAAG,CAAEnC,YADT,CAEIoC,cAAc,CAAE9E,QAFpB,CAGIqE,KAAK,CAAE,IAHX,CADS,CAMT,CACIQ,GAAG,CAAElC,cADT,CAEImC,cAAc,CAAEvF,IAFpB,CAGI8E,KAAK,CAAE,IAHX,CANS,CAWT,CACIQ,GAAG,CAAEjC,aADT,CAEIkC,cAAc,CAAE5E,SAFpB,CAGImE,KAAK,CAAE,IAHX,CAXS,CAgBT,CACIQ,GAAG,CAAEhC,WADT,CAEIiC,cAAc,CAAE7E,OAFpB,CAGIoE,KAAK,CAAE,IAHX,CAhBS,CAqBT,CACIQ,GAAG,CAAE/B,gBADT,CAEIgC,cAAc,CAAE3E,YAFpB,CAGIkE,KAAK,CAAE,IAHX,CArBS,CA0BT,CACIQ,GAAG,CAAE9B,SADT,CAEI+B,cAAc,CAAE1E,OAFpB,CAGIiE,KAAK,CAAE,IAHX,CA1BS,CA+BT,CACIQ,GAAG,CAAE7B,SADT,CAEI8B,cAAc,CAAEzE,KAFpB,CAGIgE,KAAK,CAAE,IAHX,CA/BS,CAoCT,CACIQ,GAAG,CAAE5B,UADT,CAEI6B,cAAc,CAAExE,MAFpB,CAGI+D,KAAK,CAAE,IAHX,CApCS,CAyCT,CACIQ,GAAG,CAAE3B,WADT,CAEI4B,cAAc,CAAEvE,OAFpB,CAGI8D,KAAK,CAAE,IAHX,CAzCS,CA8CT,CACIQ,GAAG,CAAE1B,cADT,CAEI2B,cAAc,CAAE7G,OAAO,CAACuC,UAAD,CAF3B,CAGI6D,KAAK,CAAE,IAHX,CA9CS,CAAb,CAoDA,GAAMU,CAAAA,MAAM,CAAG,CACXC,QAAQ,CAAE,CACRC,IAAI,CAAE,CADE,CADC,CAIXC,UAAU,CAAE,CACVD,IAAI,CAAE,EADI,CAJD,CAAf,CAQA,mBACI,qDACI,8BAAQ,SAAS,CAAC,YAAlB,eACI,0BAAI,EAAE,CAAC,WAAP,CAAmB,SAAS,CAAC,sBAA7B,EAEQrF,KAAK,eACL,0BAAI,OAAO,CAAE,yBAAM4D,CAAAA,kBAAkB,CAAC,CAACD,eAAF,CAAxB,EAAb,eACI,gDADJ,cAEI,4BAAM,SAAS,CAAC,MAAhB,EAAwBhE,IAAxB,CAFJ,CAHR,CAUQgE,eAAe,EAAI3D,KAAnB,eACI,qDACI,4BACI,QAAQ,KADZ,CAEI,KAAK,CAAE,qBAFX,CAGI,OAAO,CAAE2D,eAHb,CAII,QAAQ,CAAE,0BAAMC,CAAAA,kBAAkB,CAAC,CAACD,eAAF,CAAxB,EAJd,CAKI,IAAI,CAAE,sBAAMC,CAAAA,kBAAkB,CAAC,CAACD,eAAF,CAAxB,EALV,CAMI,MAAM,cACF,6BACI,IAAI,CAAE,SADV,CAEI,OAAO,CACH,kBAAM,CACFtB,eAAe,CAAC,IAAD,CAAf,CACAb,oBAAoB,CAACpB,QAAD,CAApB,CACAwD,kBAAkB,CAAC,CAACD,eAAF,CAAlB,CACH,CAPT,6BAPR,eAqBI,0BAAM,IAAN,EACI,SAAS,CAAC,6BADd,CAEI,KAAK,CAAE,CACH4B,MAAM,CAAE,CADL,CAEHC,QAAQ,CAAE,MAFP,CAFX,EAQQR,IAAI,CAACS,GAAL,CAAS,SAAAC,EAAE,qBACP,2BACI,SAAS,CAAC,mBADd,CAEI,KAAK,CAAE,CAACC,KAAK,CAAE,OAAR,CAFX,eAII,iCAAQD,EAAE,CAACjB,KAAX,CAJJ,cAKI,4BACI,QAAQ,CAAE,IADd,CAEI,GAAG,CAAEiB,EAAE,CAACT,GAFZ,CAGI,YAAY,CAAES,EAAE,CAACR,cAHrB,CAII,SAAS,CAAC,aAJd,CAKI,YAAY,CACR,uBAAM,CACFnE,cAAc,CAAC,CACXmB,MAAM,CAAEY,YAAY,CAAC8C,OAAb,CAAqBC,KAArB,CAA2BC,KADxB,CAEXvD,QAAQ,CAAEQ,cAAc,CAAC6C,OAAf,CAAuBC,KAAvB,CAA6BC,KAF5B,CAGXrD,KAAK,CAAEQ,WAAW,CAAC2C,OAAZ,CAAoBC,KAApB,CAA0BC,KAHtB,CAIXtD,OAAO,CAAEQ,aAAa,CAAC4C,OAAd,CAAsBC,KAAtB,CAA4BC,KAJ1B,CAKXpD,UAAU,CAAEQ,gBAAgB,CAAC0C,OAAjB,CAAyBC,KAAzB,CAA+BC,KALhC,CAMXnD,GAAG,CAAEQ,SAAS,CAACyC,OAAV,CAAkBC,KAAlB,CAAwBC,KANlB,CAOXlD,KAAK,CAAEU,WAAW,CAACsC,OAAZ,CAAoBC,KAApB,CAA0BC,KAPtB,CAQXjH,GAAG,CAAEuE,SAAS,CAACwC,OAAV,CAAkBC,KAAlB,CAAwBC,KARlB,CASXjD,QAAQ,CAAE3E,QAAQ,CAACqF,cAAc,CAACqC,OAAf,CAAuBC,KAAvB,CAA6BC,KAA9B,CATP,CAAD,CAAd,CAWAlC,kBAAkB,CAAC,CAACD,eAAF,CAAlB,CACH,CAnBT,EALJ,CADO,EAAX,CARR,CArBJ,CADJ,CAXZ,cA6EI,uDACaO,QADb,EA7EJ,CAiFQlE,KAAK,EAAIkE,QAAQ,GAAK,IAAtB,eACI,0BACI,SAAS,CAAC,gBADd,CAEI,OAAO,CAAE,yBAAMJ,CAAAA,wBAAwB,CAAC,CAACD,qBAAF,CAA9B,EAFb,6BAlFZ,CA0FQA,qBAAqB,EAAI7D,KAAzB,eACI,qDACI,4BACI,OAAO,CAAE6D,qBADb,CAEI,QAAQ,CAAE,0BAAMC,CAAAA,wBAAwB,CAAC,CAACD,qBAAF,CAA9B,EAFd,CAGI,KAAK,CAAE,MAHX,CAII,MAAM,CAAE,IAJZ,CAKI,KAAK,CAAE,OALX,eAOI,2BAAK,SAAS,CAAC,mBAAf,eACI,2BAAK,SAAS,CAAC,eAAf,eACI,6BACI,KAAK,CAAE,CAACkC,WAAW,CAAE,QAAd,CADX,CAEI,OAAO,CACH,kBAAM,CACF/B,uBAAuB,CAAC,IAAD,CAAvB,CACA/C,mBAAmB,CAAC,CAChBiB,MAAM,CAAE9B,QADQ,CAEhB+B,IAAI,CAAEzB,MAFU,CAGhB0B,IAAI,CAAE,CAHU,CAAD,CAAnB,CAKH,CAVT,6BADJ,CAiBQ2B,oBAAoB,eAChB,qDACI,4BACI,KAAK,CAAE,OADX,CAEI,OAAO,CAAEA,oBAFb,CAGI,QAAQ,CAAE,0BAAMC,CAAAA,uBAAuB,CAAC,CAACD,oBAAF,CAA7B,EAHd,CAII,KAAK,CAAE,MAJX,CAKI,MAAM,cACF,6BACI,IAAI,CAAE,SADV,CAEI,OAAO,CAAG,kBAAM,CACZ5C,gBAAgB,CAAC,CACTe,MAAM,CAAEhD,cADC,CAAD,CAAhB,CAGC,CANT,6BANR,eAmBI,4BACI,MAAM,CAAE,gBAAAO,MAAM,QAAIA,CAAAA,MAAM,CAACyC,MAAX,EADlB,CAEI,YAAY,CAAE9C,YAFlB,CAGI,KAAK,CAAE,CAACuG,KAAK,CAAE,OAAR,CAHX,CAII,OAAO,CAAEnB,OAJb,CAKI,UAAU,CAAExD,IALhB,CAMI,UAAU,CAAE,CACRE,KAAK,CAALA,KADQ,CAER8E,QAAQ,CAAE,EAFF,CAGR3G,QAAQ,CAAE,kBAAA4G,CAAC,CAAI,CACXhF,mBAAmB,CAAC,CAChBiB,MAAM,CAAE9B,QADQ,CAEhB+B,IAAI,CAAE,SAFU,CAGhBC,IAAI,CAAE6D,CAHU,CAAD,CAAnB,CAKH,CATO,CANhB,EAnBJ,CADJ,CAlBZ,cA2DI,oBAAC,aAAD,EAAe,KAAK,CAAE,CAACC,UAAU,CAAE,MAAb,CAAtB,EA3DJ,CADJ,cA8DI,oBAAC,YAAD,MA9DJ,CAPJ,CADJ,CA3FZ,CAwKQlG,KAAK,eACL,yBACI,IAAI,CAAC,EADT,CAEI,OAAO,CACH,iBAAAiG,CAAC,CAAI,CACDA,CAAC,CAACE,cAAF,GACAC,YAAY,CAACC,UAAb,CAAwB,QAAxB,EACAvF,YAAY,GACZwB,eAAe,CAACoB,YAAD,CAAf,CACH,CART,iBAzKR,CAyLQ,CAAC1D,KAAD,eACA,0BACI,SAAS,CAAC,SADd,CAEI,OAAO,CAAE,yBAAMsC,CAAAA,eAAe,CAAC,CAACoB,YAAF,CAArB,EAFb,iBA1LR,CAkMQA,YAAY,EAAI,CAAC1D,KAAjB,cACI,4BACI,OAAO,CAAG0D,YADd,CAEI,KAAK,CAAC,cAFV,CAGI,QAAQ,CAAE,0BAAMpB,CAAAA,eAAe,CAAC,CAACoB,YAAF,CAArB,EAHd,CAII,IAAI,CACA,eAAM,CACHpB,eAAe,CAAC,CAACoB,YAAF,CAAf,CACF,CAPT,CASI,MAAM,cACF,6BACI,IAAI,CAAE,SADV,CAEI,OAAO,CAAG,kBAAM,CACZzD,WAAW,CAAC,CACRiC,MAAM,CAAEA,MAAM,CAAC0D,OAAP,CAAeC,KAAf,CAAqBC,KADrB,CAERjD,QAAQ,CAAE3E,QAAQ,CAAC2E,QAAQ,CAAC+C,OAAT,CAAiBU,KAAjB,CAAuBR,KAAxB,CAFV,CAAD,CAAX,CAIH,CAPL,iBAVR,eAwBI,2CACQX,MADR,EAEI,IAAI,CAAC,OACL;AACA;AACA;AACA;AACA;AAPJ,gBASI,0BAAM,IAAN,EACI,KAAK,CAAC,oBADV,CAEI,IAAI,CAAC,UAFT,CAGI,KAAK,CAAE,CACP,CACIoB,QAAQ,CAAE,IADd,CAEIC,OAAO,CAAE,6BAFb,CADO,CAHX,eAUI,4BAAO,GAAG,CAAEtE,MAAZ,EAVJ,CATJ,cAsBI,0BAAM,IAAN,EACI,KAAK,CAAC,cADV,CAEI,IAAI,CAAC,UAFT,CAGI,KAAK,CAAE,CACP,CACIqE,QAAQ,CAAE,IADd,CAEIC,OAAO,CAAE,6BAFb,CADO,CAHX,eAUI,2BAAO,QAAP,EACI,GAAG,CAAE3D,QADT,CAEI,YAAY,CAAE,uBAAM,CAChB5C,WAAW,CAAC,CACRiC,MAAM,CAAEA,MAAM,CAAC0D,OAAP,CAAeC,KAAf,CAAqBC,KADrB,CAERjD,QAAQ,CAAE3E,QAAQ,CAAC2E,QAAQ,CAAC+C,OAAT,CAAiBU,KAAjB,CAAuBR,KAAxB,CAFV,CAAD,CAAX,CAIH,CAPL,EAVJ,CAtBJ,CAxBJ,cAmEI,6BACI,KAAK,CAAE,CAACW,SAAS,CAAE,MAAZ,CADX,CAEI,OAAO,CAAE,kBAAM,CACXC,OAAO,CAACC,GAAR,CAAY7E,cAAZ,EACA,GAAGI,MAAM,CAAC0D,OAAP,CAAeC,KAAf,CAAqBC,KAArB,GAA+B,EAAlC,CAAsC,CAClCtE,oBAAoB,CAACU,MAAM,CAAC0D,OAAP,CAAeC,KAAf,CAAqBC,KAAtB,CAApB,CACH,CAFD,IAEO,CACH1H,gBAAgB,CAAC,QAAD,CAAhB,CACH,CACJ,CATL,6BAnEJ,CADJ,CAiFe,EAnRvB,cAsRI,4BACI,OAAO,CAAG6F,YADd,CAEI,KAAK,CAAGpC,OAAO,CAAG,MAAH,CAAaJ,UAAU,CAAG,QAAH,CAAc,QAFxD,CAGI,QAAQ,CAAE,0BAAMY,CAAAA,eAAe,CAAC,CAAC4B,YAAF,CAArB,EAHd,CAII,IAAI,CACA,eAAM,CACF5B,eAAe,CAAC,CAAC4B,YAAF,CAAf,CACA1C,WAAW,CAAC,CAACW,MAAM,CAAE9B,QAAT,CAAD,CAAX,CACH,CART,CAUI,MAAM,cACF,6BACI,IAAI,CAAE,SADV,CAEI,OAAO,CAAG,kBAAM,CACTyB,OAAO,CAAGd,cAAc,CAAC,CACpB,SAAUW,iBAAiB,CAACQ,MAAlB,EAA4B9B,QADlB,CAEpB,WAAYsB,iBAAiB,CAACa,QAAlB,EAA8B5C,IAFtB,CAGpB,QAAS+B,iBAAiB,CAACe,KAAlB,EAA2BpC,OAHhB,CAIpB,UAAWqB,iBAAiB,CAACc,OAAlB,EAA6BlC,SAJpB,CAKpB,aAAcoB,iBAAiB,CAACgB,UAAlB,EAAgCnC,YAL1B,CAMpB,MAAOmB,iBAAiB,CAACiB,GAAlB,EAAyBnC,OANZ,CAOpB,QAASkB,iBAAiB,CAACkB,KAAlB,EAA2BjC,OAPhB,CAQpB,MAAOe,iBAAiB,CAAC7C,GAAlB,EAAyB4B,KARZ,CASpB,WAAYvC,QAAQ,CAACuF,WAAW,CAACmC,OAAZ,CAAoBC,KAApB,CAA0BC,KAA3B,CATA,CAAD,CAAjB,CAWLrE,UAAU,CAAGG,aAAa,CAAC,CACxB,SAAUF,iBAAiB,CAACQ,MAAlB,EAA4B9B,QADd,CAExB,WAAYrB,QAFY,CAGxB,SAAUyE,cAAc,CAACoC,OAAf,CAAuBU,KAAvB,CAA6BR,KAHf,CAAD,CAAhB,CAINnE,WAAW,CAAC,CACb,SAAUD,iBAAiB,CAACQ,MAAlB,EAA4B9B,QADzB,CAEb,WAAYrB,QAFC,CAGb,SAAUyE,cAAc,CAACoC,OAAf,CAAuBU,KAAvB,CAA6BR,KAH1B,CAAD,CAfjB,CAoBF,CAvBT,iBAXR,EA0CQjE,OAAO,cACP,4CACI,2BAAK,SAAS,CAAC,6BAAf,eACI,oFADJ,cAC2B,4BAAO,GAAG,CAAE4B,WAAZ,CAAyB,KAAK,CAAE,CAACkC,KAAK,CAAE,KAAR,CAAhC,EAD3B,CADJ,CADO,cAKE,4CACG,2BAAK,SAAS,CAAC,6BAAf,eACI,6BAAO,OAAO,CAAC,EAAf,gDADJ,cAII,6BAAQ,YAAY,CAAC,IAArB,CAA0B,KAAK,CAAE,CAACA,KAAK,CAAE,KAAR,CAAjC,CAAiD,QAAQ,CAAE,kBAAA9F,GAAG,QAAIE,CAAAA,oBAAoB,CAACF,GAAD,CAAxB,EAA9D,eACI,oBAAC,MAAD,EAAQ,KAAK,CAAC,IAAd,6EADJ,cAEI,oBAAC,MAAD,EAAQ,KAAK,CAAC,IAAd,iEAFJ,cAGI,oBAAC,MAAD,EAAQ,KAAK,CAAC,IAAd,6EAHJ,CAJJ,CADH,cAWG,2BAAK,SAAS,CAAC,6BAAf,eACI,0FADJ,cAC4B,4BAAO,GAAG,CAAE2D,cAAZ,CAA4B,KAAK,CAAE,CAACmC,KAAK,CAAE,KAAR,CAAnC,EAD5B,CAXH,CA/CjB,CAtRJ,CAwVQ,CAAC3F,KAAD,eACA,0BACI,SAAS,CAAC,SADd,CAEI,OAAO,CACH,kBAAM,CACFgC,kBAAkB,CAAC,CAACC,eAAF,CAAlB,CACA9B,aAAa,CAAC,EAAD,CAAb,CACH,CANT,iBAzVR,CAsWQ8B,eAAe,EAAI,CAACjC,KAApB,eACA,4BACI,KAAK,CAAC,cADV,CAEI,OAAO,CAAEiC,eAFb,CAGI,QAAQ,CAAE,0BAAMD,CAAAA,kBAAkB,CAAC,CAACC,eAAF,CAAxB,EAHd,CAII,MAAM,cACF,2BAAK,SAAS,CAAC,6BAAf,eACI,qIADJ,cAEI,6BACI,IAAI,CAAE,SADV,CAEI,OAAO,CACH,kBAAM,CACF/B,cAAc,CAAC,CACXgC,MAAM,CAAEA,MAAM,CAAC0D,OAAP,CAAeC,KAAf,CAAqBC,KADlB,CAEXvD,QAAQ,CAAEA,QAAQ,CAACqD,OAAT,CAAiBC,KAAjB,CAAuBC,KAFtB,CAGXtD,OAAO,CAAEA,OAAO,CAACoD,OAAR,CAAgBC,KAAhB,CAAsBC,KAHpB,CAIXrD,KAAK,CAAEA,KAAK,CAACmD,OAAN,CAAcC,KAAd,CAAoBC,KAJhB,CAKXpD,UAAU,CAAEA,UAAU,CAACkD,OAAX,CAAmBC,KAAnB,CAAyBC,KAL1B,CAMXnD,GAAG,CAAEA,GAAG,CAACiD,OAAJ,CAAYC,KAAZ,CAAkBC,KANZ,CAOXjH,GAAG,CAAHA,GAPW,CAQX+D,KAAK,CAAEA,KAAK,CAACgD,OAAN,CAAcC,KAAd,CAAoBC,KARhB,CASXhH,SAAS,CAATA,SATW,CAUX+D,QAAQ,CAAE3E,QAAQ,CAAC2E,QAAQ,CAAC+C,OAAT,CAAiBU,KAAjB,CAAuBR,KAAxB,CAVP,CAAD,CAAd,CAYH,CAhBT,iBAFJ,CALR,eA+BI,2BAAK,SAAS,CAAC,6BAAf,eACI,6BAAO,OAAO,CAAC,EAAf,iBADJ,cAII,4BAAO,GAAG,CAAE5D,MAAZ,CAAoB,KAAK,CAAE,CAACyD,KAAK,CAAE,KAAR,CAA3B,CAA2C,WAAW,CAAE,cAAxD,EAJJ,CA/BJ,cAqCI,2BAAK,SAAS,CAAC,6BAAf,eACI,6BAAO,OAAO,CAAC,EAAf,iBADJ,cAII,4BAAO,GAAG,CAAElD,KAAZ,CAAmB,KAAK,CAAE,CAACkD,KAAK,CAAE,KAAR,CAA1B,CAA0C,WAAW,CAAE,QAAvD,EAJJ,CArCJ,cA2CI,2BAAK,SAAS,CAAC,6BAAf,eACI,6BAAO,OAAO,CAAC,EAAf,iBADJ,cAII,4BAAO,GAAG,CAAEjD,UAAZ,CAAwB,KAAK,CAAE,CAACiD,KAAK,CAAE,KAAR,CAA/B,CAA+C,WAAW,CAAE,QAA5D,EAJJ,CA3CJ,cAiDI,2BAAK,SAAS,CAAC,6BAAf,eACI,6BAAO,OAAO,CAAC,EAAf,iBADJ,cAII,6BAAQ,YAAY,CAAC,QAArB,CAAyB,KAAK,CAAE,CAACA,KAAK,CAAE,KAAR,CAAhC,CAAgD,QAAQ,CAAE,kBAAA9F,GAAG,QAAID,CAAAA,eAAe,CAACC,GAAD,CAAnB,EAA7D,eACI,oBAAC,MAAD,EAAQ,KAAK,CAAC,QAAd,WADJ,cAEI,oBAAC,MAAD,EAAQ,KAAK,CAAC,QAAd,WAFJ,CAJJ,CAjDJ,cA0DI,2BAAK,SAAS,CAAC,6BAAf,eACI,gDADJ,cAEI,6BACI,QAAQ,CACJ,kBAAAiG,KAAK,QAAIY,CAAAA,OAAO,CAACC,GAAR,CAAYb,KAAZ,CAAJ,EAFb,CAII,QAAQ,CACJ,kBAAAjG,GAAG,QAAIC,CAAAA,mBAAmB,CAACD,GAAD,CAAvB,EALX,CAOI,KAAK,CAAE,CAAC8F,KAAK,CAAE,KAAR,CAPX,CAQI,WAAW,CAAC,kGARhB,EAWQvE,WAAW,CAACqE,GAAZ,CAAgB,SAACmB,IAAD,CAAMC,KAAN,qBAAgB,oBAAC,MAAD,EAAQ,KAAK,CAAED,IAAI,CAAC,CAAD,CAAnB,CAAwB,GAAG,CAAEC,KAA7B,EAAqCD,IAAI,CAAC,CAAD,CAAzC,CAAhB,EAAhB,CAXR,CAFJ,CA1DJ,cA2EI,2BAAK,SAAS,CAAC,6BAAf,eACI,6BAAO,OAAO,CAAC,EAAf,iBADJ,cAII,4BAAO,GAAG,CAAEhE,KAAZ,CAAmB,KAAK,CAAE,CAAC+C,KAAK,CAAE,KAAR,CAA1B,CAA0C,WAAW,CAAE,UAAvD,EAJJ,CA3EJ,cAiFI,2BAAK,SAAS,CAAC,6BAAf,eACI,6BAAO,OAAO,CAAC,EAAf,iBADJ,cAII,4BAAO,GAAG,CAAEpD,QAAZ,CAAsB,KAAK,CAAE,CAACoD,KAAK,CAAE,KAAR,CAA7B,EAJJ,CAjFJ,cAuFI,2BAAK,SAAS,CAAC,6BAAf,eACI,6BAAO,OAAO,CAAC,EAAf,iBADJ,cAII,4BAAO,GAAG,CAAEnD,OAAZ,CAAqB,KAAK,CAAE,CAACmD,KAAK,CAAE,KAAR,CAA5B,CAA4C,WAAW,CAAE,cAAzD,EAJJ,CAvFJ,cA6FI,2BAAK,SAAS,CAAC,6BAAf,eACI,6BAAO,OAAO,CAAC,EAAf,iBADJ,cAII,4BAAO,GAAG,CAAEhD,GAAZ,CAAiB,KAAK,CAAE,CAACgD,KAAK,CAAE,KAAR,CAAxB,CAAwC,WAAW,CAAE,YAArD,EAJJ,CA7FJ,cAmGI,2BAAK,SAAS,CAAC,6BAAf,eACI,6BAAO,OAAO,CAAC,EAAf,iBADJ,cAII,2BAAO,QAAP,EACI,YAAY,CACR,uBAAM,CACFzF,cAAc,CAAC,CACXgC,MAAM,CAAEA,MAAM,CAAC0D,OAAP,CAAeC,KAAf,CAAqBC,KADlB,CAEXvD,QAAQ,CAAEA,QAAQ,CAACqD,OAAT,CAAiBC,KAAjB,CAAuBC,KAFtB,CAGXtD,OAAO,CAAEA,OAAO,CAACoD,OAAR,CAAgBC,KAAhB,CAAsBC,KAHpB,CAIXrD,KAAK,CAAEA,KAAK,CAACmD,OAAN,CAAcC,KAAd,CAAoBC,KAJhB,CAKXpD,UAAU,CAAEA,UAAU,CAACkD,OAAX,CAAmBC,KAAnB,CAAyBC,KAL1B,CAMXnD,GAAG,CAAEA,GAAG,CAACiD,OAAJ,CAAYC,KAAZ,CAAkBC,KANZ,CAOXjH,GAAG,CAAHA,GAPW,CAQX+D,KAAK,CAAEA,KAAK,CAACgD,OAAN,CAAcC,KAAd,CAAoBC,KARhB,CASXhH,SAAS,CAATA,SATW,CAUX+D,QAAQ,CAAE3E,QAAQ,CAAC2E,QAAQ,CAAC+C,OAAT,CAAiBU,KAAjB,CAAuBR,KAAxB,CAVP,CAAD,CAAd,CAYH,CAfT,CAiBI,GAAG,CAAEjD,QAjBT,CAkBI,KAAK,CAAE,CAAC8C,KAAK,CAAE,KAAR,CAlBX,EAJJ,CAnGJ,CAvWR,cAqeI,0BAAI,KAAK,CAAE,CAACmB,WAAW,CAAE,EAAd,CAAX,eACI,yBAAG,IAAI,CAAC,2DAAR,6BADJ,CAreJ,CADJ,CADJ,CADJ,CAifH,CA5tBD,CA8tBA,cAAe/I,CAAAA,UAAU,CAACD,OAAO,CAC7B,SAAA+H,KAAK,QAAK,CACN7F,KAAK,CAAE6F,KAAK,CAACkB,KAAN,CAAY,CAAC,UAAD,CAAY,QAAZ,CAAqB,OAArB,CAAZ,CADD,CAENC,OAAO,CAAEnB,KAAK,CAACkB,KAAN,CAAY,CAAC,UAAD,CAAa,SAAb,CAAwB,SAAxB,CAAZ,CAFH,CAGNlG,YAAY,CAAEgF,KAAK,CAACkB,KAAN,CAAY,CAAC,UAAD,CAAa,QAAb,CAAuB,cAAvB,CAAZ,CAHR,CAINpH,IAAI,CAAEkG,KAAK,CAACkB,KAAN,CAAY,CAAC,UAAD,CAAa,QAAb,CAAuB,MAAvB,CAAZ,CAJA,CAKNzG,SAAS,CAAEuF,KAAK,CAACkB,KAAN,CAAY,CAAC,UAAD,CAAa,QAAb,CAAuB,SAAvB,CAAZ,CALL,CAMNxG,YAAY,CAAEsF,KAAK,CAACkB,KAAN,CAAY,CAAC,UAAD,CAAa,QAAb,CAAuB,YAAvB,CAAZ,CANR,CAON1G,OAAO,CAAEwF,KAAK,CAACkB,KAAN,CAAY,CAAC,UAAD,CAAa,QAAb,CAAuB,OAAvB,CAAZ,CAPH,CAQNtG,KAAK,CAAEoF,KAAK,CAACkB,KAAN,CAAY,CAAC,UAAD,CAAa,QAAb,CAAuB,KAAvB,CAAZ,CARD,CASN3G,QAAQ,CAAEyF,KAAK,CAACkB,KAAN,CAAY,CAAC,UAAD,CAAa,QAAb,CAAuB,QAAvB,CAAZ,CATJ,CAUNvG,OAAO,CAAEqF,KAAK,CAACkB,KAAN,CAAY,CAAC,UAAD,CAAa,QAAb,CAAuB,OAAvB,CAAZ,CAVH,CAWNrG,MAAM,CAAEmF,KAAK,CAACkB,KAAN,CAAY,CAAC,UAAD,CAAa,QAAb,CAAuB,MAAvB,CAAZ,CAXF,CAYNpG,OAAO,CAAEkF,KAAK,CAACkB,KAAN,CAAY,CAAC,UAAD,CAAa,QAAb,CAAuB,OAAvB,CAAZ,CAZH,CAaNnG,UAAU,CAAEiF,KAAK,CAACkB,KAAN,CAAY,CAAC,UAAD,CAAa,QAAb,CAAuB,UAAvB,CAAZ,CAbN,CAcN/F,IAAI,CAAE6E,KAAK,CAACkB,KAAN,CAAY,CAAC,UAAD,CAAa,QAAb,CAAuB,iBAAvB,CAAZ,CAdA,CAeN7F,KAAK,CAAE2E,KAAK,CAACkB,KAAN,CAAY,CAAC,UAAD,CAAa,QAAb,CAAuB,eAAvB,CAAZ,CAfD,CAgBN3F,WAAW,CAAEyE,KAAK,CAACkB,KAAN,CAAY,CAAC,UAAD,CAAa,UAAb,CAAyB,aAAzB,CAAZ,CAhBP,CAiBNE,MAAM,CAAEpB,KAAK,CAACkB,KAAN,CAAY,CAAC,UAAD,CAAa,UAAb,CAAyB,QAAzB,CAAZ,CAjBF,CAkBN1F,eAAe,CAAEwE,KAAK,CAACkB,KAAN,CAAY,CAAC,UAAD,CAAa,QAAb,CAAuB,iBAAvB,CAAZ,CAlBX,CAmBNzF,cAAc,CAAEuE,KAAK,CAACkB,KAAN,CAAY,CAAC,UAAD,CAAa,QAAb,CAAuB,gBAAvB,CAAZ,CAnBV,CAoBNrF,iBAAiB,CAAEmE,KAAK,CAACkB,KAAN,CAAY,CAAC,UAAD,CAAa,QAAb,CAAuB,mBAAvB,CAAZ,CApBb,CAqBNtF,UAAU,CAAEoE,KAAK,CAACkB,KAAN,CAAY,CAAC,UAAD,CAAa,QAAb,CAAuB,YAAvB,CAAZ,CArBN,CAsBNlF,OAAO,CAAEgE,KAAK,CAACkB,KAAN,CAAY,CAAC,UAAD,CAAa,QAAb,CAAuB,SAAvB,CAAZ,CAtBH,CAuBNjF,cAAc,CAAE+D,KAAK,CAACkB,KAAN,CAAY,CAAC,UAAD,CAAa,QAAb,CAAuB,gBAAvB,CAAZ,CAvBV,CAwBNhF,OAAO,CAAE8D,KAAK,CAACkB,KAAN,CAAY,CAAC,UAAD,CAAa,QAAb,CAAuB,SAAvB,CAAZ,CAxBH,CAAL,EADwB,CA2B7B,SAAAG,QAAQ,QAAK,CACTjH,WADS,sBACGkH,IADH,CACS,CACd,GAAIA,IAAI,CAACC,MAAL,GAAgB,CAApB,CAAuB,CACnBhJ,gBAAgB,CAAC,OAAD,CAAhB,CACH,CAFD,IAEO,CACH8I,QAAQ,CAAClJ,IAAI,CAACgC,KAAL,CAAWmH,IAAX,CAAD,CAAR,CACH,CACJ,CAPQ,CAQTjH,cARS,yBAQMiH,IARN,CAQY,CACjB,GAAI,CAAClJ,WAAW,CAACkJ,IAAI,CAACjF,MAAN,CAAZ,EAA6BiF,IAAI,CAACjF,MAAL,CAAYkF,MAAZ,GAAuB,EAAxD,CAA4D,CACxDhJ,gBAAgB,CAAC,SAAD,CAAhB,CACH,CAFD,IAEO,IAAI,CAACH,WAAW,CAACkJ,IAAI,CAAC1E,KAAN,CAAZ,EAA4B0E,IAAI,CAAC1E,KAAL,CAAW2E,MAAX,GAAsB,CAAtD,CAAyD,CAC5DhJ,gBAAgB,CAAC,UAAD,CAAhB,CACH,CAFM,IAEA,IAAI,CAACD,SAAS,CAACgJ,IAAI,CAACzE,UAAN,CAAd,CAAiC,CACpCtE,gBAAgB,CAAC,UAAD,CAAhB,CACH,CAFM,IAEA,IAAI,CAACH,WAAW,CAACkJ,IAAI,CAACvE,KAAN,CAAZ,EAA4BuE,IAAI,CAACvE,KAAL,CAAWwE,MAAX,GAAsB,EAAtD,CAA0D,CAC7DhJ,gBAAgB,CAAC,UAAD,CAAhB,CACH,CAFM,IAEA,IAAI,CAACD,SAAS,CAACgJ,IAAI,CAAC5E,QAAN,CAAd,CAA+B,CAClCnE,gBAAgB,CAAC,UAAD,CAAhB,CACH,CAFM,IAEA,IAAI,CAACD,SAAS,CAACgJ,IAAI,CAAC3E,OAAN,CAAd,CAA8B,CACjCpE,gBAAgB,CAAC,UAAD,CAAhB,CACH,CAFM,IAEA,IAAI,CAACH,WAAW,CAACkJ,IAAI,CAACxE,GAAN,CAAZ,EAA0BwE,IAAI,CAACxE,GAAL,CAASyE,MAAT,GAAoB,CAAlD,CAAqD,CACxDhJ,gBAAgB,CAAC,UAAD,CAAhB,CACH,CAFM,IAEA,IAAI+I,IAAI,CAACC,MAAL,GAAgB,CAApB,CAAuB,CAC1BhJ,gBAAgB,CAAC,OAAD,CAAhB,CACH,CAFM,IAEA,CACH8I,QAAQ,CAAClJ,IAAI,CAACqJ,QAAL,CAAcF,IAAd,CAAD,CAAR,CACH,CACJ,CA5BQ,CA6BThH,aA7BS,yBA6BM,CACX+G,QAAQ,CAAClJ,IAAI,CAACgJ,OAAL,EAAD,CAAR,CACH,CA/BQ,CAgCTlG,YAhCS,wBAgCM,CACXoG,QAAQ,CAAC,CAAC/E,IAAI,CAAE3D,OAAP,CAAD,CAAR,CACH,CAlCQ,CAmCTuC,cAnCS,yBAmCMoG,IAnCN,CAmCY,CACjBD,QAAQ,CAAClJ,IAAI,CAACsJ,QAAL,CAAcH,IAAd,CAAD,CAAR,CACH,CArCQ,CAsCTlG,mBAtCS,8BAsCWkG,IAtCX,CAsCiB,CACtBD,QAAQ,CAAClJ,IAAI,CAACuJ,aAAL,CAAmBJ,IAAnB,CAAD,CAAR,CACH,CAxCQ,CAyCThG,gBAzCS,2BAyCQgG,IAzCR,CAyCc,CACnBD,QAAQ,CAAClJ,IAAI,CAACwJ,UAAL,CAAgBL,IAAhB,CAAD,CAAR,CACH,CA3CQ,CA4CT5F,WA5CS,sBA4CG4F,IA5CH,CA4CS,CACdD,QAAQ,CAAClJ,IAAI,CAACuD,WAAL,CAAiB4F,IAAjB,CAAD,CAAR,CACH,CA9CQ,CA+CT3F,oBA/CS,+BA+CY2F,IA/CZ,CA+CkB,CACvBD,QAAQ,CAAClJ,IAAI,CAACwD,oBAAL,CAA0B2F,IAA1B,CAAD,CAAR,CACH,CAjDQ,CAkDTvF,aAlDS,wBAkDKuF,IAlDL,CAkDW,CAChBD,QAAQ,CAAClJ,IAAI,CAAC4D,aAAL,CAAmBuF,IAAnB,CAAD,CAAR,CACH,CApDQ,CAqDTxF,WArDS,sBAqDGwF,IArDH,CAqDS,CACdD,QAAQ,CAAClJ,IAAI,CAAC2D,WAAL,CAAiBwF,IAAjB,CAAD,CAAR,CACH,CAvDQ,CAAL,EA3BqB,CAAP,CAoFxBnI,MApFwB,CAAD,CAAzB","sourcesContent":["import React, {useEffect, useRef, useState} from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from 'react-router-dom';\r\nimport {Modal, Button, Input, Select, Form, Checkbox, Table} from \"antd\";\r\nimport \"../static/style/header.scss\";\r\nimport * as user from \"../redux/actionCreators/user\";\r\nimport {checkNumber, Encrypto, isChinese, openNotification, Decrypt, onKeyDown} from \"../utils/commonFunction\";\r\nimport {COUNTER, LOG_OUT, SECRET_GUARD_EXISTENCE} from \"../constants/actionTypes\";\r\nimport StudentTable from \"./StudentTable\";\r\nimport SearchStudent from \"./SearchStudent\";\r\nconst { Option } = Select;\r\n\r\nlet sex = \"男\",teacherId = \"\", question = \"Q1\";\r\n\r\nconst Header = props => {\r\n    const [registerUserId, setRegisterUserId] = useState([])\r\n    const rowSelection = {\r\n        onChange: (selectedRowKeys, selectedRows) => {\r\n            setRegisterUserId([selectedRowKeys])\r\n        },\r\n        getCheckboxProps: record => ({\r\n            disabled: record.name === 'Disabled User', // Column configuration not to be checked\r\n            name: record.name,\r\n        }),\r\n    };\r\n    const handleSexChange = val => {\r\n        sex = val;\r\n    };\r\n    const handleTeacherChange = val => {\r\n        teacherId = val;\r\n    };\r\n    const handleQuestionChange = val => {\r\n        question = val;\r\n    }\r\n    const {\r\n        login,\r\n        handleLogin,\r\n        handleRegister,\r\n        handleTeacher,\r\n        reUserId,\r\n        reGrade,\r\n        reAcademy,\r\n        reDiscipline,\r\n        reClass,\r\n        reSex,\r\n        reType,\r\n        rePhone,\r\n        rePassword,\r\n        name,\r\n        userIdentify,\r\n        handleLogOut,\r\n        handlePreserve,\r\n        data,\r\n        handleQueryRegister,\r\n        total,\r\n        handleRegistered,\r\n        teacherName,\r\n        registerSuccess,\r\n        registeredFlag,\r\n        querySecret,\r\n        secretGuardExistence,\r\n        isQuestion,\r\n        resetPasswardData,\r\n        addQuestion,\r\n        checkQuestion,\r\n        isCheck,\r\n        modifyPassward,\r\n        visible\r\n    } = props;\r\n    useEffect(() => {\r\n        registerSuccess ? setRegisterVisible(!registerVisible) : setRegisterVisible(registerVisible)\r\n    }, [registerSuccess]);\r\n    useEffect(() => {\r\n        if (reType !== \"\") {\r\n            handleQueryRegister({userId: reUserId, type: \"teacher\", page: 1})\r\n        }\r\n    }, [registeredFlag]);\r\n    useEffect(() => {\r\n        setResetVisible(modifyPassward)\r\n    }, [modifyPassward])\r\n    useEffect(() => {\r\n        setResetVisible(false);\r\n        setLoginVisible(false)\r\n    }, [visible])\r\n    //注册信息\r\n    const userId = useRef();\r\n    const userName = useRef();\r\n    const academy = useRef();\r\n    const grade = useRef();\r\n    const discipline = useRef();\r\n    const cls = useRef();\r\n    const phone = useRef();\r\n    const password = useRef();\r\n    const type = useRef();\r\n    //学生修改信息\r\n    const modifyUserId = useRef();\r\n    const modifyUserName = useRef();\r\n    const modifyAcademy = useRef();\r\n    const modifyGrade = useRef();\r\n    const modifyDiscipline = useRef();\r\n    const modifyCls = useRef();\r\n    const modifySex = useRef();\r\n    const modifyType = useRef();\r\n    const modifyPhone = useRef();\r\n    const modifyPassword = useRef();\r\n    //密保\r\n    const questionAnswer = useRef()\r\n    const newPassward = useRef()\r\n    const [loginVisible, setLoginVisible] = useState(false);\r\n    const [registerVisible, setRegisterVisible] = useState(false);\r\n    const [identifyVisible, setIdentifyVisible] = useState(false);\r\n    const [studentMessageVisible, setStudentMessageVisible] = useState(false);\r\n    const [studentCertification, setStudentCertification] = useState(false);\r\n    const [resetVisible, setResetVisible] = useState(false)\r\n    //身份\r\n    const [identify, setIdentify] = useState(\"游客\");\r\n    useEffect(() => {\r\n        setIdentify(userIdentify);\r\n        userIdentify === '超级管理员' && props.history.push('/admin')\r\n    },[userIdentify]);\r\n    const [edit, toggleEdit] = useState(false);\r\n    //教师批准注册用户\r\n    const columns = [\r\n        {\r\n            title: '学号',\r\n            dataIndex: 'userId',\r\n            key: 'name',\r\n        },\r\n        {\r\n            title: '学生姓名',\r\n            dataIndex: 'userName',\r\n            key: 'userName',\r\n        },\r\n        {\r\n            title: '年级',\r\n            dataIndex: 'grade',\r\n            key: 'grade',\r\n        },\r\n        {\r\n            title: '学院',\r\n            dataIndex: 'academy',\r\n            key: 'academy',\r\n        },\r\n        {\r\n            title: '专业',\r\n            dataIndex: 'discipline',\r\n            key: 'discipline',\r\n        },\r\n        {\r\n            title: '班级',\r\n            dataIndex: 'cls',\r\n            key: 'cls',\r\n        },\r\n        {\r\n            title: '性别',\r\n            dataIndex: 'sex',\r\n            key: 'sex',\r\n        },\r\n        {\r\n            title: '电话',\r\n            dataIndex: 'phone',\r\n            key: 'phone',\r\n        },\r\n        {\r\n            title: '注册时间',\r\n            dataIndex: 'registerDate',\r\n            key: 'registerDate',\r\n        },\r\n        {\r\n            title: '授权状态',\r\n            dataIndex: 'state',\r\n            key: 'state',\r\n            render: (text, data) => <span\r\n                style={{color: \"blue\", cursor: \"pointer\"}}\r\n                onClick={() => {\r\n                    text === \"no\" && \r\n                    handleRegistered({\r\n                        userId: [data.userId],\r\n                        teacherId: reUserId,\r\n                        type: reType,\r\n                        page: 1\r\n                    })\r\n                }}\r\n            >\r\n                {text === \"no\"? text=\"批准\":text=\"已批准\"}\r\n            </span>,\r\n        },\r\n        ];\r\n    //我的信息\r\n    const refs = [\r\n        {\r\n            ref: modifyUserId,\r\n            defaultMessage: reUserId,\r\n            title: \"学号\"\r\n        },\r\n        {\r\n            ref: modifyUserName,\r\n            defaultMessage: name,\r\n            title: \"姓名\"\r\n        },\r\n        {\r\n            ref: modifyAcademy,\r\n            defaultMessage: reAcademy,\r\n            title: \"学院\"\r\n        },\r\n        {\r\n            ref: modifyGrade,\r\n            defaultMessage: reGrade,\r\n            title: \"年级\"\r\n        },\r\n        {\r\n            ref: modifyDiscipline,\r\n            defaultMessage: reDiscipline,\r\n            title: \"专业\"\r\n        },\r\n        {\r\n            ref: modifyCls,\r\n            defaultMessage: reClass,\r\n            title: \"班级\"\r\n        },\r\n        {\r\n            ref: modifySex,\r\n            defaultMessage: reSex,\r\n            title: \"性别\"\r\n        },\r\n        {\r\n            ref: modifyType,\r\n            defaultMessage: reType,\r\n            title: \"类型\"\r\n        },\r\n        {\r\n            ref: modifyPhone,\r\n            defaultMessage: rePhone,\r\n            title: \"电话\"\r\n        },\r\n        {\r\n            ref: modifyPassword,\r\n            defaultMessage: Decrypt(rePassword),\r\n            title: \"密码\"\r\n        }\r\n    ];\r\n    const layout = {\r\n        labelCol: {\r\n          span: 4,\r\n        },\r\n        wrapperCol: {\r\n          span: 16,\r\n        },\r\n      };\r\n    return (\r\n        <>\r\n            <header className=\"userHeader\">\r\n                <ul id=\"headerNav\" className=\"row row-start-center\">\r\n                    {\r\n                        login &&\r\n                        <li onClick={() => setIdentifyVisible(!identifyVisible)}>\r\n                            <span>您好,</span>\r\n                            <span className=\"name\">{name}</span>\r\n                        </li>\r\n                    }\r\n                    {/* 我的信息 */}\r\n                    {\r\n                        identifyVisible && login &&\r\n                            <>\r\n                                <Modal\r\n                                    keyboard\r\n                                    title={\"我的信息（其他信息不可改只可更改密码）\"}\r\n                                    visible={identifyVisible}\r\n                                    onCancel={() => setIdentifyVisible(!identifyVisible)}\r\n                                    onOk={() => setIdentifyVisible(!identifyVisible)}\r\n                                    footer={\r\n                                        <Button\r\n                                            type={\"primary\"}\r\n                                            onClick={\r\n                                                () => {\r\n                                                    setResetVisible(true);\r\n                                                    secretGuardExistence(reUserId);\r\n                                                    setIdentifyVisible(!identifyVisible);\r\n                                                }\r\n                                            }\r\n                                        >\r\n                                            修改密码\r\n                                        </Button>\r\n                                    }\r\n                                >\r\n                                    <Form.Item\r\n                                        className=\"row row-spacebetween-center\"\r\n                                        style={{\r\n                                            margin: 0,\r\n                                            flexWrap: \"wrap\"\r\n                                        }}\r\n                                    >\r\n                                        {\r\n                                            refs.map(el => (\r\n                                                <div\r\n                                                    className=\"row center-center\"\r\n                                                    style={{width: \"30rem\"}}\r\n                                                >\r\n                                                    <label>{el.title}</label>\r\n                                                    <Input\r\n                                                        disabled={true}\r\n                                                        ref={el.ref}\r\n                                                        defaultValue={el.defaultMessage}\r\n                                                        className=\"modifyInput\"\r\n                                                        onPressEnter={\r\n                                                            () => {\r\n                                                                handlePreserve({\r\n                                                                    userId: modifyUserId.current.state.value,\r\n                                                                    userName: modifyUserName.current.state.value,\r\n                                                                    grade: modifyGrade.current.state.value,\r\n                                                                    academy: modifyAcademy.current.state.value,\r\n                                                                    discipline: modifyDiscipline.current.state.value,\r\n                                                                    cls: modifyCls.current.state.value,\r\n                                                                    phone: modifyPhone.current.state.value,\r\n                                                                    sex: modifySex.current.state.value,\r\n                                                                    password: Encrypto(modifyPassword.current.state.value)\r\n                                                                });\r\n                                                                setIdentifyVisible(!identifyVisible);\r\n                                                            }\r\n                                                        }\r\n                                                    />\r\n                                                </div>\r\n                                            ))\r\n                                        }\r\n                                    </Form.Item>\r\n                                </Modal>\r\n                            </>\r\n\r\n                    }\r\n                    <li>\r\n                        {`身份 - ${identify}`}\r\n                    </li>\r\n                    {\r\n                        login && identify === \"教师\" &&\r\n                            <li\r\n                                className=\"studentMessage\"\r\n                                onClick={() => setStudentMessageVisible(!studentMessageVisible)}\r\n                            >\r\n                                学生信息\r\n                            </li>\r\n                    }\r\n                    {\r\n                        studentMessageVisible && login &&\r\n                            <>\r\n                                <Modal\r\n                                    visible={studentMessageVisible}\r\n                                    onCancel={() => setStudentMessageVisible(!studentMessageVisible)}\r\n                                    title={\"学生信息\"}\r\n                                    footer={null}\r\n                                    width= '60rem'\r\n                                >\r\n                                    <div className=\"studentMesWrapper\">\r\n                                        <div className=\"searchWrapper\">\r\n                                            <Button\r\n                                                style={{marginRight: \"0.5rem\"}}\r\n                                                onClick={\r\n                                                    () => {\r\n                                                        setStudentCertification(true);\r\n                                                        handleQueryRegister({\r\n                                                            userId: reUserId,\r\n                                                            type: reType,\r\n                                                            page: 1\r\n                                                        })\r\n                                                    }\r\n                                                }\r\n                                            >\r\n                                                学生认证\r\n                                            </Button>\r\n                                            {\r\n                                                studentCertification &&\r\n                                                    <>\r\n                                                        <Modal\r\n                                                            width= '68rem'\r\n                                                            visible={studentCertification}\r\n                                                            onCancel={() => setStudentCertification(!studentCertification)}\r\n                                                            title={\"学生注册\"}\r\n                                                            footer={\r\n                                                                <Button\r\n                                                                    type={\"primary\"}\r\n                                                                    onClick={ () => {\r\n                                                                        handleRegistered({\r\n                                                                                userId: registerUserId,\r\n                                                                            })\r\n                                                                        }\r\n                                                                    }\r\n                                                                >\r\n                                                                    批量批准\r\n                                                                </Button>\r\n                                                            }\r\n                                                        >\r\n                                                            <Table\r\n                                                                rowKey={record => record.userId}\r\n                                                                rowSelection={rowSelection}\r\n                                                                style={{width: \"65rem\"}}\r\n                                                                columns={columns}\r\n                                                                dataSource={data}\r\n                                                                pagination={{\r\n                                                                    total,\r\n                                                                    pageSize: 10,\r\n                                                                    onChange: e => {\r\n                                                                        handleQueryRegister({\r\n                                                                            userId: reUserId,\r\n                                                                            type: \"teacher\",\r\n                                                                            page: e\r\n                                                                        })\r\n                                                                    }\r\n                                                                }}\r\n                                                            />\r\n                                                        </Modal>\r\n                                                    </>\r\n                                            }\r\n                                            <SearchStudent style={{marginLeft: '1rem'}} />\r\n                                        </div>\r\n                                        <StudentTable/>\r\n                                    </div>\r\n                                </Modal>\r\n                            </>\r\n                    }\r\n                    {/*退出*/}\r\n                    {\r\n                        login &&\r\n                        <a\r\n                            href=\"\"\r\n                            onClick={\r\n                                e => {\r\n                                    e.preventDefault();\r\n                                    localStorage.removeItem('access');\r\n                                    handleLogOut();\r\n                                    setLoginVisible(loginVisible);\r\n                                }\r\n                            }\r\n                        >\r\n                            退出\r\n                        </a>\r\n                    }\r\n                    {/*登录*/}\r\n                    {\r\n                        !login &&\r\n                        <li\r\n                            className=\"navItem\"\r\n                            onClick={() => setLoginVisible(!loginVisible)}\r\n                        >\r\n                            登录\r\n                        </li>\r\n                    }\r\n                    {\r\n                        loginVisible && !login ?\r\n                            <Modal\r\n                                visible={ loginVisible }\r\n                                title=\"登录\"\r\n                                onCancel={() => setLoginVisible(!loginVisible)}\r\n                                onOk={\r\n                                    () => {\r\n                                       setLoginVisible(!loginVisible)\r\n                                    }\r\n                                }\r\n                                footer={\r\n                                    <Button\r\n                                        type={\"primary\"}\r\n                                        onClick={ () => {\r\n                                            handleLogin({\r\n                                                userId: userId.current.state.value,\r\n                                                password: Encrypto(password.current.input.value),\r\n                                            });\r\n                                        }\r\n                                        }\r\n                                    >\r\n                                        登录\r\n                                    </Button>\r\n                                }\r\n                            >\r\n                                <Form\r\n                                    {...layout}\r\n                                    name=\"basic\"\r\n                                    // initialValues={{\r\n                                    //     remember: true,\r\n                                    // }}\r\n                                    // onFinish={onFinish}\r\n                                    // onFinishFailed={onFinishFailed}\r\n                                >\r\n                                    <Form.Item\r\n                                        label=\"用户名\"\r\n                                        name=\"username\"\r\n                                        rules={[\r\n                                        {\r\n                                            required: true,\r\n                                            message: 'Please input your username!',\r\n                                        },\r\n                                        ]}\r\n                                    >\r\n                                        <Input ref={userId} />\r\n                                    </Form.Item>\r\n\r\n                                    <Form.Item\r\n                                        label=\"密码\"\r\n                                        name=\"password\"\r\n                                        rules={[\r\n                                        {\r\n                                            required: true,\r\n                                            message: 'Please input your password!',\r\n                                        },\r\n                                        ]}\r\n                                    >\r\n                                        <Input.Password \r\n                                            ref={password}\r\n                                            onPressEnter={() => {\r\n                                                handleLogin({\r\n                                                    userId: userId.current.state.value,\r\n                                                    password: Encrypto(password.current.input.value),\r\n                                                });\r\n                                            }} \r\n                                        />\r\n                                    </Form.Item>\r\n                                </Form>\r\n                                <Button\r\n                                    style={{marginTop: \"1rem\"}}\r\n                                    onClick={() => {\r\n                                        console.log(modifyPassward)\r\n                                        if(userId.current.state.value !== '') {\r\n                                            secretGuardExistence(userId.current.state.value)\r\n                                        } else {\r\n                                            openNotification('账号不能为空')\r\n                                        }\r\n                                    }}\r\n                                >\r\n                                    忘记密码\r\n                                </Button>\r\n                            </Modal> : \"\"\r\n                    }\r\n                    {/* 修改密码 */}\r\n                    <Modal\r\n                        visible={ resetVisible }\r\n                        title={ isCheck ? \"修改密码\" : (isQuestion ? \"验证密保问题\" : \"添加密保问题\")}\r\n                        onCancel={() => setResetVisible(!resetVisible)}\r\n                        onOk={\r\n                            () => {\r\n                                setResetVisible(!resetVisible);\r\n                                querySecret({userId: reUserId});\r\n                            }\r\n                        }\r\n                        footer={\r\n                            <Button\r\n                                type={\"primary\"}\r\n                                onClick={ () => {\r\n                                       isCheck ? handlePreserve({\r\n                                            'userId': resetPasswardData.userId || reUserId,\r\n                                            'userName': resetPasswardData.userName || name,\r\n                                            'grade': resetPasswardData.grade || reGrade,\r\n                                            'academy': resetPasswardData.academy || reAcademy,\r\n                                            'discipline': resetPasswardData.discipline || reDiscipline,\r\n                                            'cls': resetPasswardData.cls || reClass,\r\n                                            'phone': resetPasswardData.phone || rePhone,\r\n                                            'sex': resetPasswardData.sex || reSex,\r\n                                            'password': Encrypto(newPassward.current.state.value)\r\n                                       }) :\r\n                                        (isQuestion ? checkQuestion({\r\n                                            'userId': resetPasswardData.userId || reUserId,\r\n                                            'question': question,\r\n                                            'answer': questionAnswer.current.input.value \r\n                                        }) : addQuestion({\r\n                                            'userId': resetPasswardData.userId || reUserId,\r\n                                            'question': question,\r\n                                            'answer': questionAnswer.current.input.value\r\n                                        }))\r\n                                    }\r\n                                }\r\n                            >\r\n                                提交\r\n                            </Button>\r\n                        }\r\n                    >\r\n                        {\r\n                            isCheck ?\r\n                            <div>\r\n                                <div className=\"row row-spacebetween-center\">\r\n                                    <label>输入你的新密码：</label><Input ref={newPassward} style={{width: \"70%\"}}/>\r\n                                </div>\r\n                            </div> : <div>\r\n                                        <div className=\"row row-spacebetween-center\">\r\n                                            <label htmlFor=\"\">\r\n                                                请选择密保问题:\r\n                                            </label>\r\n                                            <Select defaultValue=\"Q1\" style={{width: \"70%\"}} onChange={val => handleQuestionChange(val)}>\r\n                                                <Option value='Q1' >您就读的高中叫什么名字？</Option>\r\n                                                <Option value=\"Q2\" >您的母亲叫什么名字？</Option>\r\n                                                <Option value=\"Q3\" >您就读的小学叫什么名字？</Option>\r\n                                            </Select>\r\n                                        </div>\r\n                                        <div className=\"row row-spacebetween-center\">\r\n                                            <label>输入密保问题答案：</label><Input ref={questionAnswer} style={{width: \"70%\"}}/>\r\n                                        </div>\r\n                                    </div>\r\n                        }\r\n                    </Modal>\r\n                    {/*注册*/}\r\n                    {\r\n                        !login &&\r\n                        <li\r\n                            className=\"navItem\"\r\n                            onClick={\r\n                                () => {\r\n                                    setRegisterVisible(!registerVisible);\r\n                                    handleTeacher({});\r\n                                }\r\n                            }\r\n                        >\r\n                            注册\r\n                        </li>\r\n                    }\r\n                    {\r\n                        registerVisible && !login &&\r\n                        <Modal\r\n                            title=\"注册\"\r\n                            visible={registerVisible}\r\n                            onCancel={() => setRegisterVisible(!registerVisible)}\r\n                            footer={\r\n                                <div className=\"row row-spacebetween-center\">\r\n                                    <span>提示：信息必须真实,完整,否则无效！</span>\r\n                                    <Button\r\n                                        type={\"primary\"}\r\n                                        onClick={\r\n                                            () => {\r\n                                                handleRegister({\r\n                                                    userId: userId.current.state.value,\r\n                                                    userName: userName.current.state.value,\r\n                                                    academy: academy.current.state.value,\r\n                                                    grade: grade.current.state.value,\r\n                                                    discipline: discipline.current.state.value,\r\n                                                    cls: cls.current.state.value,\r\n                                                    sex,\r\n                                                    phone: phone.current.state.value,\r\n                                                    teacherId,\r\n                                                    password: Encrypto(password.current.input.value),\r\n                                                });\r\n                                            }\r\n                                        }\r\n                                    >\r\n                                        注册\r\n                                    </Button>\r\n                                </div>\r\n                            }\r\n                        >\r\n                            <div className=\"row row-spacebetween-center\">\r\n                                <label htmlFor=\"\">\r\n                                    学号\r\n                                </label>\r\n                                <Input ref={userId} style={{width: \"90%\"}} placeholder={'例：2018211304'} />\r\n                            </div>\r\n                            <div className=\"row row-spacebetween-center\">\r\n                                <label htmlFor=\"\">\r\n                                    年级\r\n                                </label>\r\n                                <Input ref={grade} style={{width: \"90%\"}} placeholder={'例：2018'}/>\r\n                            </div>\r\n                            <div className=\"row row-spacebetween-center\">\r\n                                <label htmlFor=\"\">\r\n                                    专业\r\n                                </label>\r\n                                <Input ref={discipline} style={{width: \"90%\"}} placeholder={'例：电子商务'}/>\r\n                            </div>\r\n                            <div className=\"row row-spacebetween-center\">\r\n                                <label htmlFor=\"\">\r\n                                    性别\r\n                                </label>\r\n                                <Select defaultValue=\"男\" style={{width: \"90%\"}} onChange={val => handleSexChange(val)}>\r\n                                    <Option value=\"男\" >男</Option>\r\n                                    <Option value=\"女\" >女</Option>\r\n                                </Select>\r\n                            </div>\r\n                            <div className=\"row row-spacebetween-center\">\r\n                                <label>教师</label>\r\n                                <Select\r\n                                    onSearch={\r\n                                        value => console.log(value)\r\n                                    }\r\n                                    onChange={\r\n                                        val => handleTeacherChange(val)\r\n                                    }\r\n                                    style={{width: \"90%\"}}\r\n                                    placeholder=\"注册后需要该教师审核通过，请选择\"\r\n                                >\r\n                                    {\r\n                                        teacherName.map((item,index) => <Option value={item[1]} key={index}>{item[0]}</Option>)\r\n                                    }\r\n                                </Select>\r\n                            </div>\r\n                            <div className=\"row row-spacebetween-center\">\r\n                                <label htmlFor=\"\">\r\n                                    电话\r\n                                </label>\r\n                                <Input ref={phone} style={{width: \"90%\"}} placeholder={'输入11位的数字'}/>\r\n                            </div>\r\n                            <div className=\"row row-spacebetween-center\">\r\n                                <label htmlFor=\"\">\r\n                                    姓名\r\n                                </label>\r\n                                <Input ref={userName} style={{width: \"90%\"}}/>\r\n                            </div>\r\n                            <div className=\"row row-spacebetween-center\">\r\n                                <label htmlFor=\"\">\r\n                                    学院\r\n                                </label>\r\n                                <Input ref={academy} style={{width: \"90%\"}} placeholder={'例：经济管理现代邮政学院'}/>\r\n                            </div>\r\n                            <div className=\"row row-spacebetween-center\">\r\n                                <label htmlFor=\"\">\r\n                                    班级\r\n                                </label>\r\n                                <Input ref={cls} style={{width: \"90%\"}} placeholder={'例：03131802'}/>\r\n                            </div>\r\n                            <div className=\"row row-spacebetween-center\">\r\n                                <label htmlFor=\"\">\r\n                                    密码\r\n                                </label>\r\n                                <Input.Password\r\n                                    onPressEnter={\r\n                                        () => {\r\n                                            handleRegister({\r\n                                                userId: userId.current.state.value,\r\n                                                userName: userName.current.state.value,\r\n                                                academy: academy.current.state.value,\r\n                                                grade: grade.current.state.value,\r\n                                                discipline: discipline.current.state.value,\r\n                                                cls: cls.current.state.value,\r\n                                                sex,\r\n                                                phone: phone.current.state.value,\r\n                                                teacherId,\r\n                                                password: Encrypto(password.current.input.value),\r\n                                            });\r\n                                        }\r\n                                    }\r\n                                    ref={password}\r\n                                    style={{width: \"90%\"}}\r\n                                />\r\n                            </div>\r\n                        </Modal>\r\n                    }\r\n                    <li style={{paddingLeft: 10}}>\r\n                        <a href=\"http://172.22.4.2.node6.cqupt.co/manual/html/student.html\" >\r\n                            使用手册\r\n                        </a>\r\n                    </li>\r\n                </ul>\r\n            </header>\r\n        </>\r\n    )\r\n};\r\n\r\nexport default withRouter(connect(\r\n    state => ({\r\n        login: state.getIn([\"userMana\",\"common\",\"login\"]),\r\n        teacher: state.getIn([\"userMana\", \"student\", \"teacher\"]),\r\n        userIdentify: state.getIn([\"userMana\", \"common\", \"userIdentify\"]),\r\n        name: state.getIn([\"userMana\", \"common\", \"name\"]),\r\n        reAcademy: state.getIn([\"userMana\", \"common\", \"academy\"]),\r\n        reDiscipline: state.getIn([\"userMana\", \"common\", \"discipline\"]),\r\n        reGrade: state.getIn([\"userMana\", \"common\", \"grade\"]),\r\n        reSex: state.getIn([\"userMana\", \"common\", \"sex\"]),\r\n        reUserId: state.getIn([\"userMana\", \"common\", \"userId\"]),\r\n        reClass: state.getIn([\"userMana\", \"common\", \"class\"]),\r\n        reType: state.getIn([\"userMana\", \"common\", \"type\"]),\r\n        rePhone: state.getIn([\"userMana\", \"common\", \"phone\"]),\r\n        rePassword: state.getIn([\"userMana\", \"common\", \"password\"]),\r\n        data: state.getIn([\"userMana\", \"common\", \"registerStudent\"]),\r\n        total: state.getIn([\"userMana\", \"common\", \"registerTotal\"]),\r\n        teacherName: state.getIn([\"resource\", \"resource\", \"teacherName\"]),\r\n        ratify: state.getIn([\"resource\", \"resource\", \"ratify\"]),\r\n        registerSuccess: state.getIn([\"userMana\", \"common\", \"registerSuccess\"]),\r\n        registeredFlag: state.getIn([\"userMana\", \"common\", \"registeredFlag\"]),\r\n        resetPasswardData: state.getIn([\"userMana\", \"common\", \"resetPasswardData\"]),\r\n        isQuestion: state.getIn([\"userMana\", \"common\", \"isQuestion\"]),\r\n        isCheck: state.getIn([\"userMana\", \"common\", \"isCheck\"]),\r\n        modifyPassward: state.getIn([\"userMana\", \"common\", \"modifyPassward\"]),\r\n        visible: state.getIn([\"userMana\", \"common\", \"visible\"]),\r\n    }),\r\n    dispatch => ({\r\n        handleLogin(args) {\r\n            if (args.length === 0) {\r\n                openNotification(\"请输入密码\")\r\n            } else {\r\n                dispatch(user.login(args));\r\n            }\r\n        },\r\n        handleRegister(args) {\r\n            if (!checkNumber(args.userId) && args.userId.length === 10) {\r\n                openNotification(\"请检查学号格式\");\r\n            } else if (!checkNumber(args.grade) && args.grade.length === 4) {\r\n                openNotification(\"请检查年级的格式\")\r\n            } else if (!isChinese(args.discipline)) {\r\n                openNotification(\"请检查专业的格式\")\r\n            } else if (!checkNumber(args.phone) && args.phone.length === 11) {\r\n                openNotification(\"请检查电话的格式\")\r\n            } else if (!isChinese(args.userName)) {\r\n                openNotification(\"请检查姓名的格式\")\r\n            } else if (!isChinese(args.academy)) {\r\n                openNotification(\"请检查学院的格式\")\r\n            } else if (!checkNumber(args.cls) && args.cls.length === 8) {\r\n                openNotification(\"请检查班级的格式\")\r\n            } else if (args.length === 0) {\r\n                openNotification(\"请输入密码\");\r\n            } else {\r\n                dispatch(user.register(args));\r\n            }\r\n        },\r\n        handleTeacher(){\r\n            dispatch(user.teacher());\r\n        },\r\n        handleLogOut() {\r\n            dispatch({type: LOG_OUT});\r\n        },\r\n        handlePreserve(args) {\r\n            dispatch(user.preserve(args));\r\n        },\r\n        handleQueryRegister(args) {\r\n            dispatch(user.queryRegister(args));\r\n        },\r\n        handleRegistered(args) {\r\n            dispatch(user.registered(args));\r\n        },\r\n        querySecret(args) {\r\n            dispatch(user.querySecret(args))\r\n        },\r\n        secretGuardExistence(args) {\r\n            dispatch(user.secretGuardExistence(args))\r\n        },\r\n        checkQuestion(args) {\r\n            dispatch(user.checkQuestion(args))\r\n        },\r\n        addQuestion(args) {\r\n            dispatch(user.addQuestion(args))\r\n        }\r\n    })\r\n)(Header));\r\n"]},"metadata":{},"sourceType":"module"}