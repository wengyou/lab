{"ast":null,"code":"import\"antd/es/select/style/css\";import _Select from\"antd/es/select\";import\"antd/es/input/style/css\";import _Input from\"antd/es/input\";import React from\"react\";import{connect}from\"react-redux\";import{withRouter}from\"react-router-dom\";import\"../static/style/search.scss\";import*as resource from\"../redux/actionCreators/resource\";var InputGroup=_Input.Group;var Option=_Select.Option;var Search=_Input.Search;var flag=\"resourceName\";var SearchInput=function SearchInput(props){var handleSearchValue=props.handleSearchValue,type=props.type;return/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(InputGroup,{className:\"search\",compact:true},/*#__PURE__*/React.createElement(_Select,{defaultValue:\"resourceName\",onChange:function onChange(value){return flag=value;}},/*#__PURE__*/React.createElement(Option,{value:\"resourceName\"},type===\"material\"?\"资料名\":\"软件名\"),/*#__PURE__*/React.createElement(Option,{value:\"userName\"},\"\\u4E0A\\u4F20\\u4EBA\")),/*#__PURE__*/React.createElement(Search,{placeholder:\"\\u8BF7\\u8F93\\u5165\\u641C\\u7D22\\u4FE1\\u606F\",onSearch:function onSearch(value,e){return handleSearchValue(flag===\"resourceName\"?{page:1,type:type,resourceName:value,userName:\"\"}:{page:1,type:type,resourceName:\"\",userName:value});},enterButton:true})));};export default withRouter(connect(function(state){return{type:state.getIn([\"resource\",\"resource\",\"type\"])};},function(dispatch){return{handleSearchValue:function handleSearchValue(args){dispatch(resource.fetchSearchValue(args));}};})(SearchInput));","map":{"version":3,"sources":["C:/projects/lab/lab_2.0/src/components/Search.js"],"names":["React","connect","withRouter","resource","InputGroup","Group","Option","Search","flag","SearchInput","props","handleSearchValue","type","value","e","page","resourceName","userName","state","getIn","dispatch","args","fetchSearchValue"],"mappings":"uIAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAAQC,UAAR,KAAyB,kBAAzB,CACA,MAAO,6BAAP,CAEA,MAAO,GAAKC,CAAAA,QAAZ,KAA0B,kCAA1B,CAEA,GAAMC,CAAAA,UAAU,CAAG,OAAMC,KAAzB,C,GACQC,CAAAA,M,SAAAA,M,IACAC,CAAAA,M,QAAAA,M,CACR,GAAIC,CAAAA,IAAI,CAAG,cAAX,CACA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAAAC,KAAK,CAAI,IACjBC,CAAAA,iBADiB,CACWD,KADX,CACjBC,iBADiB,CACEC,IADF,CACWF,KADX,CACEE,IADF,CAGzB,mBACI,2BAAK,SAAS,CAAC,WAAf,eACI,oBAAC,UAAD,EACI,SAAS,CAAC,QADd,CAEI,OAAO,KAFX,eAII,6BACI,YAAY,CAAC,cADjB,CAEI,QAAQ,CAAE,kBAAAC,KAAK,QAAIL,CAAAA,IAAI,CAAGK,KAAX,EAFnB,eAII,oBAAC,MAAD,EAAQ,KAAK,CAAC,cAAd,EACKD,IAAI,GAAK,UAAT,CAAsB,KAAtB,CAA8B,KADnC,CAJJ,cAOI,oBAAC,MAAD,EAAQ,KAAK,CAAC,UAAd,uBAPJ,CAJJ,cAaI,oBAAC,MAAD,EACI,WAAW,CAAC,4CADhB,CAEI,QAAQ,CAAE,kBAACC,KAAD,CAAOC,CAAP,QAAaH,CAAAA,iBAAiB,CACpCH,IAAI,GAAK,cAAT,CAA0B,CACtBO,IAAI,CAAE,CADgB,CAEtBH,IAAI,CAAJA,IAFsB,CAGtBI,YAAY,CAAEH,KAHQ,CAItBI,QAAQ,CAAE,EAJY,CAA1B,CAKI,CACAF,IAAI,CAAE,CADN,CAEAH,IAAI,CAAJA,IAFA,CAGAI,YAAY,CAAE,EAHd,CAIAC,QAAQ,CAAEJ,KAJV,CANgC,CAA9B,EAFd,CAgBI,WAAW,KAhBf,EAbJ,CADJ,CADJ,CAoCH,CAvCD,CAwCA,cAAeX,CAAAA,UAAU,CAACD,OAAO,CAC7B,SAAAiB,KAAK,QAAK,CACNN,IAAI,CAAEM,KAAK,CAACC,KAAN,CAAY,CAAC,UAAD,CAAY,UAAZ,CAAuB,MAAvB,CAAZ,CADA,CAAL,EADwB,CAI7B,SAAAC,QAAQ,QAAK,CACTT,iBADS,4BACSU,IADT,CACc,CACnBD,QAAQ,CAACjB,QAAQ,CAACmB,gBAAT,CAA0BD,IAA1B,CAAD,CAAR,CACH,CAHQ,CAAL,EAJqB,CAAP,CASxBZ,WATwB,CAAD,CAAzB","sourcesContent":["import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport \"../static/style/search.scss\";\r\nimport { Input, Select } from 'antd';\r\nimport * as resource from \"../redux/actionCreators/resource\";\r\n\r\nconst InputGroup = Input.Group;\r\nconst { Option } = Select;\r\nconst { Search } = Input;\r\nlet flag = \"resourceName\";\r\nconst SearchInput = props => {\r\n    const { handleSearchValue, type } = props;\r\n\r\n    return(\r\n        <div className=\"container\">\r\n            <InputGroup\r\n                className=\"search\"\r\n                compact\r\n            >\r\n                <Select\r\n                    defaultValue=\"resourceName\"\r\n                    onChange={value => flag = value }\r\n                >\r\n                    <Option value=\"resourceName\">\r\n                        {type === \"material\" ? \"资料名\" : \"软件名\"}\r\n                    </Option>\r\n                    <Option value=\"userName\">上传人</Option>\r\n                </Select>\r\n                <Search\r\n                    placeholder=\"请输入搜索信息\"\r\n                    onSearch={(value,e) => handleSearchValue(\r\n                        flag === \"resourceName\" ? {\r\n                            page: 1,\r\n                            type,\r\n                            resourceName: value,\r\n                            userName: \"\"\r\n                        } : {\r\n                            page: 1,\r\n                            type,\r\n                            resourceName: \"\",\r\n                            userName: value\r\n                        }\r\n                    )\r\n                    }\r\n                    enterButton\r\n                />\r\n            </InputGroup>\r\n        </div>\r\n    )\r\n};\r\nexport default withRouter(connect(\r\n    state => ({\r\n        type: state.getIn([\"resource\",\"resource\",\"type\"]),\r\n    }),\r\n    dispatch => ({\r\n        handleSearchValue(args){\r\n            dispatch(resource.fetchSearchValue(args));\r\n        }\r\n    })\r\n)(SearchInput));\r\n"]},"metadata":{},"sourceType":"module"}