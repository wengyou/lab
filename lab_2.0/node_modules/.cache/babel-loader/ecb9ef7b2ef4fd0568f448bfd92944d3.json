{"ast":null,"code":"import\"antd/es/table/style/css\";import _Table from\"antd/es/table\";import React,{useEffect,useRef,useState}from\"react\";import{connect}from\"react-redux\";import UpLoad from\"./UpLoad\";import*as resource from\"../redux/actionCreators/resource\";import\"../static/style/learningDatas.scss\";var MyData=function MyData(props){var handleMyData=props.handleMyData,userName=props.userName,total=props.total,teacherData=props.teacherData,handleDeleteData=props.handleDeleteData,userId=props.userId,resourceTemp=props.resourceTemp,time=props.time;useEffect(function(){handleMyData({page:1,type:\"material\",userName:userName});},[resourceTemp,time]);var columns=[{title:'资料名',dataIndex:'title',key:'title'},{title:'大小',dataIndex:'size',key:'size'},{title:'上传时间',key:'addTime',dataIndex:'addTime'},{title:'资料处理',key:'资料处理',dataIndex:'资料处理',render:function render(text,data){return/*#__PURE__*/React.createElement(\"a\",{onClick:function onClick(){handleDeleteData({resourceId:data.id,type:\"material\",userId:userId,userName:userName});},className:\"resDelete\"},\"\\u5220\\u9664\");}}];return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"dataWrapper\"},/*#__PURE__*/React.createElement(\"p\",{style:{color:'#FF0000'}},\"\\u8BF7\\u53CA\\u65F6\\u6E05\\u7406\\u8FC7\\u671F\\u7684\\uFF0C\\u65E0\\u7528\\u7684\\u8D44\\u6599\\uFF0C\\u4EE5\\u8282\\u7EA6\\u7A7A\\u95F4\"),/*#__PURE__*/React.createElement(UpLoad,null),/*#__PURE__*/React.createElement(_Table,{rowKey:function rowKey(record){return record.id;},columns:columns,dataSource:teacherData,pagination:{total:total,pageSize:10,defaultCurrent:1,onChange:function onChange(e){handleMyData({page:e,type:'material',userName:userName});}}})),/*#__PURE__*/React.createElement(\"style\",null,\"\\n                        .ant-table-content {\\n                            border: 1px dashed #efefef !important;\\n                        }\\n                   \"));};export default connect(function(state){return{userName:state.getIn([\"userMana\",\"common\",\"name\"]),teacherData:state.getIn([\"resource\",\"resource\",\"teacherData\"]),total:state.getIn([\"resource\",\"resource\",\"myLearningTotal\"]),userId:state.getIn([\"userMana\",\"common\",\"userId\"]),resourceTemp:state.getIn([\"resource\",\"resource\",\"resourceTemp\"]),time:state.getIn([\"resource\",\"resource\",\"time\"])};},function(dispatch){return{handleMyData:function handleMyData(args){dispatch(resource.fetchTeacherData(args));},handleDeleteData:function handleDeleteData(args){dispatch(resource.deleteData(args));}};})(MyData);","map":{"version":3,"sources":["C:/projects/lab/lab_2.0/src/components/MyData.js"],"names":["React","useEffect","useRef","useState","connect","UpLoad","resource","MyData","props","handleMyData","userName","total","teacherData","handleDeleteData","userId","resourceTemp","time","page","type","columns","title","dataIndex","key","render","text","data","resourceId","id","color","record","pageSize","defaultCurrent","onChange","e","state","getIn","dispatch","args","fetchTeacherData","deleteData"],"mappings":"kEAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,MAA3B,CAAmCC,QAAnC,KAAmD,OAAnD,CACA,OAASC,OAAT,KAAwB,aAAxB,CAEA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAO,GAAKC,CAAAA,QAAZ,KAA0B,kCAA1B,CACA,MAAO,oCAAP,CAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAAAC,KAAK,CAAI,IAEhBC,CAAAA,YAFgB,CAUjBD,KAViB,CAEhBC,YAFgB,CAGhBC,QAHgB,CAUjBF,KAViB,CAGhBE,QAHgB,CAIhBC,KAJgB,CAUjBH,KAViB,CAIhBG,KAJgB,CAKhBC,WALgB,CAUjBJ,KAViB,CAKhBI,WALgB,CAMhBC,gBANgB,CAUjBL,KAViB,CAMhBK,gBANgB,CAOhBC,MAPgB,CAUjBN,KAViB,CAOhBM,MAPgB,CAQhBC,YARgB,CAUjBP,KAViB,CAQhBO,YARgB,CAShBC,IATgB,CAUjBR,KAViB,CAShBQ,IATgB,CAWpBf,SAAS,CAAC,UAAM,CACZQ,YAAY,CAAC,CAACQ,IAAI,CAAC,CAAN,CAASC,IAAI,CAAC,UAAd,CAA0BR,QAAQ,CAAEA,QAApC,CAAD,CAAZ,CACH,CAFQ,CAEP,CAACK,YAAD,CAAeC,IAAf,CAFO,CAAT,CAGA,GAAMG,CAAAA,OAAO,CAAG,CACZ,CACIC,KAAK,CAAE,KADX,CAEIC,SAAS,CAAE,OAFf,CAGIC,GAAG,CAAE,OAHT,CADY,CAMZ,CACIF,KAAK,CAAE,IADX,CAEIC,SAAS,CAAE,MAFf,CAGIC,GAAG,CAAE,MAHT,CANY,CAWZ,CACIF,KAAK,CAAE,MADX,CAEIE,GAAG,CAAE,SAFT,CAGID,SAAS,CAAE,SAHf,CAXY,CAgBZ,CACID,KAAK,CAAE,MADX,CAEIE,GAAG,CAAE,MAFT,CAGID,SAAS,CAAE,MAHf,CAIIE,MAAM,CAAE,gBAACC,IAAD,CAAMC,IAAN,qBACJ,yBACI,OAAO,CACH,kBAAM,CACFZ,gBAAgB,CAAC,CACba,UAAU,CAAED,IAAI,CAACE,EADJ,CAEbT,IAAI,CAAE,UAFO,CAGbJ,MAAM,CAAEA,MAHK,CAIbJ,QAAQ,CAAEA,QAJG,CAAD,CAAhB,CAMH,CATT,CAWI,SAAS,CAAC,WAXd,iBADI,EAJZ,CAhBY,CAAhB,CAuCA,mBACI,qDACI,2BAAK,SAAS,CAAC,aAAf,eACI,yBAAG,KAAK,CAAE,CAACkB,KAAK,CAAE,SAAR,CAAV,6HADJ,cAEI,oBAAC,MAAD,MAFJ,cAGI,4BACI,MAAM,CAAE,gBAAAC,MAAM,QAAIA,CAAAA,MAAM,CAACF,EAAX,EADlB,CAEI,OAAO,CAAER,OAFb,CAGI,UAAU,CAAEP,WAHhB,CAII,UAAU,CAAE,CACRD,KAAK,CAALA,KADQ,CAERmB,QAAQ,CAAE,EAFF,CAGRC,cAAc,CAAE,CAHR,CAIRC,QAAQ,CAAE,kBAAAC,CAAC,CAAI,CACXxB,YAAY,CAAC,CACTQ,IAAI,CAAEgB,CADG,CAETf,IAAI,CAAE,UAFG,CAGTR,QAAQ,CAAEA,QAHD,CAAD,CAAZ,CAKH,CAVO,CAJhB,EAHJ,CADJ,cAsBI,sMAtBJ,CADJ,CAkCH,CAvFD,CAyFA,cAAeN,CAAAA,OAAO,CAClB,SAAA8B,KAAK,QAAK,CACNxB,QAAQ,CAAEwB,KAAK,CAACC,KAAN,CAAY,CAAC,UAAD,CAAa,QAAb,CAAuB,MAAvB,CAAZ,CADJ,CAENvB,WAAW,CAAEsB,KAAK,CAACC,KAAN,CAAY,CAAC,UAAD,CAAa,UAAb,CAAyB,aAAzB,CAAZ,CAFP,CAGNxB,KAAK,CAAEuB,KAAK,CAACC,KAAN,CAAY,CAAC,UAAD,CAAa,UAAb,CAAyB,iBAAzB,CAAZ,CAHD,CAINrB,MAAM,CAAEoB,KAAK,CAACC,KAAN,CAAY,CAAC,UAAD,CAAa,QAAb,CAAuB,QAAvB,CAAZ,CAJF,CAKNpB,YAAY,CAAEmB,KAAK,CAACC,KAAN,CAAY,CAAC,UAAD,CAAa,UAAb,CAAyB,cAAzB,CAAZ,CALR,CAMNnB,IAAI,CAAEkB,KAAK,CAACC,KAAN,CAAY,CAAC,UAAD,CAAa,UAAb,CAAyB,MAAzB,CAAZ,CANA,CAAL,EADa,CASlB,SAAAC,QAAQ,QAAK,CACT3B,YADS,uBACI4B,IADJ,CACS,CACdD,QAAQ,CAAC9B,QAAQ,CAACgC,gBAAT,CAA0BD,IAA1B,CAAD,CAAR,CACH,CAHQ,CAITxB,gBAJS,2BAIQwB,IAJR,CAIa,CAClBD,QAAQ,CAAC9B,QAAQ,CAACiC,UAAT,CAAoBF,IAApB,CAAD,CAAR,CACH,CANQ,CAAL,EATU,CAAP,CAiBb9B,MAjBa,CAAf","sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Table } from 'antd';\r\nimport UpLoad from \"./UpLoad\";\r\nimport * as resource from \"../redux/actionCreators/resource\";\r\nimport \"../static/style/learningDatas.scss\";\r\n\r\nconst MyData = props => {\r\n    const {\r\n        handleMyData,\r\n        userName,\r\n        total,\r\n        teacherData,\r\n        handleDeleteData,\r\n        userId,\r\n        resourceTemp,\r\n        time,\r\n    }= props;\r\n    useEffect(() => {\r\n        handleMyData({page:1, type:\"material\", userName: userName})\r\n    },[resourceTemp, time]);\r\n    const columns = [\r\n        {\r\n            title: '资料名',\r\n            dataIndex: 'title',\r\n            key: 'title',\r\n        },\r\n        {\r\n            title: '大小',\r\n            dataIndex: 'size',\r\n            key: 'size',\r\n        },\r\n        {\r\n            title: '上传时间',\r\n            key: 'addTime',\r\n            dataIndex: 'addTime',\r\n        },\r\n        {\r\n            title: '资料处理',\r\n            key: '资料处理',\r\n            dataIndex: '资料处理',\r\n            render: (text,data) => (\r\n                <a\r\n                    onClick={\r\n                        () => {\r\n                            handleDeleteData({\r\n                                resourceId: data.id,\r\n                                type: \"material\",\r\n                                userId: userId,\r\n                                userName: userName\r\n                            });\r\n                        }\r\n                    }\r\n                    className=\"resDelete\">\r\n                    删除\r\n                </a>\r\n            )\r\n        },\r\n    ];\r\n\r\n    return(\r\n        <>\r\n            <div className=\"dataWrapper\">\r\n                <p style={{color: '#FF0000'}}>请及时清理过期的，无用的资料，以节约空间</p>\r\n                <UpLoad/>\r\n                <Table\r\n                    rowKey={record => record.id}\r\n                    columns={columns}\r\n                    dataSource={teacherData}\r\n                    pagination={{\r\n                        total,\r\n                        pageSize: 10,\r\n                        defaultCurrent: 1,\r\n                        onChange: e => {\r\n                            handleMyData({\r\n                                page: e,\r\n                                type: 'material',\r\n                                userName: userName\r\n                            })\r\n                        }\r\n                    }}\r\n                />\r\n            </div>\r\n            <style>\r\n                {\r\n                    `\r\n                        .ant-table-content {\r\n                            border: 1px dashed #efefef !important;\r\n                        }\r\n                   `\r\n                }\r\n            </style>\r\n        </>\r\n    )\r\n};\r\n\r\nexport default connect(\r\n    state => ({\r\n        userName: state.getIn([\"userMana\", \"common\", \"name\"]),\r\n        teacherData: state.getIn([\"resource\", \"resource\", \"teacherData\"]),\r\n        total: state.getIn([\"resource\", \"resource\", \"myLearningTotal\"]),\r\n        userId: state.getIn([\"userMana\", \"common\", \"userId\"]),\r\n        resourceTemp: state.getIn([\"resource\", \"resource\", \"resourceTemp\"]),\r\n        time: state.getIn([\"resource\", \"resource\", \"time\"]),\r\n    }),\r\n    dispatch => ({\r\n        handleMyData(args){\r\n            dispatch(resource.fetchTeacherData(args));\r\n        },\r\n        handleDeleteData(args){\r\n            dispatch(resource.deleteData(args))\r\n        }\r\n    })\r\n)(MyData);\r\n"]},"metadata":{},"sourceType":"module"}