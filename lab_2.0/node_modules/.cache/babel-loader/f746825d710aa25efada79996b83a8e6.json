{"ast":null,"code":"import _slicedToArray from \"C:\\\\projects\\\\lab\\\\lab_2.0\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport \"antd/es/select/style/css\";\nimport _Select from \"antd/es/select\";\nimport \"antd/es/input/style/css\";\nimport _Input from \"antd/es/input\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\projects\\\\lab\\\\lab_2.0\\\\src\\\\components\\\\Search.js\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router-dom\";\nimport \"../static/style/search.scss\";\nimport * as resource from \"../redux/actionCreators/resource\";\nvar InputGroup = _Input.Group;\nvar Option = _Select.Option;\nvar Search = _Input.Search;\nvar flag = \"resourceName\";\n\nvar SearchInput = function SearchInput(props) {\n  var handleSearchValue = props.handleSearchValue,\n      history = props.history; // console.log(history)\n\n  var _useState = useState(props.data === \"material\" ? \"software\" : \"material\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      type = _useState2[0],\n      setType = _useState2[1];\n\n  useEffect(function () {}, [props.data]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(InputGroup, {\n    className: \"search\",\n    compact: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(_Select, {\n    defaultValue: \"resourceName\",\n    onChange: function onChange(value) {\n      return flag = value;\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Option, {\n    value: \"resourceName\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 21\n    }\n  }, type === \"material\" ? \"资料名\" : \"软件名\"), /*#__PURE__*/React.createElement(Option, {\n    value: \"userName\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 21\n    }\n  }, \"\\u4E0A\\u4F20\\u4EBA\")), /*#__PURE__*/React.createElement(Search, {\n    placeholder: \"\\u8BF7\\u8F93\\u5165\\u641C\\u7D22\\u4FE1\\u606F\",\n    onSearch: function onSearch(value, e) {\n      return handleSearchValue(flag === \"resourceName\" ? {\n        page: 1,\n        type: type,\n        resourceName: value,\n        userName: \"\"\n      } : {\n        page: 1,\n        type: type,\n        resourceName: \"\",\n        userName: value\n      });\n    },\n    enterButton: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 17\n    }\n  })));\n};\n\nexport default withRouter(connect(function (state) {\n  return {};\n}, function (dispatch) {\n  return {\n    handleSearchValue: function handleSearchValue(args) {\n      dispatch(resource.fetchSearchValue(args));\n    }\n  };\n})(SearchInput));","map":{"version":3,"sources":["C:/projects/lab/lab_2.0/src/components/Search.js"],"names":["React","useEffect","useState","connect","withRouter","resource","InputGroup","Group","Option","Search","flag","SearchInput","props","handleSearchValue","history","data","type","setType","value","e","page","resourceName","userName","state","dispatch","args","fetchSearchValue"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAAQC,UAAR,QAAyB,kBAAzB;AACA,OAAO,6BAAP;AAEA,OAAO,KAAKC,QAAZ,MAA0B,kCAA1B;AAEA,IAAMC,UAAU,GAAG,OAAMC,KAAzB;IACQC,M,WAAAA,M;IACAC,M,UAAAA,M;AACR,IAAIC,IAAI,GAAG,cAAX;;AACA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAAAC,KAAK,EAAI;AAAA,MACjBC,iBADiB,GACcD,KADd,CACjBC,iBADiB;AAAA,MACEC,OADF,GACcF,KADd,CACEE,OADF,EAEzB;;AAFyB,kBAGDZ,QAAQ,CAACU,KAAK,CAACG,IAAN,KAAe,UAAf,GAA4B,UAA5B,GAAwC,UAAzC,CAHP;AAAA;AAAA,MAGlBC,IAHkB;AAAA,MAGZC,OAHY;;AAIzBhB,EAAAA,SAAS,CAAC,YAAM,CAEf,CAFQ,EAEN,CAACW,KAAK,CAACG,IAAP,CAFM,CAAT;AAGA,sBACI;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,UAAD;AACI,IAAA,SAAS,EAAC,QADd;AAEI,IAAA,OAAO,MAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAII;AACI,IAAA,YAAY,EAAC,cADjB;AAEI,IAAA,QAAQ,EAAE,kBAAAG,KAAK;AAAA,aAAIR,IAAI,GAAGQ,KAAX;AAAA,KAFnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAII,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,cAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKF,IAAI,KAAK,UAAT,GAAsB,KAAtB,GAA8B,KADnC,CAJJ,eAOI,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAPJ,CAJJ,eAaI,oBAAC,MAAD;AACI,IAAA,WAAW,EAAC,4CADhB;AAEI,IAAA,QAAQ,EAAE,kBAACE,KAAD,EAAOC,CAAP;AAAA,aAAaN,iBAAiB,CACpCH,IAAI,KAAK,cAAT,GAA0B;AACtBU,QAAAA,IAAI,EAAE,CADgB;AAEtBJ,QAAAA,IAAI,EAAJA,IAFsB;AAGtBK,QAAAA,YAAY,EAAEH,KAHQ;AAItBI,QAAAA,QAAQ,EAAE;AAJY,OAA1B,GAKI;AACAF,QAAAA,IAAI,EAAE,CADN;AAEAJ,QAAAA,IAAI,EAAJA,IAFA;AAGAK,QAAAA,YAAY,EAAE,EAHd;AAIAC,QAAAA,QAAQ,EAAEJ;AAJV,OANgC,CAA9B;AAAA,KAFd;AAgBI,IAAA,WAAW,MAhBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAbJ,CADJ,CADJ;AAoCH,CA3CD;;AA4CA,eAAed,UAAU,CAACD,OAAO,CAC7B,UAAAoB,KAAK;AAAA,SAAK,EAAL;AAAA,CADwB,EAI7B,UAAAC,QAAQ;AAAA,SAAK;AACTX,IAAAA,iBADS,6BACSY,IADT,EACc;AACnBD,MAAAA,QAAQ,CAACnB,QAAQ,CAACqB,gBAAT,CAA0BD,IAA1B,CAAD,CAAR;AACH;AAHQ,GAAL;AAAA,CAJqB,CAAP,CASxBd,WATwB,CAAD,CAAzB","sourcesContent":["import React, {useEffect, useState} from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport \"../static/style/search.scss\";\r\nimport { Input, Select } from 'antd';\r\nimport * as resource from \"../redux/actionCreators/resource\";\r\n\r\nconst InputGroup = Input.Group;\r\nconst { Option } = Select;\r\nconst { Search } = Input;\r\nlet flag = \"resourceName\";\r\nconst SearchInput = props => {\r\n    const { handleSearchValue, history } = props;\r\n    // console.log(history)\r\n    const [type, setType] = useState(props.data === \"material\" ? \"software\": \"material\")\r\n    useEffect(() => {\r\n        \r\n    }, [props.data])\r\n    return(\r\n        <div className=\"container\">\r\n            <InputGroup\r\n                className=\"search\"\r\n                compact\r\n            >\r\n                <Select\r\n                    defaultValue=\"resourceName\"\r\n                    onChange={value => flag = value }\r\n                >\r\n                    <Option value=\"resourceName\">\r\n                        {type === \"material\" ? \"资料名\" : \"软件名\"}\r\n                    </Option>\r\n                    <Option value=\"userName\">上传人</Option>\r\n                </Select>\r\n                <Search\r\n                    placeholder=\"请输入搜索信息\"\r\n                    onSearch={(value,e) => handleSearchValue(\r\n                        flag === \"resourceName\" ? {\r\n                            page: 1,\r\n                            type,\r\n                            resourceName: value,\r\n                            userName: \"\"\r\n                        } : {\r\n                            page: 1,\r\n                            type,\r\n                            resourceName: \"\",\r\n                            userName: value\r\n                        }\r\n                    )\r\n                    }\r\n                    enterButton\r\n                />\r\n            </InputGroup>\r\n        </div>\r\n    )\r\n};\r\nexport default withRouter(connect(\r\n    state => ({\r\n\r\n    }),\r\n    dispatch => ({\r\n        handleSearchValue(args){\r\n            dispatch(resource.fetchSearchValue(args));\r\n        }\r\n    })\r\n)(SearchInput));\r\n"]},"metadata":{},"sourceType":"module"}