{"ast":null,"code":"import \"antd/es/table/style/css\";\nimport _Table from \"antd/es/table\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\projects\\\\lab\\\\lab_2.0\\\\src\\\\components\\\\MySoftware.js\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport UpLoad from \"./UpLoad\";\nimport * as resource from \"../redux/actionCreators/resource\";\nimport \"../static/style/learningDatas.scss\";\n\nvar MySoftware = function MySoftware(props) {\n  var handleMySoftware = props.handleMySoftware,\n      userId = props.userId,\n      userName = props.userName,\n      total = props.total,\n      teacherSoftware = props.teacherSoftware,\n      handleDeleteSoftware = props.handleDeleteSoftware,\n      softwareTemp = props.softwareTemp,\n      time = props.time;\n  useEffect(function () {\n    handleMySoftware({\n      page: 1,\n      type: \"software\",\n      userName: userName\n    });\n  }, [softwareTemp, time]);\n  var columns = [{\n    title: '软件名称',\n    dataIndex: 'title',\n    key: 'title'\n  }, {\n    title: '大小',\n    dataIndex: 'size',\n    key: 'size'\n  }, {\n    title: '上传时间',\n    key: 'addTime',\n    dataIndex: 'addTime'\n  }, {\n    title: '软件处理',\n    key: '软件处理',\n    dataIndex: '软件处理',\n    render: function render(text, data) {\n      return /*#__PURE__*/React.createElement(\"a\", {\n        onClick: function onClick() {\n          handleDeleteSoftware({\n            resourceId: data.id,\n            type: \"software\",\n            userId: userId,\n            userName: userName\n          });\n        },\n        className: \"resDelete\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 17\n        }\n      }, \"\\u5220\\u9664\");\n    }\n  }];\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dataWrapper\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: '#FF0000'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }, \"\\u8BF7\\u53CA\\u65F6\\u6E05\\u7406\\u8FC7\\u671F\\u7684\\uFF0C\\u65E0\\u7528\\u7684\\u8F6F\\u4EF6\\uFF0C\\u4EE5\\u8282\\u7EA6\\u7A7A\\u95F4\"), /*#__PURE__*/React.createElement(UpLoad, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(_Table, {\n    rowKey: function rowKey(record) {\n      return record.id;\n    },\n    size: 'small',\n    columns: columns,\n    dataSource: teacherSoftware,\n    pagination: {\n      total: total,\n      pageSize: 10,\n      defaultCurrent: 1,\n      onChange: function onChange(e) {\n        handleMySoftware({\n          page: e,\n          type: 'software',\n          userName: userName\n        });\n      }\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"style\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }, \"\\n                        .ant-table-content {\\n                            border: 1px dashed #efefef !important;\\n                        }\\n                   \"));\n};\n\nexport default connect(function (state) {\n  return {\n    userName: state.getIn([\"userMana\", \"common\", \"name\"]),\n    teacherSoftware: state.getIn([\"resource\", \"resource\", \"teacherSoftware\"]),\n    total: state.getIn([\"resource\", \"resource\", \"mySoftwareTotal\"]),\n    userId: state.getIn([\"userMana\", \"common\", \"userId\"]),\n    softwareTemp: state.getIn([\"resource\", \"resource\", \"softwareTemp\"]),\n    time: state.getIn([\"resource\", \"resource\", \"time\"])\n  };\n}, function (dispatch) {\n  return {\n    handleMySoftware: function handleMySoftware(args) {\n      dispatch(resource.fetchTeacherSoftware(args));\n    },\n    handleDeleteSoftware: function handleDeleteSoftware(args) {\n      dispatch(resource.deleteSoftware(args));\n    }\n  };\n})(MySoftware);","map":{"version":3,"sources":["C:/projects/lab/lab_2.0/src/components/MySoftware.js"],"names":["React","useEffect","useState","connect","UpLoad","resource","MySoftware","props","handleMySoftware","userId","userName","total","teacherSoftware","handleDeleteSoftware","softwareTemp","time","page","type","columns","title","dataIndex","key","render","text","data","resourceId","id","color","record","pageSize","defaultCurrent","onChange","e","state","getIn","dispatch","args","fetchTeacherSoftware","deleteSoftware"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Table } from 'antd';\r\nimport UpLoad from \"./UpLoad\";\r\nimport * as resource from \"../redux/actionCreators/resource\";\r\nimport \"../static/style/learningDatas.scss\";\r\n\r\nconst MySoftware = props => {\r\n    const {\r\n        handleMySoftware,\r\n        userId,\r\n        userName,\r\n        total,\r\n        teacherSoftware,\r\n        handleDeleteSoftware,\r\n        softwareTemp,\r\n        time,\r\n    }= props;\r\n    useEffect(() => {\r\n        handleMySoftware({page:1, type:\"software\", userName: userName})\r\n    },[softwareTemp, time]);\r\n    const columns = [\r\n        {\r\n            title: '软件名称',\r\n            dataIndex: 'title',\r\n            key: 'title',\r\n        },\r\n        {\r\n            title: '大小',\r\n            dataIndex: 'size',\r\n            key: 'size',\r\n        },\r\n        {\r\n            title: '上传时间',\r\n            key: 'addTime',\r\n            dataIndex: 'addTime',\r\n        },\r\n        {\r\n            title: '软件处理',\r\n            key: '软件处理',\r\n            dataIndex: '软件处理',\r\n            render: (text,data) => (\r\n                <a\r\n                    onClick={\r\n                        () => {\r\n                            handleDeleteSoftware({\r\n                                resourceId: data.id,\r\n                                type: \"software\",\r\n                                userId: userId,\r\n                                userName: userName\r\n                            });\r\n                        }\r\n                    }\r\n                    className=\"resDelete\">\r\n                    删除\r\n                </a>\r\n            )\r\n        },\r\n    ];\r\n\r\n    return(\r\n        <>\r\n            <div className=\"dataWrapper\">\r\n                <p style={{color: '#FF0000'}}>请及时清理过期的，无用的软件，以节约空间</p>\r\n                <UpLoad/>\r\n                <Table\r\n                    rowKey={record => record.id}\r\n                    size={'small'}\r\n                    columns={columns}\r\n                    dataSource={teacherSoftware}\r\n                    pagination={{\r\n                        total,\r\n                        pageSize: 10,\r\n                        defaultCurrent: 1,\r\n                        onChange: e => {\r\n                            handleMySoftware({\r\n                                page: e,\r\n                                type: 'software',\r\n                                userName: userName\r\n                            })\r\n                        }\r\n                    }}\r\n                />\r\n            </div>\r\n            <style>\r\n                {\r\n                    `\r\n                        .ant-table-content {\r\n                            border: 1px dashed #efefef !important;\r\n                        }\r\n                   `\r\n                }\r\n            </style>\r\n        </>\r\n    )\r\n};\r\n\r\nexport default connect(\r\n    state => ({\r\n        userName: state.getIn([\"userMana\", \"common\", \"name\"]),\r\n        teacherSoftware: state.getIn([\"resource\", \"resource\", \"teacherSoftware\"]),\r\n        total: state.getIn([\"resource\", \"resource\", \"mySoftwareTotal\"]),\r\n        userId: state.getIn([\"userMana\", \"common\", \"userId\"]),\r\n        softwareTemp: state.getIn([\"resource\", \"resource\", \"softwareTemp\"]),\r\n        time: state.getIn([\"resource\", \"resource\", \"time\"]),\r\n    }),\r\n    dispatch => ({\r\n        handleMySoftware(args){\r\n            dispatch(resource.fetchTeacherSoftware(args));\r\n        },\r\n        handleDeleteSoftware(args) {\r\n            dispatch(resource.deleteSoftware(args))\r\n        }\r\n    })\r\n)(MySoftware);\r\n"]},"metadata":{},"sourceType":"module"}