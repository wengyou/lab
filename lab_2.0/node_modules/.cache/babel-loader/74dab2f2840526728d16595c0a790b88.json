{"ast":null,"code":"import \"antd/es/select/style/css\";\nimport _Select from \"antd/es/select\";\nimport \"antd/es/input/style/css\";\nimport _Input from \"antd/es/input\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\projects\\\\lab\\\\lab_2.0\\\\src\\\\components\\\\Search.js\";\n\nimport React, { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router-dom\";\nimport \"../static/style/search.scss\";\nimport * as resource from \"../redux/actionCreators/resource\";\nvar InputGroup = _Input.Group;\nvar Option = _Select.Option;\nvar Search = _Input.Search;\nvar flag = \"resourceName\";\n\nvar SearchInput = function SearchInput(props) {\n  var handleSearchValue = props.handleSearchValue,\n      type = props.type,\n      history = props.history;\n  console.log(history);\n  useEffect(function () {}, [history.lo]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(InputGroup, {\n    className: \"search\",\n    compact: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(_Select, {\n    defaultValue: \"resourceName\",\n    onChange: function onChange(value) {\n      return flag = value;\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Option, {\n    value: \"resourceName\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 21\n    }\n  }, type === \"material\" ? \"资料名\" : \"软件名\"), /*#__PURE__*/React.createElement(Option, {\n    value: \"userName\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 21\n    }\n  }, \"\\u4E0A\\u4F20\\u4EBA\")), /*#__PURE__*/React.createElement(Search, {\n    placeholder: \"\\u8BF7\\u8F93\\u5165\\u641C\\u7D22\\u4FE1\\u606F\",\n    onSearch: function onSearch(value, e) {\n      return handleSearchValue(flag === \"resourceName\" ? {\n        page: 1,\n        type: type,\n        resourceName: value,\n        userName: \"\"\n      } : {\n        page: 1,\n        type: type,\n        resourceName: \"\",\n        userName: value\n      });\n    },\n    enterButton: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 17\n    }\n  })));\n};\n\nexport default withRouter(connect(function (state) {\n  return {\n    type: state.getIn([\"resource\", \"resource\", \"type\"])\n  };\n}, function (dispatch) {\n  return {\n    handleSearchValue: function handleSearchValue(args) {\n      dispatch(resource.fetchSearchValue(args));\n    }\n  };\n})(SearchInput));","map":{"version":3,"sources":["C:/projects/lab/lab_2.0/src/components/Search.js"],"names":["React","useEffect","connect","withRouter","resource","InputGroup","Group","Option","Search","flag","SearchInput","props","handleSearchValue","type","history","console","log","lo","value","e","page","resourceName","userName","state","getIn","dispatch","args","fetchSearchValue"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAAQC,UAAR,QAAyB,kBAAzB;AACA,OAAO,6BAAP;AAEA,OAAO,KAAKC,QAAZ,MAA0B,kCAA1B;AAEA,IAAMC,UAAU,GAAG,OAAMC,KAAzB;IACQC,M,WAAAA,M;IACAC,M,UAAAA,M;AACR,IAAIC,IAAI,GAAG,cAAX;;AACA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAAAC,KAAK,EAAI;AAAA,MACjBC,iBADiB,GACoBD,KADpB,CACjBC,iBADiB;AAAA,MACEC,IADF,GACoBF,KADpB,CACEE,IADF;AAAA,MACQC,OADR,GACoBH,KADpB,CACQG,OADR;AAEzBC,EAAAA,OAAO,CAACC,GAAR,CAAYF,OAAZ;AACAb,EAAAA,SAAS,CAAC,YAAM,CAEf,CAFQ,EAEN,CAACa,OAAO,CAACG,EAAT,CAFM,CAAT;AAGA,sBACI;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,UAAD;AACI,IAAA,SAAS,EAAC,QADd;AAEI,IAAA,OAAO,MAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAII;AACI,IAAA,YAAY,EAAC,cADjB;AAEI,IAAA,QAAQ,EAAE,kBAAAC,KAAK;AAAA,aAAIT,IAAI,GAAGS,KAAX;AAAA,KAFnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAII,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,cAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKL,IAAI,KAAK,UAAT,GAAsB,KAAtB,GAA8B,KADnC,CAJJ,eAOI,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAPJ,CAJJ,eAaI,oBAAC,MAAD;AACI,IAAA,WAAW,EAAC,4CADhB;AAEI,IAAA,QAAQ,EAAE,kBAACK,KAAD,EAAOC,CAAP;AAAA,aAAaP,iBAAiB,CACpCH,IAAI,KAAK,cAAT,GAA0B;AACtBW,QAAAA,IAAI,EAAE,CADgB;AAEtBP,QAAAA,IAAI,EAAJA,IAFsB;AAGtBQ,QAAAA,YAAY,EAAEH,KAHQ;AAItBI,QAAAA,QAAQ,EAAE;AAJY,OAA1B,GAKI;AACAF,QAAAA,IAAI,EAAE,CADN;AAEAP,QAAAA,IAAI,EAAJA,IAFA;AAGAQ,QAAAA,YAAY,EAAE,EAHd;AAIAC,QAAAA,QAAQ,EAAEJ;AAJV,OANgC,CAA9B;AAAA,KAFd;AAgBI,IAAA,WAAW,MAhBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAbJ,CADJ,CADJ;AAoCH,CA1CD;;AA2CA,eAAef,UAAU,CAACD,OAAO,CAC7B,UAAAqB,KAAK;AAAA,SAAK;AACNV,IAAAA,IAAI,EAAEU,KAAK,CAACC,KAAN,CAAY,CAAC,UAAD,EAAY,UAAZ,EAAuB,MAAvB,CAAZ;AADA,GAAL;AAAA,CADwB,EAI7B,UAAAC,QAAQ;AAAA,SAAK;AACTb,IAAAA,iBADS,6BACSc,IADT,EACc;AACnBD,MAAAA,QAAQ,CAACrB,QAAQ,CAACuB,gBAAT,CAA0BD,IAA1B,CAAD,CAAR;AACH;AAHQ,GAAL;AAAA,CAJqB,CAAP,CASxBhB,WATwB,CAAD,CAAzB","sourcesContent":["import React, {useEffect} from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport \"../static/style/search.scss\";\r\nimport { Input, Select } from 'antd';\r\nimport * as resource from \"../redux/actionCreators/resource\";\r\n\r\nconst InputGroup = Input.Group;\r\nconst { Option } = Select;\r\nconst { Search } = Input;\r\nlet flag = \"resourceName\";\r\nconst SearchInput = props => {\r\n    const { handleSearchValue, type, history } = props;\r\n    console.log(history)\r\n    useEffect(() => {\r\n\r\n    }, [history.lo])\r\n    return(\r\n        <div className=\"container\">\r\n            <InputGroup\r\n                className=\"search\"\r\n                compact\r\n            >\r\n                <Select\r\n                    defaultValue=\"resourceName\"\r\n                    onChange={value => flag = value }\r\n                >\r\n                    <Option value=\"resourceName\">\r\n                        {type === \"material\" ? \"资料名\" : \"软件名\"}\r\n                    </Option>\r\n                    <Option value=\"userName\">上传人</Option>\r\n                </Select>\r\n                <Search\r\n                    placeholder=\"请输入搜索信息\"\r\n                    onSearch={(value,e) => handleSearchValue(\r\n                        flag === \"resourceName\" ? {\r\n                            page: 1,\r\n                            type,\r\n                            resourceName: value,\r\n                            userName: \"\"\r\n                        } : {\r\n                            page: 1,\r\n                            type,\r\n                            resourceName: \"\",\r\n                            userName: value\r\n                        }\r\n                    )\r\n                    }\r\n                    enterButton\r\n                />\r\n            </InputGroup>\r\n        </div>\r\n    )\r\n};\r\nexport default withRouter(connect(\r\n    state => ({\r\n        type: state.getIn([\"resource\",\"resource\",\"type\"]),\r\n    }),\r\n    dispatch => ({\r\n        handleSearchValue(args){\r\n            dispatch(resource.fetchSearchValue(args));\r\n        }\r\n    })\r\n)(SearchInput));\r\n"]},"metadata":{},"sourceType":"module"}