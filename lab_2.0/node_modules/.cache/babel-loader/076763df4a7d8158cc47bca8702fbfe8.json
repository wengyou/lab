{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\projects\\\\lab\\\\lab_2.0\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\n\nvar _marked = /*#__PURE__*/_regeneratorRuntime.mark(fetchResourceData),\n    _marked2 = /*#__PURE__*/_regeneratorRuntime.mark(deleteResource),\n    _marked3 = /*#__PURE__*/_regeneratorRuntime.mark(searchResource),\n    _marked4 = /*#__PURE__*/_regeneratorRuntime.mark(importResourceData),\n    _marked5 = /*#__PURE__*/_regeneratorRuntime.mark(searchSoftware),\n    _marked6 = /*#__PURE__*/_regeneratorRuntime.mark(fetchSoftwareData),\n    _marked7 = /*#__PURE__*/_regeneratorRuntime.mark(deleteSoftware),\n    _marked8 = /*#__PURE__*/_regeneratorRuntime.mark(importSoftwareData),\n    _marked9 = /*#__PURE__*/_regeneratorRuntime.mark(rootAdminSagas);\n\nimport { takeEvery, call, put } from \"redux-saga/effects\";\nimport Service from \"../../../lib/Service\";\nimport { FETCH_ADMIN_RESOURCE_DATA, FETCH_ADMIN_RESOURCE_DATA_SUCCESS, FETCH_ADMIN_SOFTWARE_DATA, FETCH_ADMIN_SOFTWARE_DATA_SUCCESS, SEARCH_RESOURCE_DATA, SEARCH_RESOURCE_DATA_SUCCESS, SEARCH_SOFTWARE_DATA, SEARCH_SOFTWARE_DATA_SUCCESS, DELETE_RESOURCE_DATA, DELETE_RESOURCE_DATA_SUCCESS, DELETE_SOFTWARE_DATA, DELETE_SOFTWARE_DATA_SUCCESS, IMPORT_RESOURCE, IMPORT_RESOURCE_SUCCESS, IMPORT_SOFTWARE, IMPORT_SOFTWARE_SUCCESS } from \"../../../constants/actionTypes\";\nimport { openNotification } from \"../../../utils/commonFunction\"; //获取学习资料\n\nfunction fetchResourceData(data) {\n  var _data$args, page, type, res;\n\n  return _regeneratorRuntime.wrap(function fetchResourceData$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _data$args = data.args, page = _data$args.page, type = _data$args.type;\n          _context.next = 4;\n          return call(Service.get, \"resource/queryResource?page=\".concat(page, \"&type=\").concat(type));\n\n        case 4:\n          res = _context.sent;\n          _context.t0 = res.data.error_code;\n          _context.next = _context.t0 === 0 ? 8 : _context.t0 === -1 ? 11 : _context.t0 === 2 ? 13 : 15;\n          break;\n\n        case 8:\n          _context.next = 10;\n          return put({\n            type: FETCH_ADMIN_RESOURCE_DATA_SUCCESS,\n            payload: res.data.data\n          });\n\n        case 10:\n          return _context.abrupt(\"break\", 16);\n\n        case 11:\n          openNotification(res.data.message);\n          return _context.abrupt(\"break\", 16);\n\n        case 13:\n          openNotification(res.data.message);\n          return _context.abrupt(\"break\", 16);\n\n        case 15:\n          return _context.abrupt(\"return\", 0);\n\n        case 16:\n          _context.next = 21;\n          break;\n\n        case 18:\n          _context.prev = 18;\n          _context.t1 = _context[\"catch\"](0);\n          console.log(_context.t1);\n\n        case 21:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked, null, [[0, 18]]);\n} //删除学习资料\n\n\nfunction deleteResource(args) {\n  var _args$args, list, type, userId, formData, resourceIdList, data, res;\n\n  return _regeneratorRuntime.wrap(function deleteResource$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          _args$args = args.args, list = _args$args.list, type = _args$args.type, userId = _args$args.userId;\n          formData = new FormData();\n          formData.append('resourceIdList', list);\n          resourceIdList = formData.get('resourceIdList');\n          data = {\n            resourceIdList: resourceIdList,\n            type: type,\n            userId: userId\n          };\n          _context2.next = 8;\n          return call(Service.post, \"resource/delete\", data);\n\n        case 8:\n          res = _context2.sent;\n          _context2.t0 = res.data.error_code;\n          _context2.next = _context2.t0 === 0 ? 12 : _context2.t0 === -1 ? 16 : _context2.t0 === 2 ? 18 : 20;\n          break;\n\n        case 12:\n          _context2.next = 14;\n          return put({\n            type: DELETE_RESOURCE_DATA_SUCCESS\n          });\n\n        case 14:\n          openNotification(res.data.message);\n          return _context2.abrupt(\"break\", 21);\n\n        case 16:\n          openNotification(res.data.data);\n          return _context2.abrupt(\"break\", 21);\n\n        case 18:\n          openNotification(res.data.message);\n          return _context2.abrupt(\"break\", 21);\n\n        case 20:\n          return _context2.abrupt(\"return\", 0);\n\n        case 21:\n          _context2.next = 26;\n          break;\n\n        case 23:\n          _context2.prev = 23;\n          _context2.t1 = _context2[\"catch\"](0);\n          console.log(_context2.t1);\n\n        case 26:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _marked2, null, [[0, 23]]);\n} //搜索学习资料\n\n\nfunction searchResource(args) {\n  var _args$args2, page, value, type, flag, url, res;\n\n  return _regeneratorRuntime.wrap(function searchResource$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          _args$args2 = args.args, page = _args$args2.page, value = _args$args2.value, type = _args$args2.type, flag = _args$args2.flag;\n\n          if (flag === \"resourceName\") {\n            url = \"resource/queryResource?page=\".concat(page, \"&resourceName=\").concat(value, \"&type=\").concat(type);\n          } else {\n            url = \"resource/queryResource?page=\".concat(page, \"&userName=\").concat(value, \"&type=\").concat(type);\n          }\n\n          _context3.next = 5;\n          return call(Service.get, url);\n\n        case 5:\n          res = _context3.sent;\n          _context3.t0 = res.data.error_code;\n          _context3.next = _context3.t0 === 0 ? 9 : _context3.t0 === -1 ? 12 : _context3.t0 === 2 ? 14 : 16;\n          break;\n\n        case 9:\n          _context3.next = 11;\n          return put({\n            type: SEARCH_RESOURCE_DATA_SUCCESS,\n            payload: res.data.data\n          });\n\n        case 11:\n          return _context3.abrupt(\"break\", 17);\n\n        case 12:\n          openNotification(res.data.message);\n          return _context3.abrupt(\"break\", 17);\n\n        case 14:\n          openNotification(res.data.message);\n          return _context3.abrupt(\"break\", 17);\n\n        case 16:\n          return _context3.abrupt(\"return\", 0);\n\n        case 17:\n          _context3.next = 22;\n          break;\n\n        case 19:\n          _context3.prev = 19;\n          _context3.t1 = _context3[\"catch\"](0);\n          console.log(_context3.t1);\n\n        case 22:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, _marked3, null, [[0, 19]]);\n} //导入学习资料\n\n\nfunction importResourceData(args) {\n  var _args$args3, type, userId, file, formData, res;\n\n  return _regeneratorRuntime.wrap(function importResourceData$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.prev = 0;\n          _args$args3 = args.args, type = _args$args3.type, userId = _args$args3.userId, file = _args$args3.file;\n          formData = new FormData();\n          formData.append(\"type\", type);\n          formData.append(\"userId\", userId);\n          formData.append(\"file\", file);\n          _context4.next = 8;\n          return call(Service.post, \"resource/upload\", formData);\n\n        case 8:\n          res = _context4.sent;\n          _context4.t0 = res.data.error_code;\n          _context4.next = _context4.t0 === 0 ? 12 : _context4.t0 === -1 ? 16 : _context4.t0 === 2 ? 18 : 20;\n          break;\n\n        case 12:\n          _context4.next = 14;\n          return put({\n            type: IMPORT_RESOURCE_SUCCESS,\n            payload: res.data.data\n          });\n\n        case 14:\n          openNotification(res.data.message);\n          return _context4.abrupt(\"break\", 21);\n\n        case 16:\n          openNotification(res.data.message);\n          return _context4.abrupt(\"break\", 21);\n\n        case 18:\n          openNotification(res.data.message);\n          return _context4.abrupt(\"break\", 21);\n\n        case 20:\n          return _context4.abrupt(\"return\", 0);\n\n        case 21:\n          _context4.next = 26;\n          break;\n\n        case 23:\n          _context4.prev = 23;\n          _context4.t1 = _context4[\"catch\"](0);\n          console.log(_context4.t1);\n\n        case 26:\n        case \"end\":\n          return _context4.stop();\n      }\n    }\n  }, _marked4, null, [[0, 23]]);\n} //搜索软件\n\n\nfunction searchSoftware(args) {\n  var _args$args4, page, value, type, flag, url, res;\n\n  return _regeneratorRuntime.wrap(function searchSoftware$(_context5) {\n    while (1) {\n      switch (_context5.prev = _context5.next) {\n        case 0:\n          _context5.prev = 0;\n          _args$args4 = args.args, page = _args$args4.page, value = _args$args4.value, type = _args$args4.type, flag = _args$args4.flag;\n\n          if (flag === \"softwareName\") {\n            url = \"resource/queryResource?page=\".concat(page, \"&resourceName=\").concat(value, \"&type=\").concat(type);\n          } else {\n            url = \"resource/queryResource?page=\".concat(page, \"&userName=\").concat(value, \"&type=\").concat(type);\n          }\n\n          _context5.next = 5;\n          return call(Service.get, url);\n\n        case 5:\n          res = _context5.sent;\n          _context5.t0 = res.data.error_code;\n          _context5.next = _context5.t0 === 0 ? 9 : _context5.t0 === -1 ? 12 : _context5.t0 === 2 ? 14 : 16;\n          break;\n\n        case 9:\n          _context5.next = 11;\n          return put({\n            type: SEARCH_SOFTWARE_DATA_SUCCESS,\n            payload: res.data.data\n          });\n\n        case 11:\n          return _context5.abrupt(\"break\", 17);\n\n        case 12:\n          openNotification(res.data.message);\n          return _context5.abrupt(\"break\", 17);\n\n        case 14:\n          openNotification(res.data.message);\n          return _context5.abrupt(\"break\", 17);\n\n        case 16:\n          return _context5.abrupt(\"return\", 0);\n\n        case 17:\n          _context5.next = 22;\n          break;\n\n        case 19:\n          _context5.prev = 19;\n          _context5.t1 = _context5[\"catch\"](0);\n          console.log(_context5.t1);\n\n        case 22:\n        case \"end\":\n          return _context5.stop();\n      }\n    }\n  }, _marked5, null, [[0, 19]]);\n} //获取软件\n\n\nfunction fetchSoftwareData(data) {\n  var _data$args2, page, type, res;\n\n  return _regeneratorRuntime.wrap(function fetchSoftwareData$(_context6) {\n    while (1) {\n      switch (_context6.prev = _context6.next) {\n        case 0:\n          _context6.prev = 0;\n          _data$args2 = data.args, page = _data$args2.page, type = _data$args2.type;\n          _context6.next = 4;\n          return call(Service.get, \"resource/queryResource?page=\".concat(page, \"&type=\").concat(type));\n\n        case 4:\n          res = _context6.sent;\n          _context6.t0 = res.data.error_code;\n          _context6.next = _context6.t0 === 0 ? 8 : _context6.t0 === -1 ? 11 : _context6.t0 === 2 ? 13 : 15;\n          break;\n\n        case 8:\n          _context6.next = 10;\n          return put({\n            type: FETCH_ADMIN_SOFTWARE_DATA_SUCCESS,\n            payload: res.data.data\n          });\n\n        case 10:\n          return _context6.abrupt(\"break\", 16);\n\n        case 11:\n          openNotification(res.data.message);\n          return _context6.abrupt(\"break\", 16);\n\n        case 13:\n          openNotification(res.data.message);\n          return _context6.abrupt(\"break\", 16);\n\n        case 15:\n          return _context6.abrupt(\"return\", 0);\n\n        case 16:\n          _context6.next = 21;\n          break;\n\n        case 18:\n          _context6.prev = 18;\n          _context6.t1 = _context6[\"catch\"](0);\n          console.log(_context6.t1);\n\n        case 21:\n        case \"end\":\n          return _context6.stop();\n      }\n    }\n  }, _marked6, null, [[0, 18]]);\n} //删除软件\n\n\nfunction deleteSoftware(args) {\n  var _args$args5, list, type, userId, formData, resourceIdList, data, res;\n\n  return _regeneratorRuntime.wrap(function deleteSoftware$(_context7) {\n    while (1) {\n      switch (_context7.prev = _context7.next) {\n        case 0:\n          _context7.prev = 0;\n          _args$args5 = args.args, list = _args$args5.list, type = _args$args5.type, userId = _args$args5.userId;\n          formData = new FormData();\n          formData.append('resourceIdList', list);\n          resourceIdList = formData.get('resourceIdList');\n          data = {\n            resourceIdList: resourceIdList,\n            type: type,\n            userId: userId\n          };\n          _context7.next = 8;\n          return call(Service.post, \"resource/delete\", data);\n\n        case 8:\n          res = _context7.sent;\n          _context7.t0 = res.data.error_code;\n          _context7.next = _context7.t0 === 0 ? 12 : _context7.t0 === -1 ? 16 : _context7.t0 === 2 ? 18 : 20;\n          break;\n\n        case 12:\n          _context7.next = 14;\n          return put({\n            type: DELETE_SOFTWARE_DATA_SUCCESS\n          });\n\n        case 14:\n          openNotification(res.data.message);\n          return _context7.abrupt(\"break\", 21);\n\n        case 16:\n          openNotification(res.data.data);\n          return _context7.abrupt(\"break\", 21);\n\n        case 18:\n          openNotification(res.data.message);\n          return _context7.abrupt(\"break\", 21);\n\n        case 20:\n          return _context7.abrupt(\"return\", 0);\n\n        case 21:\n          _context7.next = 26;\n          break;\n\n        case 23:\n          _context7.prev = 23;\n          _context7.t1 = _context7[\"catch\"](0);\n          console.log(_context7.t1);\n\n        case 26:\n        case \"end\":\n          return _context7.stop();\n      }\n    }\n  }, _marked7, null, [[0, 23]]);\n} //导入软件\n\n\nfunction importSoftwareData(args) {\n  var _args$args6, type, userId, file, formData, res;\n\n  return _regeneratorRuntime.wrap(function importSoftwareData$(_context8) {\n    while (1) {\n      switch (_context8.prev = _context8.next) {\n        case 0:\n          _context8.prev = 0;\n          _args$args6 = args.args, type = _args$args6.type, userId = _args$args6.userId, file = _args$args6.file;\n          formData = new FormData();\n          formData.append(\"type\", type);\n          formData.append(\"userId\", userId);\n          formData.append(\"file\", file);\n          _context8.next = 8;\n          return call(Service.post, \"resource/upload\", formData);\n\n        case 8:\n          res = _context8.sent;\n          _context8.t0 = res.data.error_code;\n          _context8.next = _context8.t0 === 0 ? 12 : _context8.t0 === -1 ? 16 : _context8.t0 === 2 ? 18 : 20;\n          break;\n\n        case 12:\n          _context8.next = 14;\n          return put({\n            type: IMPORT_SOFTWARE_SUCCESS,\n            payload: res.data.data\n          });\n\n        case 14:\n          openNotification(res.data.message);\n          return _context8.abrupt(\"break\", 21);\n\n        case 16:\n          openNotification(res.data.message);\n          return _context8.abrupt(\"break\", 21);\n\n        case 18:\n          openNotification(res.data.message);\n          return _context8.abrupt(\"break\", 21);\n\n        case 20:\n          return _context8.abrupt(\"return\", 0);\n\n        case 21:\n          _context8.next = 26;\n          break;\n\n        case 23:\n          _context8.prev = 23;\n          _context8.t1 = _context8[\"catch\"](0);\n          console.log(_context8.t1);\n\n        case 26:\n        case \"end\":\n          return _context8.stop();\n      }\n    }\n  }, _marked8, null, [[0, 23]]);\n}\n\nexport default function rootAdminSagas() {\n  return _regeneratorRuntime.wrap(function rootAdminSagas$(_context9) {\n    while (1) {\n      switch (_context9.prev = _context9.next) {\n        case 0:\n          _context9.next = 2;\n          return takeEvery(FETCH_ADMIN_RESOURCE_DATA, fetchResourceData);\n\n        case 2:\n          _context9.next = 4;\n          return takeEvery(FETCH_ADMIN_SOFTWARE_DATA, fetchSoftwareData);\n\n        case 4:\n          _context9.next = 6;\n          return takeEvery(SEARCH_RESOURCE_DATA, searchResource);\n\n        case 6:\n          _context9.next = 8;\n          return takeEvery(SEARCH_SOFTWARE_DATA, searchSoftware);\n\n        case 8:\n          _context9.next = 10;\n          return takeEvery(DELETE_RESOURCE_DATA, deleteResource);\n\n        case 10:\n          _context9.next = 12;\n          return takeEvery(DELETE_SOFTWARE_DATA, deleteSoftware);\n\n        case 12:\n          _context9.next = 14;\n          return takeEvery(IMPORT_RESOURCE, importResourceData);\n\n        case 14:\n          _context9.next = 16;\n          return takeEvery(IMPORT_SOFTWARE, importSoftwareData);\n\n        case 16:\n        case \"end\":\n          return _context9.stop();\n      }\n    }\n  }, _marked9);\n}","map":{"version":3,"sources":["C:/projects/lab/lab_2.0/src/redux/sagas/adminSagas/resourceManage.js"],"names":["fetchResourceData","deleteResource","searchResource","importResourceData","searchSoftware","fetchSoftwareData","deleteSoftware","importSoftwareData","rootAdminSagas","takeEvery","call","put","Service","FETCH_ADMIN_RESOURCE_DATA","FETCH_ADMIN_RESOURCE_DATA_SUCCESS","FETCH_ADMIN_SOFTWARE_DATA","FETCH_ADMIN_SOFTWARE_DATA_SUCCESS","SEARCH_RESOURCE_DATA","SEARCH_RESOURCE_DATA_SUCCESS","SEARCH_SOFTWARE_DATA","SEARCH_SOFTWARE_DATA_SUCCESS","DELETE_RESOURCE_DATA","DELETE_RESOURCE_DATA_SUCCESS","DELETE_SOFTWARE_DATA","DELETE_SOFTWARE_DATA_SUCCESS","IMPORT_RESOURCE","IMPORT_RESOURCE_SUCCESS","IMPORT_SOFTWARE","IMPORT_SOFTWARE_SUCCESS","openNotification","data","args","page","type","get","res","error_code","payload","message","console","log","list","userId","formData","FormData","append","resourceIdList","post","value","flag","url","file"],"mappings":"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","sourcesContent":["import { takeEvery, call, put } from \"redux-saga/effects\";\r\nimport Service from \"../../../lib/Service\";\r\nimport {\r\n    FETCH_ADMIN_RESOURCE_DATA,\r\n    FETCH_ADMIN_RESOURCE_DATA_SUCCESS,\r\n    FETCH_ADMIN_SOFTWARE_DATA,\r\n    FETCH_ADMIN_SOFTWARE_DATA_SUCCESS,\r\n    SEARCH_RESOURCE_DATA,\r\n    SEARCH_RESOURCE_DATA_SUCCESS,\r\n    SEARCH_SOFTWARE_DATA,\r\n    SEARCH_SOFTWARE_DATA_SUCCESS,\r\n    DELETE_RESOURCE_DATA,\r\n    DELETE_RESOURCE_DATA_SUCCESS,\r\n    DELETE_SOFTWARE_DATA,\r\n    DELETE_SOFTWARE_DATA_SUCCESS,\r\n    IMPORT_RESOURCE,\r\n    IMPORT_RESOURCE_SUCCESS,\r\n    IMPORT_SOFTWARE,\r\n    IMPORT_SOFTWARE_SUCCESS\r\n} from \"../../../constants/actionTypes\";\r\nimport {openNotification} from \"../../../utils/commonFunction\";\r\n\r\n//获取学习资料\r\nfunction *fetchResourceData(data) {\r\n    try {\r\n        const {page, type } = data.args;\r\n        const res = yield call(Service.get, `resource/queryResource?page=${page}&type=${type}`);\r\n        switch (res.data.error_code) {\r\n            case 0:\r\n                yield put({\r\n                    type: FETCH_ADMIN_RESOURCE_DATA_SUCCESS,\r\n                    payload: res.data.data\r\n                });\r\n                break;\r\n            case -1:\r\n                openNotification(res.data.message);\r\n                break;\r\n            case 2:\r\n                openNotification(res.data.message);\r\n                break;\r\n            default:\r\n                return 0;\r\n        }\r\n    }catch (e) {\r\n        console.log(e);\r\n    }\r\n}\r\n//删除学习资料\r\nfunction *deleteResource(args) {\r\n    try {\r\n        const {list, type, userId } = args.args;\r\n        let formData = new FormData();\r\n        formData.append('resourceIdList',list);\r\n        const resourceIdList = formData.get('resourceIdList');\r\n        const data = {resourceIdList, type, userId };\r\n        const res = yield call(Service.post, \"resource/delete\", data);\r\n        switch (res.data.error_code) {\r\n            case 0:\r\n                yield put({\r\n                    type: DELETE_RESOURCE_DATA_SUCCESS\r\n                });\r\n                openNotification(res.data.message);\r\n                break;\r\n            case -1:\r\n                openNotification(res.data.data);\r\n                break;\r\n            case 2:\r\n                openNotification(res.data.message);\r\n                break;\r\n            default:\r\n                return 0;\r\n        }\r\n    }catch (e) {\r\n        console.log(e);\r\n    }\r\n}\r\n//搜索学习资料\r\nfunction *searchResource(args) {\r\n    try {\r\n            const {page, value, type, flag } = args.args;\r\n            let url;\r\n            if (flag === \"resourceName\"){\r\n                url = `resource/queryResource?page=${page}&resourceName=${value}&type=${type}`;\r\n            } else {\r\n                url = `resource/queryResource?page=${page}&userName=${value}&type=${type}`;\r\n            }\r\n            const res = yield call(Service.get, url);\r\n            switch (res.data.error_code) {\r\n                case 0:\r\n                    yield put({\r\n                        type: SEARCH_RESOURCE_DATA_SUCCESS,\r\n                        payload: res.data.data\r\n                    });\r\n                    break;\r\n                case -1:\r\n                    openNotification(res.data.message);\r\n                    break;\r\n                case 2:\r\n                    openNotification(res.data.message);\r\n                    break;\r\n                default:\r\n                    return 0;\r\n            }\r\n    }catch (e) {\r\n        console.log(e);\r\n    }\r\n}\r\n//导入学习资料\r\nfunction *importResourceData(args) {\r\n    try {\r\n        const {type, userId, file} = args.args;\r\n        const formData = new FormData();\r\n        formData.append(\"type\", type);\r\n        formData.append(\"userId\", userId);\r\n        formData.append(\"file\", file);\r\n        const res = yield call(Service.post, \"resource/upload\", formData);\r\n        switch (res.data.error_code) {\r\n            case 0:\r\n                yield put({\r\n                    type: IMPORT_RESOURCE_SUCCESS,\r\n                    payload: res.data.data\r\n                });\r\n                openNotification(res.data.message);\r\n                break;\r\n            case -1:\r\n                openNotification(res.data.message);\r\n                break;\r\n            case 2:\r\n                openNotification(res.data.message);\r\n                break;\r\n            default:\r\n                return 0\r\n        }\r\n    }catch (e) {\r\n        console.log(e);\r\n    }\r\n}\r\n//搜索软件\r\nfunction *searchSoftware(args) {\r\n    try {\r\n        const {page, value, type, flag } = args.args;\r\n        let url;\r\n        if (flag === \"softwareName\"){\r\n            url = `resource/queryResource?page=${page}&resourceName=${value}&type=${type}`;\r\n        } else {\r\n            url = `resource/queryResource?page=${page}&userName=${value}&type=${type}`;\r\n        }\r\n        const res = yield call(Service.get, url);\r\n        switch (res.data.error_code) {\r\n            case 0:\r\n                yield put({\r\n                    type: SEARCH_SOFTWARE_DATA_SUCCESS,\r\n                    payload: res.data.data\r\n                });\r\n                break;\r\n            case -1:\r\n                openNotification(res.data.message);\r\n                break;\r\n            case 2:\r\n                openNotification(res.data.message);\r\n                break;\r\n            default:\r\n                return 0;\r\n        }\r\n    }catch (e) {\r\n        console.log(e);\r\n    }\r\n}\r\n//获取软件\r\nfunction *fetchSoftwareData(data) {\r\n    try {\r\n        const {page, type } = data.args;\r\n        const res = yield call(Service.get, `resource/queryResource?page=${page}&type=${type}`);\r\n        switch (res.data.error_code) {\r\n            case 0:\r\n                yield put({\r\n                    type: FETCH_ADMIN_SOFTWARE_DATA_SUCCESS,\r\n                    payload: res.data.data\r\n                });\r\n                break;\r\n            case -1:\r\n                openNotification(res.data.message);\r\n                break;\r\n            case 2:\r\n                openNotification(res.data.message);\r\n                break;\r\n            default:\r\n                return 0;\r\n        }\r\n    }catch (e) {\r\n        console.log(e);\r\n    }\r\n}\r\n//删除软件\r\nfunction *deleteSoftware(args) {\r\n    try {\r\n        const {list, type, userId } = args.args;\r\n        let formData = new FormData();\r\n        formData.append('resourceIdList',list);\r\n        const resourceIdList = formData.get('resourceIdList');\r\n        const data = {resourceIdList, type, userId };\r\n        const res = yield call(Service.post, \"resource/delete\", data);\r\n        switch (res.data.error_code) {\r\n            case 0:\r\n                yield put({\r\n                    type: DELETE_SOFTWARE_DATA_SUCCESS\r\n                });\r\n                openNotification(res.data.message);\r\n                break;\r\n            case -1:\r\n                openNotification(res.data.data);\r\n                break;\r\n            case 2:\r\n                openNotification(res.data.message);\r\n                break;\r\n            default:\r\n                return 0;\r\n        }\r\n    }catch (e) {\r\n        console.log(e);\r\n    }\r\n}\r\n//导入软件\r\nfunction *importSoftwareData(args) {\r\n    try {\r\n        const {type, userId, file} = args.args;\r\n        const formData = new FormData();\r\n        formData.append(\"type\", type);\r\n        formData.append(\"userId\", userId);\r\n        formData.append(\"file\", file);\r\n        const res = yield call(Service.post, \"resource/upload\", formData);\r\n        switch (res.data.error_code) {\r\n            case 0:\r\n                yield put({\r\n                    type: IMPORT_SOFTWARE_SUCCESS,\r\n                    payload: res.data.data\r\n                });\r\n                openNotification(res.data.message);\r\n                break;\r\n            case -1:\r\n                openNotification(res.data.message);\r\n                break;\r\n            case 2:\r\n                openNotification(res.data.message);\r\n                break;\r\n            default:\r\n                return 0\r\n        }\r\n    }catch (e) {\r\n        console.log(e);\r\n    }\r\n}\r\n\r\nexport default function *rootAdminSagas() {\r\n    yield takeEvery(FETCH_ADMIN_RESOURCE_DATA, fetchResourceData);\r\n    yield takeEvery(FETCH_ADMIN_SOFTWARE_DATA, fetchSoftwareData);\r\n    yield takeEvery(SEARCH_RESOURCE_DATA, searchResource);\r\n    yield takeEvery(SEARCH_SOFTWARE_DATA, searchSoftware);\r\n    yield takeEvery(DELETE_RESOURCE_DATA, deleteResource);\r\n    yield takeEvery(DELETE_SOFTWARE_DATA, deleteSoftware);\r\n    yield takeEvery(IMPORT_RESOURCE, importResourceData);\r\n    yield takeEvery(IMPORT_SOFTWARE, importSoftwareData);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}