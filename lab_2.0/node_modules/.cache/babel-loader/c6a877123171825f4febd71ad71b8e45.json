{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\projects\\\\lab\\\\lab_2.0\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\n\nvar _marked = /*#__PURE__*/_regeneratorRuntime.mark(fetchStudyRes),\n    _marked2 = /*#__PURE__*/_regeneratorRuntime.mark(fetchTeacherRes),\n    _marked3 = /*#__PURE__*/_regeneratorRuntime.mark(deleteStudyData),\n    _marked4 = /*#__PURE__*/_regeneratorRuntime.mark(downloadResource),\n    _marked5 = /*#__PURE__*/_regeneratorRuntime.mark(rootResourceSagas);\n\nimport { takeEvery, call, put } from \"redux-saga/effects\";\nimport { FETCH_STUDY_RES_SUCCESS, FETCH_STUDY_RESOURCE, FETCH_TEACHER_DATA, FETCH_TEACHER_DATA_SUCCESS, DELETE_DATA, DELETE_DATA_SUCCESS, DOWNLOAD_RESOURCE, DOWNLOAD_RESOURCE_SUCCESS } from \"../../../constants/actionTypes\";\nimport Service from \"../../../lib/Service\";\nimport { openNotification } from \"../../../utils/commonFunction\";\n\nfunction fetchStudyRes(data) {\n  var _data$args, page, type, resourceName, userName, url, res, resData;\n\n  return _regeneratorRuntime.wrap(function fetchStudyRes$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _data$args = data.args, page = _data$args.page, type = _data$args.type, resourceName = _data$args.resourceName, userName = _data$args.userName;\n\n          if (data.args.resourceName !== null) {\n            url = \"resource/queryResource?page=\".concat(page, \"&type=\").concat(type, \"&resourceName=\").concat(resourceName);\n          } else if (data.args.userName !== null) {\n            url = \"resource/queryResource?page=\".concat(page, \"&type=\").concat(type, \"&userName=\").concat(userName);\n          } else {\n            url = \"resource/queryResource?page=\".concat(page, \"&type=\").concat(type);\n          }\n\n          _context.next = 5;\n          return call(Service.get, url);\n\n        case 5:\n          res = _context.sent;\n          resData = Object.assign(res.data.data, {\n            type: type,\n            resourceName: resourceName,\n            userName: userName\n          });\n          _context.t0 = res.data.error_code;\n          _context.next = _context.t0 === 0 ? 10 : _context.t0 === -1 ? 13 : _context.t0 === 1 ? 15 : _context.t0 === 2 ? 17 : 19;\n          break;\n\n        case 10:\n          _context.next = 12;\n          return put({\n            type: FETCH_STUDY_RES_SUCCESS,\n            payload: resData\n          });\n\n        case 12:\n          return _context.abrupt(\"break\", 20);\n\n        case 13:\n          openNotification(res.data.message);\n          return _context.abrupt(\"break\", 20);\n\n        case 15:\n          openNotification(res.data.message);\n          return _context.abrupt(\"break\", 20);\n\n        case 17:\n          openNotification(res.data.message);\n          return _context.abrupt(\"break\", 20);\n\n        case 19:\n          return _context.abrupt(\"return\", 0);\n\n        case 20:\n          _context.next = 24;\n          break;\n\n        case 22:\n          _context.prev = 22;\n          _context.t1 = _context[\"catch\"](0);\n\n        case 24:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked, null, [[0, 22]]);\n}\n\nfunction fetchTeacherRes(data) {\n  var _data$args2, page, type, userName, url, res;\n\n  return _regeneratorRuntime.wrap(function fetchTeacherRes$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          _data$args2 = data.args, page = _data$args2.page, type = _data$args2.type, userName = _data$args2.userName;\n          url = \"resource/queryResource?page=\".concat(page, \"&type=\").concat(type, \"&userName=\").concat(userName);\n          _context2.next = 5;\n          return call(Service.get, url);\n\n        case 5:\n          res = _context2.sent;\n          _context2.t0 = res.data.error_code;\n          _context2.next = _context2.t0 === 0 ? 9 : _context2.t0 === -1 ? 12 : _context2.t0 === 1 ? 14 : _context2.t0 === 2 ? 16 : 18;\n          break;\n\n        case 9:\n          _context2.next = 11;\n          return put({\n            type: FETCH_TEACHER_DATA_SUCCESS,\n            payload: res.data.data\n          });\n\n        case 11:\n          return _context2.abrupt(\"break\", 19);\n\n        case 12:\n          openNotification(res.data.message);\n          return _context2.abrupt(\"break\", 19);\n\n        case 14:\n          openNotification(res.data.message);\n          return _context2.abrupt(\"break\", 19);\n\n        case 16:\n          openNotification(res.data.message);\n          return _context2.abrupt(\"break\", 19);\n\n        case 18:\n          return _context2.abrupt(\"return\", 0);\n\n        case 19:\n          _context2.next = 24;\n          break;\n\n        case 21:\n          _context2.prev = 21;\n          _context2.t1 = _context2[\"catch\"](0);\n          console.log(_context2.t1);\n\n        case 24:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _marked2, null, [[0, 21]]);\n}\n\nfunction deleteStudyData(args) {\n  var _args$args, resourceId, type, userId, formData, resourceIdList, data, res;\n\n  return _regeneratorRuntime.wrap(function deleteStudyData$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          _args$args = args.args, resourceId = _args$args.resourceId, type = _args$args.type, userId = _args$args.userId;\n          formData = new FormData();\n          formData.append('resourceIdList', resourceId);\n          resourceIdList = formData.get('resourceIdList');\n          data = {\n            resourceIdList: resourceIdList,\n            type: type,\n            userId: userId\n          };\n          _context3.next = 8;\n          return call(Service.post, \"resource/delete\", data);\n\n        case 8:\n          res = _context3.sent;\n          _context3.t0 = res.data.error_code;\n          _context3.next = _context3.t0 === 0 ? 12 : _context3.t0 === -1 ? 16 : _context3.t0 === 1 ? 18 : _context3.t0 === 2 ? 20 : 22;\n          break;\n\n        case 12:\n          _context3.next = 14;\n          return put({\n            type: DELETE_DATA_SUCCESS\n          });\n\n        case 14:\n          openNotification(res.data.message);\n          return _context3.abrupt(\"break\", 23);\n\n        case 16:\n          openNotification(res.data.message);\n          return _context3.abrupt(\"break\", 23);\n\n        case 18:\n          openNotification(res.data.message);\n          return _context3.abrupt(\"break\", 23);\n\n        case 20:\n          openNotification(res.data.message);\n          return _context3.abrupt(\"break\", 23);\n\n        case 22:\n          openNotification(\"删除失败\");\n\n        case 23:\n          _context3.next = 28;\n          break;\n\n        case 25:\n          _context3.prev = 25;\n          _context3.t1 = _context3[\"catch\"](0);\n          console.log(_context3.t1);\n\n        case 28:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, _marked3, null, [[0, 25]]);\n}\n\nfunction downloadResource(args) {\n  var _args$args2, id, type, data, res;\n\n  return _regeneratorRuntime.wrap(function downloadResource$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          _args$args2 = args.args, id = _args$args2.id, type = _args$args2.type;\n          data = {\n            id: id,\n            type: type\n          };\n          _context4.next = 4;\n          return call(Service.post, \"resource/download\", data);\n\n        case 4:\n          res = _context4.sent;\n          _context4.t0 = res.data.error_code;\n          _context4.next = _context4.t0 === 0 ? 8 : _context4.t0 === -1 ? 11 : _context4.t0 === 1 ? 13 : _context4.t0 === 2 ? 15 : 17;\n          break;\n\n        case 8:\n          _context4.next = 10;\n          return put({\n            type: DOWNLOAD_RESOURCE_SUCCESS\n          });\n\n        case 10:\n          return _context4.abrupt(\"break\", 18);\n\n        case 11:\n          openNotification(res.data.message);\n          return _context4.abrupt(\"break\", 18);\n\n        case 13:\n          openNotification(res.data.message);\n          return _context4.abrupt(\"break\", 18);\n\n        case 15:\n          openNotification(res.data.message);\n          return _context4.abrupt(\"break\", 18);\n\n        case 17:\n          return _context4.abrupt(\"return\", 0);\n\n        case 18:\n        case \"end\":\n          return _context4.stop();\n      }\n    }\n  }, _marked4);\n}\n\nexport default function rootResourceSagas() {\n  return _regeneratorRuntime.wrap(function rootResourceSagas$(_context5) {\n    while (1) {\n      switch (_context5.prev = _context5.next) {\n        case 0:\n          _context5.next = 2;\n          return takeEvery(FETCH_STUDY_RESOURCE, fetchStudyRes);\n\n        case 2:\n          _context5.next = 4;\n          return takeEvery(FETCH_TEACHER_DATA, fetchTeacherRes);\n\n        case 4:\n          _context5.next = 6;\n          return takeEvery(DELETE_DATA, deleteStudyData);\n\n        case 6:\n          _context5.next = 8;\n          return takeEvery(DOWNLOAD_RESOURCE, downloadResource);\n\n        case 8:\n        case \"end\":\n          return _context5.stop();\n      }\n    }\n  }, _marked5);\n}","map":{"version":3,"sources":["C:/projects/lab/lab_2.0/src/redux/sagas/resourceSagas/studyResource.js"],"names":["fetchStudyRes","fetchTeacherRes","deleteStudyData","downloadResource","rootResourceSagas","takeEvery","call","put","FETCH_STUDY_RES_SUCCESS","FETCH_STUDY_RESOURCE","FETCH_TEACHER_DATA","FETCH_TEACHER_DATA_SUCCESS","DELETE_DATA","DELETE_DATA_SUCCESS","DOWNLOAD_RESOURCE","DOWNLOAD_RESOURCE_SUCCESS","Service","openNotification","data","args","page","type","resourceName","userName","url","get","res","resData","Object","assign","error_code","payload","message","console","log","resourceId","userId","formData","FormData","append","resourceIdList","post","id"],"mappings":"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","sourcesContent":["import { takeEvery, call, put} from \"redux-saga/effects\";\r\nimport {\r\n    FETCH_STUDY_RES_SUCCESS,\r\n    FETCH_STUDY_RESOURCE,\r\n    FETCH_TEACHER_DATA,\r\n    FETCH_TEACHER_DATA_SUCCESS,\r\n    DELETE_DATA,\r\n    DELETE_DATA_SUCCESS,\r\n    DOWNLOAD_RESOURCE,\r\n    DOWNLOAD_RESOURCE_SUCCESS\r\n} from \"../../../constants/actionTypes\";\r\nimport Service from \"../../../lib/Service\";\r\nimport { openNotification } from \"../../../utils/commonFunction\";\r\n\r\nfunction *fetchStudyRes(data) {\r\n    try {\r\n        const {page, type, resourceName, userName} = data.args;\r\n        let url;\r\n        if (data.args.resourceName !== null) {\r\n            url = `resource/queryResource?page=${page}&type=${type}&resourceName=${resourceName}`;\r\n        } else if (data.args.userName !== null) {\r\n            url = `resource/queryResource?page=${page}&type=${type}&userName=${userName}`;\r\n        } else {\r\n            url = `resource/queryResource?page=${page}&type=${type}`;\r\n        }\r\n        const res = yield call(Service.get, url);\r\n        const resData = Object.assign(res.data.data, {type,resourceName,userName});\r\n        switch (res.data.error_code) {\r\n            case 0:\r\n                yield put({\r\n                    type: FETCH_STUDY_RES_SUCCESS,\r\n                    payload: resData,\r\n                });\r\n                break;\r\n            case -1:\r\n                openNotification(res.data.message);\r\n                break;\r\n            case 1:\r\n                openNotification(res.data.message);\r\n                break;\r\n            case 2:\r\n                openNotification(res.data.message);\r\n                break;\r\n            default:\r\n                return 0;\r\n        }\r\n    } catch (e) {\r\n\r\n    }\r\n}\r\n\r\nfunction *fetchTeacherRes(data) {\r\n    try{\r\n        const {page, type, userName} = data.args;\r\n        let url = `resource/queryResource?page=${page}&type=${type}&userName=${userName}`;\r\n        const res = yield call(Service.get, url);\r\n        switch (res.data.error_code) {\r\n            case 0:\r\n                yield put({\r\n                    type: FETCH_TEACHER_DATA_SUCCESS,\r\n                    payload: res.data.data\r\n                });\r\n                break;\r\n            case -1:\r\n                openNotification(res.data.message);\r\n                break;\r\n            case 1:\r\n                openNotification(res.data.message);\r\n                break;\r\n            case 2:\r\n                openNotification(res.data.message);\r\n                break;\r\n            default:\r\n                return 0;\r\n        }\r\n    } catch (e) {\r\n        console.log(e)\r\n    }\r\n\r\n}\r\n\r\nfunction *deleteStudyData(args) {\r\n    try{\r\n        const {resourceId, type, userId} = args.args;\r\n        let formData = new FormData();\r\n        formData.append('resourceIdList',resourceId);\r\n        const resourceIdList = formData.get('resourceIdList');\r\n        const data = {resourceIdList, type, userId};\r\n        const res = yield call(Service.post, \"resource/delete\", data);\r\n        switch (res.data.error_code) {\r\n            case 0:\r\n                yield put({\r\n                    type: DELETE_DATA_SUCCESS,\r\n                });\r\n                openNotification(res.data.message);\r\n                break;\r\n            case -1:\r\n                openNotification(res.data.message);\r\n                break;\r\n            case 1:\r\n                openNotification(res.data.message);\r\n                break;\r\n            case 2:\r\n                openNotification(res.data.message);\r\n                break;\r\n            default:\r\n                openNotification(\"删除失败\");\r\n        }\r\n    }catch (e) {\r\n        console.log(e);\r\n    }\r\n}\r\n\r\nfunction *downloadResource(args) {\r\n    const {id, type } = args.args;\r\n    const data = {id, type };\r\n    const res = yield call(Service.post, \"resource/download\", data);\r\n    switch (res.data.error_code) {\r\n        case 0:\r\n            yield put({\r\n                type: DOWNLOAD_RESOURCE_SUCCESS\r\n            });\r\n            break;\r\n        case -1:\r\n            openNotification(res.data.message);\r\n            break;\r\n        case 1:\r\n            openNotification(res.data.message);\r\n            break;\r\n        case 2:\r\n            openNotification(res.data.message);\r\n            break;\r\n        default:\r\n            return 0;\r\n    }\r\n}\r\n\r\nexport default function *rootResourceSagas() {\r\n    yield takeEvery(FETCH_STUDY_RESOURCE, fetchStudyRes);\r\n    yield takeEvery(FETCH_TEACHER_DATA, fetchTeacherRes);\r\n    yield takeEvery(DELETE_DATA, deleteStudyData);\r\n    yield takeEvery(DOWNLOAD_RESOURCE, downloadResource);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}