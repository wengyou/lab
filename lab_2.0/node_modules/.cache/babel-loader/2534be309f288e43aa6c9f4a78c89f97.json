{"ast":null,"code":"import \"antd/es/upload/style/css\";\nimport _Upload from \"antd/es/upload\";\nimport \"antd/es/message/style/css\";\nimport _message from \"antd/es/message\";\nimport \"antd/es/table/style/css\";\nimport _Table from \"antd/es/table\";\nimport \"antd/es/button/style/css\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/icon/style/css\";\nimport _Icon from \"antd/es/icon\";\nimport _toConsumableArray from \"C:\\\\projects\\\\lab\\\\lab_2.0\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"C:\\\\projects\\\\lab\\\\lab_2.0\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport \"antd/es/input/style/css\";\nimport _Input from \"antd/es/input\";\nimport \"antd/es/select/style/css\";\nimport _Select from \"antd/es/select\";\nimport \"antd/es/modal/style/css\";\nimport _Modal from \"antd/es/modal\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\projects\\\\lab\\\\lab_2.0\\\\src\\\\components\\\\Administrator\\\\LabCourse.js\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport * as admin from \"../../redux/actionCreators/admin\";\nvar confirm = _Modal.confirm;\nvar Option = _Select.Option;\nvar Search = _Input.Search;\nvar Reg = /^[\\s\\S]*.*[^\\s][\\s\\S]*$/;\nvar numberReg = /[a-zA-Z0-9]{6,8}/;\n\nvar LabCourse = function LabCourse(props) {\n  var labCourses = props.labCourses,\n      labCourseTotal = props.labCourseTotal,\n      addCourseFlag = props.addCourseFlag,\n      deleteCourseFlag = props.deleteCourseFlag,\n      importCourseFlag = props.importCourseFlag,\n      userId = props.userId,\n      handleQueryLabCourse = props.handleQueryLabCourse,\n      handleAddlabCourse = props.handleAddlabCourse,\n      handleDeletelabCourse = props.handleDeletelabCourse,\n      handleImportlabCourse = props.handleImportlabCourse;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      showAdd = _useState2[0],\n      setShowAdd = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      showImport = _useState4[0],\n      setShowImport = _useState4[1];\n\n  var _useState5 = useState(),\n      _useState6 = _slicedToArray(_useState5, 2),\n      courseName = _useState6[0],\n      setCourseName = _useState6[1];\n\n  var _useState7 = useState(),\n      _useState8 = _slicedToArray(_useState7, 2),\n      courseNumber = _useState8[0],\n      setCourseNumber = _useState8[1];\n\n  var _useState9 = useState([]),\n      _useState10 = _slicedToArray(_useState9, 2),\n      selected = _useState10[0],\n      setSelected = _useState10[1];\n\n  var _useState11 = useState(true),\n      _useState12 = _slicedToArray(_useState11, 2),\n      deleteBtn = _useState12[0],\n      setDeleteBtn = _useState12[1];\n\n  var _useState13 = useState(false),\n      _useState14 = _slicedToArray(_useState13, 2),\n      uploadBtn = _useState14[0],\n      setUploadBtn = _useState14[1];\n\n  var _useState15 = useState([]),\n      _useState16 = _slicedToArray(_useState15, 2),\n      fileList = _useState16[0],\n      setFileList = _useState16[1];\n\n  var _useState17 = useState(1),\n      _useState18 = _slicedToArray(_useState17, 2),\n      presentPage = _useState18[0],\n      setPresentPage = _useState18[1];\n\n  useEffect(function () {\n    if (Math.ceil(labCourseTotal / 10) > presentPage) {\n      handleQueryLabCourse({\n        page: presentPage,\n        userId: userId\n      });\n    } else if (presentPage > 1) {\n      handleQueryLabCourse({\n        page: presentPage - 1,\n        userId: userId\n      });\n    }\n  }, [deleteCourseFlag]);\n  useEffect(function () {\n    handleQueryLabCourse({\n      page: 1,\n      userId: userId\n    });\n    setShowAdd(false);\n    setPresentPage(1);\n  }, [addCourseFlag]);\n  useEffect(function () {\n    setShowImport(false);\n    handleQueryLabCourse({\n      page: 1,\n      userId: userId\n    });\n  }, [importCourseFlag]);\n  var columns = [{\n    title: \"课程名\",\n    dataIndex: \"courseName\",\n    key: \"courseName\"\n  }, {\n    title: \"课程编号\",\n    dataIndex: \"courseNumber\",\n    key: \"courseNumber\"\n  }, {\n    title: \"发布人\",\n    dataIndex: \"userId\",\n    key: \"userId\"\n  }, {\n    title: \"发布时间\",\n    dataIndex: \"addTime\",\n    key: \"addTime\"\n  }];\n\n  var dataSource = _toConsumableArray(labCourses);\n\n  var uploadProps = {\n    beforeUpload: function beforeUpload(file) {\n      fileList.push(file);\n      fileList.length === 1 ? setUploadBtn(true) : setUploadBtn(false);\n      return false;\n    },\n    onRemove: function onRemove(file) {\n      var index = fileList.indexOf(file.originFileObj);\n      fileList.splice(index, 1);\n      fileList.length === 1 ? setUploadBtn(true) : setUploadBtn(false);\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      margin: \"0.625rem 0.625rem\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(_Button, {\n    style: {\n      margin: \" 0 0.625rem\"\n    },\n    onClick: function onClick() {\n      return setShowAdd(true);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(_Icon, {\n    type: \"plus\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 21\n    }\n  }), \"\\u6DFB\\u52A0\\u8BFE\\u7A0B\"), /*#__PURE__*/React.createElement(_Button, {\n    style: {\n      marginRight: \"0.625rem\"\n    },\n    disabled: deleteBtn,\n    onClick: function onClick() {\n      return confirm({\n        title: '确认删除吗?',\n        onOk: function onOk() {\n          handleDeletelabCourse({\n            courseIdList: selected\n          });\n          setSelected([]);\n          setDeleteBtn(true);\n        },\n        onCancel: function onCancel() {}\n      });\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(_Icon, {\n    type: \"delete\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 21\n    }\n  }), \"\\u5220\\u9664\\u8BFE\\u7A0B\"), /*#__PURE__*/React.createElement(_Button, {\n    style: {\n      marginRight: \"0.625rem\"\n    },\n    onClick: function onClick() {\n      setShowImport(true);\n      setUploadBtn(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(_Icon, {\n    type: \"plus-circle\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 21\n    }\n  }), \"\\u6279\\u91CF\\u5BFC\\u5165\"), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      flexWrap: \"nowrap\",\n      width: \"20rem\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(_Select, {\n    defaultValue: \"courseName\",\n    style: {\n      width: \"5.625rem\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Option, {\n    value: \"courseName\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 25\n    }\n  }, \"\\u8BFE\\u7A0B\\u540D\")), /*#__PURE__*/React.createElement(Search, {\n    placeholder: \"\\u8BF7\\u8F93\\u5165\\u641C\\u7D22\\u5185\\u5BB9\",\n    onSearch: function onSearch(e) {\n      Reg.test(e) ? handleQueryLabCourse({\n        page: 1,\n        userId: userId,\n        courseName: e\n      }) : handleQueryLabCourse({\n        page: 1,\n        userId: userId,\n        courseName: \"\"\n      });\n      setPresentPage(1);\n    },\n    enterButton: true,\n    style: {\n      width: 200\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(_Table, {\n    rowKey: function rowKey(e) {\n      return e.id;\n    },\n    columns: columns,\n    dataSource: dataSource,\n    pagination: {\n      total: labCourseTotal,\n      current: presentPage,\n      onChange: function onChange(e) {\n        handleQueryLabCourse({\n          page: e,\n          userId: userId\n        });\n        setPresentPage(e);\n        setSelected([]);\n      }\n    },\n    rowSelection: {\n      selectedRowKeys: selected,\n      onChange: function onChange(selectedRowKeys, selectedRows) {\n        setSelected(selectedRowKeys);\n        selectedRowKeys.length > 0 ? setDeleteBtn(false) : setDeleteBtn(true);\n      }\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(_Modal, {\n    title: \"\\u6DFB\\u52A0\\u8BFE\\u7A0B\",\n    okText: \"\\u6DFB\\u52A0\",\n    cancelText: \"\\u53D6\\u6D88\",\n    destroyOnClose: true,\n    visible: showAdd,\n    onCancel: function onCancel() {\n      return setShowAdd(false);\n    },\n    onOk: function onOk() {\n      if (courseNumber) {\n        Reg.test(courseName) && courseName.length > 1 && numberReg.test(courseNumber) ? handleAddlabCourse({\n          courseName: courseName,\n          courseNumber: courseNumber,\n          userId: userId\n        }) : _message.error(\"非法输入！\");\n        setCourseNumber(\"\");\n        setCourseName(\"\");\n      }\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      alignItems: \"center\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 25\n    }\n  }, \"\\u8BFE\\u7A0B\\u540D : \"), /*#__PURE__*/React.createElement(_Input, {\n    placeholder: \"输入长度在2-30位\",\n    style: {\n      width: \"70%\",\n      marginLeft: \"2.1875rem\"\n    },\n    value: courseName,\n    onChange: function onChange(e) {\n      return setCourseName(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      alignItems: \"center\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 25\n    }\n  }, \"\\u8BFE\\u7A0B\\u7F16\\u53F7 : \"), /*#__PURE__*/React.createElement(_Input, {\n    style: {\n      width: \"70%\",\n      margin: \"1.25rem\"\n    },\n    placeholder: \"输入长度在6-8位\",\n    value: courseNumber,\n    onChange: function onChange(e) {\n      return setCourseNumber(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 25\n    }\n  })))), /*#__PURE__*/React.createElement(_Modal, {\n    destroyOnClose: true,\n    title: \"批量导入课程\",\n    visible: showImport,\n    okText: \"\\u5BFC\\u5165\",\n    cancelText: \"\\u53D6\\u6D88\",\n    onCancel: function onCancel() {\n      setShowImport(false);\n      setFileList([]);\n    },\n    onOk: function onOk() {\n      var name = fileList[0].name;\n\n      if (fileList.length !== 1) {\n        _message.error(\"请选择文件！\");\n      } else if (name.substring(name.indexOf(\".\") + 1) === \"xlsx\" || name.substring(name.indexOf(\".\") + 1) === \"xls\") {\n        _message.loading(\"导入中\");\n\n        handleImportlabCourse({\n          userId: userId,\n          file: fileList\n        });\n        setFileList([]);\n      } else {\n        _message.error(\"文件格式错误！\");\n      }\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(_Upload, Object.assign({}, uploadProps, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(_Button, {\n    disabled: uploadBtn,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(_Icon, {\n    type: \"upload\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 25\n    }\n  }), \"\\u9009\\u62E9\\u6587\\u4EF6\"))));\n};\n\nexport default connect(function (state) {\n  return {\n    userId: state.getIn([\"userMana\", \"common\", \"userId\"]),\n    labCourses: state.getIn([\"admin\", \"labCourse\", \"labCourses\"]),\n    labCourseTotal: state.getIn([\"admin\", \"labCourse\", \"labCourseTotal\"]),\n    addCourseFlag: state.getIn([\"admin\", \"labCourse\", \"addCourseFlag\"]),\n    deleteCourseFlag: state.getIn([\"admin\", \"labCourse\", \"deleteCourseFlag\"]),\n    importCourseFlag: state.getIn([\"admin\", \"labCourse\", \"importCourseFlag\"])\n  };\n}, function (dispatch) {\n  return {\n    handleQueryLabCourse: function handleQueryLabCourse(args) {\n      dispatch(admin.adminQueryLabCourse(args));\n    },\n    handleAddlabCourse: function handleAddlabCourse(args) {\n      dispatch(admin.addLabCourse(args));\n    },\n    handleDeletelabCourse: function handleDeletelabCourse(args) {\n      dispatch(admin.deleteLabCourse(args));\n    },\n    handleImportlabCourse: function handleImportlabCourse(args) {\n      dispatch(admin.importLabCourse(args));\n    }\n  };\n})(LabCourse);","map":{"version":3,"sources":["C:/projects/lab/lab_2.0/src/components/Administrator/LabCourse.js"],"names":["React","useEffect","useState","connect","admin","confirm","Option","Search","Reg","numberReg","LabCourse","props","labCourses","labCourseTotal","addCourseFlag","deleteCourseFlag","importCourseFlag","userId","handleQueryLabCourse","handleAddlabCourse","handleDeletelabCourse","handleImportlabCourse","showAdd","setShowAdd","showImport","setShowImport","courseName","setCourseName","courseNumber","setCourseNumber","selected","setSelected","deleteBtn","setDeleteBtn","uploadBtn","setUploadBtn","fileList","setFileList","presentPage","setPresentPage","Math","ceil","page","columns","title","dataIndex","key","dataSource","uploadProps","beforeUpload","file","push","length","onRemove","index","indexOf","originFileObj","splice","margin","display","marginRight","onOk","courseIdList","onCancel","flexWrap","width","e","test","id","total","current","onChange","selectedRowKeys","selectedRows","error","alignItems","marginLeft","target","value","name","substring","loading","state","getIn","dispatch","args","adminQueryLabCourse","addLabCourse","deleteLabCourse","importLabCourse"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {Input, Table, Button, Icon, Modal, message, Upload, Select} from \"antd\";\r\nimport * as admin from \"../../redux/actionCreators/admin\";\r\nconst { confirm } = Modal;\r\nconst { Option } = Select;\r\nconst { Search } = Input;\r\nconst Reg = /^[\\s\\S]*.*[^\\s][\\s\\S]*$/;\r\nconst numberReg = /[a-zA-Z0-9]{6,8}/;\r\n\r\nconst LabCourse = props => {\r\n    const {labCourses, labCourseTotal,addCourseFlag, deleteCourseFlag,importCourseFlag, userId, handleQueryLabCourse, handleAddlabCourse, handleDeletelabCourse, handleImportlabCourse} = props;\r\n    const [showAdd, setShowAdd] = useState(false);\r\n    const [showImport, setShowImport] = useState(false);\r\n    const [courseName, setCourseName] = useState();\r\n    const [courseNumber, setCourseNumber] = useState();\r\n    const [selected, setSelected] = useState([]);\r\n    const [deleteBtn, setDeleteBtn] = useState(true);\r\n    const [uploadBtn, setUploadBtn] = useState(false);\r\n    const [fileList, setFileList] = useState([]);\r\n    const [presentPage, setPresentPage] = useState(1);\r\n    useEffect(()=>{\r\n        if(Math.ceil(labCourseTotal / 10) > presentPage){\r\n            handleQueryLabCourse({ page: presentPage, userId: userId,  })\r\n        } else if(presentPage > 1) {\r\n            handleQueryLabCourse({ page: presentPage-1, userId: userId,  });\r\n        }\r\n    },[deleteCourseFlag]);\r\n    useEffect(()=>{\r\n        handleQueryLabCourse({ page: 1, userId: userId,  });\r\n        setShowAdd(false);\r\n        setPresentPage(1);\r\n    },[addCourseFlag]);\r\n    useEffect(()=>{\r\n        setShowImport(false);\r\n        handleQueryLabCourse({page: 1, userId: userId})\r\n    }, [importCourseFlag]);\r\n\r\n    const columns = [\r\n        { title: \"课程名\", dataIndex: \"courseName\", key: \"courseName\"},\r\n        { title: \"课程编号\", dataIndex: \"courseNumber\", key: \"courseNumber\"},\r\n        { title: \"发布人\", dataIndex: \"userId\", key: \"userId\"},\r\n        { title: \"发布时间\", dataIndex: \"addTime\", key: \"addTime\"},\r\n    ];\r\n    const dataSource = [...labCourses];\r\n    const uploadProps = {\r\n        beforeUpload:\r\n            file => {\r\n                fileList.push(file);\r\n                fileList.length === 1 ? setUploadBtn(true) : setUploadBtn(false);\r\n                return false\r\n            },\r\n        onRemove:\r\n            file=>{\r\n                const index = fileList.indexOf(file.originFileObj);\r\n                fileList.splice(index, 1);\r\n                fileList.length === 1 ? setUploadBtn(true) : setUploadBtn(false);\r\n            }\r\n    };\r\n    return (\r\n        <div\r\n            style={{ margin: \"0.625rem 0.625rem\" }}\r\n        >\r\n            <div\r\n                style={{ display: \"flex\", }}\r\n            >\r\n                <Button\r\n                    style={{margin: \" 0 0.625rem\"}}\r\n                    onClick = {()=>(setShowAdd(true))}\r\n                >\r\n                    <Icon type={\"plus\"} />\r\n                    添加课程\r\n                </Button>\r\n                <Button\r\n                    style={{marginRight: \"0.625rem\"}}\r\n                    disabled={deleteBtn}\r\n                    onClick={()=>\r\n                        confirm({\r\n                            title: '确认删除吗?',\r\n                            onOk() {\r\n                                handleDeletelabCourse({\r\n                                    courseIdList: selected,\r\n                                });\r\n                                setSelected([]);\r\n                                setDeleteBtn(true);\r\n                            },\r\n                            onCancel() {\r\n                            },\r\n                        })\r\n                    }\r\n                >\r\n                    <Icon type={\"delete\"} />\r\n                    删除课程\r\n                </Button>\r\n                <Button\r\n                    style={{marginRight: \"0.625rem\"}}\r\n                    onClick={()=>{\r\n                        setShowImport(true);\r\n                        setUploadBtn(false);\r\n                    }}\r\n                >\r\n                    <Icon type={\"plus-circle\"} />\r\n                    批量导入\r\n                </Button>\r\n                <div  style={{display: \"flex\", flexWrap: \"nowrap\", width: \"20rem\"}}>\r\n                    <Select defaultValue={\"courseName\"} style={{ width: \"5.625rem\" }}>\r\n                        <Option value={\"courseName\"}>课程名</Option>\r\n                    </Select>\r\n                    <Search\r\n                        placeholder=\"请输入搜索内容\"\r\n                        onSearch={(e) =>{\r\n                            Reg.test(e) ? handleQueryLabCourse({\r\n                                page: 1,\r\n                                userId: userId,\r\n                                courseName: e,\r\n                            }) : handleQueryLabCourse({\r\n                                page: 1,\r\n                                userId: userId,\r\n                                courseName: \"\",\r\n                            });\r\n                            setPresentPage(1);\r\n                        }}\r\n                        enterButton\r\n                        style={{ width: 200 }}\r\n                    />\r\n                </div>\r\n            </div>\r\n            <Table\r\n                rowKey={e=>e.id}\r\n                columns={columns}\r\n                dataSource={dataSource}\r\n                pagination={{\r\n                    total: labCourseTotal,\r\n                    current: presentPage,\r\n                    onChange: (e) => {\r\n                        handleQueryLabCourse({ page: e, userId: userId });\r\n                        setPresentPage(e);\r\n                        setSelected([]);\r\n                    }\r\n                }}\r\n                rowSelection ={{\r\n                    selectedRowKeys: selected,\r\n                    onChange: (selectedRowKeys, selectedRows) => {\r\n                        setSelected(selectedRowKeys);\r\n                        selectedRowKeys.length > 0 ? setDeleteBtn(false) : setDeleteBtn(true);\r\n                    }\r\n                }}\r\n            />\r\n            <Modal\r\n                title = \"添加课程\"\r\n                okText = \"添加\"\r\n                cancelText = \"取消\"\r\n                destroyOnClose={true}\r\n                visible={showAdd}\r\n                onCancel={()=>(setShowAdd(false))}\r\n                onOk={() => {\r\n                    if (courseNumber) {\r\n                        ((Reg.test(courseName) && courseName.length > 1) && numberReg.test(courseNumber)) ?\r\n                            handleAddlabCourse({\r\n                                courseName,\r\n                                courseNumber,\r\n                                userId\r\n                            }) :\r\n                            message.error(\"非法输入！\");\r\n                        setCourseNumber(\"\");\r\n                        setCourseName(\"\");\r\n                    }\r\n                }\r\n                }\r\n            >\r\n                <div>\r\n                    <div\r\n                        style={{display: \"flex\", alignItems: \"center\"}}\r\n                    >\r\n                        <label>课程名 : </label>\r\n                        <Input\r\n                            placeholder={\"输入长度在2-30位\"}\r\n                            style={{width: \"70%\", marginLeft: \"2.1875rem\"}}\r\n                            value={courseName}\r\n                            onChange={(e)=>(setCourseName(e.target.value))}\r\n                        />\r\n                    </div>\r\n                    <div\r\n                        style={{display: \"flex\", alignItems: \"center\"}}\r\n                    >\r\n                        <label>课程编号 : </label>\r\n                        <Input\r\n                            style={{width: \"70%\", margin: \"1.25rem\"}}\r\n                            placeholder={\"输入长度在6-8位\"}\r\n                            value={courseNumber}\r\n                            onChange={(e)=>(setCourseNumber(e.target.value))}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </Modal>\r\n            <Modal\r\n                destroyOnClose={true}\r\n                title={\"批量导入课程\"}\r\n                visible={showImport}\r\n                okText = \"导入\"\r\n                cancelText = \"取消\"\r\n                onCancel={()=>{\r\n                    setShowImport(false);\r\n                    setFileList([]);\r\n                }}\r\n                onOk={()=>{\r\n                    const name = fileList[0].name;\r\n                    if (fileList.length !== 1) {\r\n                        message.error(\"请选择文件！\")\r\n                    } else if (name.substring(name.indexOf(\".\")+1) === \"xlsx\" ||\r\n                        name.substring(name.indexOf(\".\")+1) === \"xls\"\r\n                        ){\r\n                        message.loading(\"导入中\");\r\n                        handleImportlabCourse({\r\n                            userId,\r\n                            file: fileList\r\n                        });\r\n                        setFileList([]);\r\n                    } else {\r\n                        message.error(\"文件格式错误！\");\r\n                    }\r\n                }}\r\n            >\r\n                <Upload {...uploadProps}>\r\n                    <Button\r\n                        disabled={uploadBtn}\r\n                    >\r\n                        <Icon type={\"upload\"} />\r\n                        选择文件\r\n                    </Button>\r\n                </Upload>\r\n            </Modal>\r\n        </div>\r\n    )\r\n\r\n};\r\nexport default connect(\r\n    state => ({\r\n        userId: state.getIn([\"userMana\", \"common\", \"userId\"]),\r\n        labCourses: state.getIn([\"admin\", \"labCourse\", \"labCourses\"]),\r\n        labCourseTotal: state.getIn([\"admin\", \"labCourse\", \"labCourseTotal\"]),\r\n        addCourseFlag: state.getIn([\"admin\", \"labCourse\", \"addCourseFlag\"]),\r\n        deleteCourseFlag: state.getIn([\"admin\", \"labCourse\", \"deleteCourseFlag\"]),\r\n        importCourseFlag: state.getIn([\"admin\", \"labCourse\", \"importCourseFlag\"]),\r\n    }),\r\n    dispatch => ({\r\n        handleQueryLabCourse(args){\r\n            dispatch(admin.adminQueryLabCourse(args));\r\n        },\r\n        handleAddlabCourse(args){\r\n            dispatch(admin.addLabCourse(args))\r\n        },\r\n        handleDeletelabCourse(args) {\r\n            dispatch(admin.deleteLabCourse(args))\r\n        },\r\n        handleImportlabCourse(args) {\r\n            dispatch(admin.importLabCourse(args))\r\n        }\r\n    }),\r\n)(LabCourse);\r\n"]},"metadata":{},"sourceType":"module"}