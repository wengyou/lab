{"ast":null,"code":"import\"antd/es/card/style/css\";import _Card from\"antd/es/card\";/*\r\nTasks是一个集成组件，里面有一个小的tab，小的tab包括myTasks和allTasks\r\n小的tab的显示是在学生登录的时候\r\n游客只能看见allTask\r\n */import React,{useEffect}from\"react\";import AllTasks from\"../components/AllTasks\";import StudentTasks from\"../components/StudentTasks\";import{connect}from\"react-redux\";import TeacherTasks from\"../components/TeacherTasks\";import Nav from\"../components/nav\";import{Switch,Route}from'react-router-dom';var Tasks=function Tasks(props){var userIdentify=props.userIdentify;useEffect(function(){props.history.location.pathname==='/user/task'&&props.history.push('/user/task/mytask');},[props.history.location.pathname]);var tabList=[{name:'我的任务',path:'/user/task/mytask'},{name:'所有任务',path:'/user/task/alltask'}];return/*#__PURE__*/React.createElement(_Card,{style:{margin:\"0 auto\"}},/*#__PURE__*/React.createElement(Nav,{tabList:tabList,location:props.history.location.pathname}),/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{path:\"/user/task/mytask\",component:userIdentify==='教师'?TeacherTasks:StudentTasks}),/*#__PURE__*/React.createElement(Route,{path:\"/user/task/alltask\",component:AllTasks})));};export default connect(function(state){return{userIdentify:state.getIn([\"userMana\",\"common\",\"userIdentify\"]),openKey:state.getIn([\"userMana\",\"common\",\"smallOpenKey\"])};},function(dispatch){return{};})(Tasks);// {\n//     userIdentify === \"教师\" ?\n//         <TabPane tab = {\"实验课程\"} key = {2}>\n//             <AllCourse/>\n//         </TabPane> :\n//         null\n// }","map":{"version":3,"sources":["C:/projects/lab/lab_2.0/src/pages/Tasks.js"],"names":["React","useEffect","AllTasks","StudentTasks","connect","TeacherTasks","Nav","Switch","Route","Tasks","props","userIdentify","history","location","pathname","push","tabList","name","path","margin","state","getIn","openKey","dispatch"],"mappings":"+DAAA;;;;GAKA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,CAEA,MAAOC,CAAAA,QAAP,KAAqB,wBAArB,CACA,MAAOC,CAAAA,YAAP,KAAyB,4BAAzB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,MAAOC,CAAAA,YAAP,KAAyB,4BAAzB,CACA,MAAOC,CAAAA,GAAP,KAAgB,mBAAhB,CACA,OAAQC,MAAR,CAAgBC,KAAhB,KAA4B,kBAA5B,CACA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAAAC,KAAK,CAAI,IACXC,CAAAA,YADW,CACMD,KADN,CACXC,YADW,CAGnBV,SAAS,CAAC,UAAM,CACZS,KAAK,CAACE,OAAN,CAAcC,QAAd,CAAuBC,QAAvB,GAAoC,YAApC,EAAoDJ,KAAK,CAACE,OAAN,CAAcG,IAAd,CAAmB,mBAAnB,CAApD,CACH,CAFQ,CAEN,CAACL,KAAK,CAACE,OAAN,CAAcC,QAAd,CAAuBC,QAAxB,CAFM,CAAT,CAIA,GAAME,CAAAA,OAAO,CAAG,CACZ,CAACC,IAAI,CAAE,MAAP,CAAeC,IAAI,CAAE,mBAArB,CADY,CAEZ,CAACD,IAAI,CAAE,MAAP,CAAeC,IAAI,CAAE,oBAArB,CAFY,CAAhB,CAKA,mBACQ,2BACI,KAAK,CAAE,CAACC,MAAM,CAAC,QAAR,CADX,eAGI,oBAAC,GAAD,EAAK,OAAO,CAAEH,OAAd,CAAuB,QAAQ,CAAEN,KAAK,CAACE,OAAN,CAAcC,QAAd,CAAuBC,QAAxD,EAHJ,cAII,oBAAC,MAAD,mBACI,oBAAC,KAAD,EAAO,IAAI,CAAC,mBAAZ,CAAgC,SAAS,CAAEH,YAAY,GAAK,IAAjB,CAAwBN,YAAxB,CAAuCF,YAAlF,EADJ,cAEI,oBAAC,KAAD,EAAO,IAAI,CAAC,oBAAZ,CAAiC,SAAS,CAAED,QAA5C,EAFJ,CAJJ,CADR,CAWH,CAvBD,CAwBA,cAAeE,CAAAA,OAAO,CAClB,SAAAgB,KAAK,QAAG,CACJT,YAAY,CAAES,KAAK,CAACC,KAAN,CAAY,CAAC,UAAD,CAAa,QAAb,CAAuB,cAAvB,CAAZ,CADV,CAEJC,OAAO,CAAEF,KAAK,CAACC,KAAN,CAAY,CAAC,UAAD,CAAa,QAAb,CAAuB,cAAvB,CAAZ,CAFL,CAAH,EADa,CAKlB,SAAAE,QAAQ,QAAG,EAAH,EALU,CAAP,CAQbd,KARa,CAAf,CAWA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["/*\r\nTasks是一个集成组件，里面有一个小的tab，小的tab包括myTasks和allTasks\r\n小的tab的显示是在学生登录的时候\r\n游客只能看见allTask\r\n */\r\nimport React, {useEffect} from \"react\";\r\nimport { Card } from \"antd\";\r\nimport AllTasks from \"../components/AllTasks\";\r\nimport StudentTasks from \"../components/StudentTasks\";\r\nimport { connect } from \"react-redux\";\r\nimport TeacherTasks from \"../components/TeacherTasks\";\r\nimport Nav from \"../components/nav\";\r\nimport {Switch, Route} from 'react-router-dom';\r\nconst Tasks = props => {\r\n    const { userIdentify } = props;\r\n\r\n    useEffect(() => {\r\n        props.history.location.pathname === '/user/task' && props.history.push('/user/task/mytask')\r\n    }, [props.history.location.pathname]);\r\n\r\n    const tabList = [\r\n        {name: '我的任务', path: '/user/task/mytask'},\r\n        {name: '所有任务', path: '/user/task/alltask'}\r\n        ]\r\n\r\n    return (\r\n            <Card\r\n                style={{margin:\"0 auto\"}}\r\n                >\r\n                <Nav tabList={tabList} location={props.history.location.pathname} />\r\n                <Switch>\r\n                    <Route path=\"/user/task/mytask\" component={userIdentify === '教师' ? TeacherTasks : StudentTasks } />\r\n                    <Route path=\"/user/task/alltask\" component={AllTasks } />\r\n                </Switch>\r\n            </Card>\r\n    )\r\n};\r\nexport default connect(\r\n    state=>({\r\n        userIdentify: state.getIn([\"userMana\", \"common\", \"userIdentify\"]),\r\n        openKey: state.getIn([\"userMana\", \"common\", \"smallOpenKey\"])\r\n    }),\r\n    dispatch=>({\r\n\r\n    })\r\n)(Tasks);\r\n\r\n\r\n// {\r\n//     userIdentify === \"教师\" ?\r\n//         <TabPane tab = {\"实验课程\"} key = {2}>\r\n//             <AllCourse/>\r\n//         </TabPane> :\r\n//         null\r\n// }\r\n"]},"metadata":{},"sourceType":"module"}