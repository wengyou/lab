{"ast":null,"code":"import _toConsumableArray from \"C:\\\\projects\\\\lab\\\\lab_2.0\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport { fromJS } from \"immutable\";\nimport * as constants from \"../../../constants/actionTypes\";\nvar defaultState = fromJS({\n  adminData: [],\n  adminTeacherData: [],\n  adminStudentData: [],\n  adminRegisterUserData: [],\n  adminTotal: \"\",\n  registerUserTotal: \"\",\n  studentTotal: \"\",\n  teacherTotal: \"\",\n  temp: '',\n  addTeacherFlag: true,\n  addAdminFlag: true,\n  addStudentFlag: true,\n  modifyAdminTemp: '',\n  modifyTeacherTemp: '',\n  modifyStudentTemp: '',\n  teacherPage: \"\",\n  studentPage: \"\",\n  studentSearchFlag: false,\n  teacherSearchFlag: false,\n  paramSystem: [],\n  addVisible: false\n});\nexport default (function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    //获取注册用户信息\n    case constants.FETCH_REGISTER_DATA_SUCCESS:\n      return state.merge({\n        adminRegisterUserData: action.payload.items,\n        registerUserTotal: action.payload.total\n      });\n    //批量授权\n\n    case constants.AGREE_REGISTER_SUCCESS:\n      return state.set(\"temp\", new Date());\n    //获取学生数据\n\n    case constants.FETCH_STUDENT_DATA_SUCCESS:\n      return state.merge({\n        adminStudentData: action.payload.items,\n        studentTotal: action.payload.total,\n        studentPage: action.payload.page\n      });\n    //添加学生\n\n    case constants.ADD_NEW_STUDENT_SUCCESS:\n      var payloadS = action.payloadS,\n          newDataS = action.newDataS;\n      var dataS = [newDataS].concat(_toConsumableArray(payloadS));\n      dataS.pop();\n      return state.merge({\n        adminStudentData: dataS,\n        addStudentFlag: false,\n        addVisible: false\n      });\n    //删除学生\n\n    case constants.DELETE_STUDENT_SUCCESS:\n      return state.set(\"temp\", new Date());\n    //导入学生\n\n    case constants.IMPORT_USER_success:\n      return state.set(\"temp\", new Date());\n    //修改学生\n\n    case constants.MODIFY_STUDENT_SUCCESS:\n      return state.set(\"modifyStudentTemp\", new Date());\n    //搜索学生\n\n    case constants.SEARCH_STUDENT_SUCCESS:\n      return state.merge({\n        adminStudentData: action.payload.items,\n        studentTotal: action.payload.total,\n        studentPage: action.payload.page,\n        studentSearchFlag: true\n      });\n    //获取管理员数据\n\n    case constants.FETCH_ADMINISTRATOR_DATA_SUCCESS:\n      return state.merge({\n        adminData: action.payload.items,\n        adminTotal: action.payload.total\n      });\n    //添加管理员信息\n\n    case constants.ADD_NEW_ADMIN_SUCCESS:\n      var payloadA = action.payloadA,\n          newDataA = action.newDataA;\n      var dataA = [newDataA].concat(_toConsumableArray(payloadA));\n      dataA.pop();\n      return state.merge({\n        adminData: dataA,\n        addAdminFlag: false,\n        addVisible: false\n      });\n    //修改管理员信息\n\n    case constants.MODIFY_ADMIN_SUCCESS:\n      return state.set(\"modifyAdminTemp\", new Date());\n    //获取老师数据\n\n    case constants.FETCH_TEACHER_RES_SUCCESS:\n      return state.merge({\n        adminTeacherData: action.payload.items,\n        teacherTotal: action.payload.total,\n        teacherPage: action.payload.page\n      });\n    //添加老师\n\n    case constants.ADD_NEW_TEACHER_SUCCESS:\n      var payload = action.payload,\n          newData = action.newData;\n      var data = [newData].concat(_toConsumableArray(payload));\n      data.pop();\n      return state.merge({\n        adminTeacherData: data,\n        addTeacherFlag: false\n      });\n    //修改教师信息\n\n    case constants.MODIFY_TEACHER_SUCCESS:\n      return state.set(\"modifyTeacherTemp\", new Date());\n    //搜索老师\n\n    case constants.SEARCH_TEACHER_SUCCESS:\n      return state.merge({\n        adminTeacherData: action.payload.items,\n        teacherTotal: action.payload.total,\n        teacherPage: action.payload.page,\n        teacherSearchFlag: true\n      });\n    //删除老师\n\n    case constants.DELETE_TEACHER_SUCCESS:\n      return state.set(\"temp\", new Date());\n    //删除注册用户\n\n    case constants.DELETE_REGISTER_USER_SUCCESS:\n      return state.set(\"temp\", new Date());\n    //获取系统参数\n\n    case constants.FETCH_PARAM_SUCCESS:\n      return state.merge({\n        paramSystem: action.payload\n      });\n\n    default:\n      return state;\n  }\n});","map":{"version":3,"sources":["C:/projects/lab/lab_2.0/src/redux/reducers/adminMana/userManage.js"],"names":["fromJS","constants","defaultState","adminData","adminTeacherData","adminStudentData","adminRegisterUserData","adminTotal","registerUserTotal","studentTotal","teacherTotal","temp","addTeacherFlag","addAdminFlag","addStudentFlag","modifyAdminTemp","modifyTeacherTemp","modifyStudentTemp","teacherPage","studentPage","studentSearchFlag","teacherSearchFlag","paramSystem","addVisible","state","action","type","FETCH_REGISTER_DATA_SUCCESS","merge","payload","items","total","AGREE_REGISTER_SUCCESS","set","Date","FETCH_STUDENT_DATA_SUCCESS","page","ADD_NEW_STUDENT_SUCCESS","payloadS","newDataS","dataS","pop","DELETE_STUDENT_SUCCESS","IMPORT_USER_success","MODIFY_STUDENT_SUCCESS","SEARCH_STUDENT_SUCCESS","FETCH_ADMINISTRATOR_DATA_SUCCESS","ADD_NEW_ADMIN_SUCCESS","payloadA","newDataA","dataA","MODIFY_ADMIN_SUCCESS","FETCH_TEACHER_RES_SUCCESS","ADD_NEW_TEACHER_SUCCESS","newData","data","MODIFY_TEACHER_SUCCESS","SEARCH_TEACHER_SUCCESS","DELETE_TEACHER_SUCCESS","DELETE_REGISTER_USER_SUCCESS","FETCH_PARAM_SUCCESS"],"mappings":"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","sourcesContent":["import { fromJS } from \"immutable\";\r\nimport * as constants from \"../../../constants/actionTypes\"\r\n\r\nconst defaultState = fromJS({\r\n    adminData: [],\r\n    adminTeacherData: [],\r\n    adminStudentData: [],\r\n    adminRegisterUserData: [],\r\n    adminTotal: \"\",\r\n    registerUserTotal: \"\",\r\n    studentTotal: \"\",\r\n    teacherTotal: \"\",\r\n    temp: '',\r\n    addTeacherFlag: true,\r\n    addAdminFlag: true,\r\n    addStudentFlag: true,\r\n    modifyAdminTemp: '',\r\n    modifyTeacherTemp: '',\r\n    modifyStudentTemp: '',\r\n    teacherPage: \"\",\r\n    studentPage: \"\",\r\n    studentSearchFlag: false,\r\n    teacherSearchFlag: false,\r\n    paramSystem: [],\r\n    addVisible: false,\r\n});\r\n\r\nexport default (state = defaultState, action) => {\r\n    switch (action.type) {\r\n        //获取注册用户信息\r\n        case constants.FETCH_REGISTER_DATA_SUCCESS:\r\n            return state.merge({\r\n                adminRegisterUserData: action.payload.items,\r\n                registerUserTotal: action.payload.total\r\n            });\r\n            //批量授权\r\n        case constants.AGREE_REGISTER_SUCCESS:\r\n            return state.set(\"temp\", new Date());\r\n        //获取学生数据\r\n        case constants.FETCH_STUDENT_DATA_SUCCESS:\r\n            return state.merge({\r\n                adminStudentData: action.payload.items,\r\n                studentTotal: action.payload.total,\r\n                studentPage: action.payload.page,\r\n            });\r\n            //添加学生\r\n        case constants.ADD_NEW_STUDENT_SUCCESS:\r\n            const {payloadS, newDataS } = action;\r\n            const dataS = [newDataS, ...payloadS];\r\n            dataS.pop();\r\n            return state.merge({\r\n                adminStudentData: dataS,\r\n                addStudentFlag: false,\r\n                addVisible: false\r\n            });\r\n            //删除学生\r\n        case constants.DELETE_STUDENT_SUCCESS:\r\n            return state.set(\"temp\",new Date());\r\n            //导入学生\r\n        case constants.IMPORT_USER_success:\r\n            return state.set(\"temp\", new Date());\r\n            //修改学生\r\n        case constants.MODIFY_STUDENT_SUCCESS:\r\n            return state.set(\"modifyStudentTemp\", new Date());\r\n            //搜索学生\r\n        case constants.SEARCH_STUDENT_SUCCESS:\r\n            return state.merge({\r\n                adminStudentData: action.payload.items,\r\n                studentTotal: action.payload.total,\r\n                studentPage: action.payload.page,\r\n                studentSearchFlag: true\r\n            });\r\n        //获取管理员数据\r\n        case constants.FETCH_ADMINISTRATOR_DATA_SUCCESS:\r\n            return state.merge({\r\n                adminData: action.payload.items,\r\n                adminTotal: action.payload.total\r\n            });\r\n            //添加管理员信息\r\n        case constants.ADD_NEW_ADMIN_SUCCESS:\r\n            const { payloadA, newDataA } = action;\r\n            const dataA = [newDataA, ...payloadA];\r\n            dataA.pop();\r\n            return state.merge({\r\n                adminData: dataA,\r\n                addAdminFlag: false,\r\n                addVisible:false\r\n            });\r\n            //修改管理员信息\r\n        case constants.MODIFY_ADMIN_SUCCESS:\r\n            return state.set(\"modifyAdminTemp\", new Date());\r\n            //获取老师数据\r\n        case constants.FETCH_TEACHER_RES_SUCCESS:\r\n            return state.merge({\r\n                adminTeacherData: action.payload.items,\r\n                teacherTotal: action.payload.total,\r\n                teacherPage: action.payload.page\r\n            });\r\n            //添加老师\r\n        case constants.ADD_NEW_TEACHER_SUCCESS:\r\n            const { payload, newData } = action;\r\n            const data = [newData, ...payload];\r\n            data.pop();\r\n            return state.merge({\r\n                adminTeacherData: data,\r\n                addTeacherFlag: false\r\n            });\r\n            //修改教师信息\r\n        case constants.MODIFY_TEACHER_SUCCESS:\r\n            return state.set(\"modifyTeacherTemp\", new Date());\r\n            //搜索老师\r\n        case constants.SEARCH_TEACHER_SUCCESS:\r\n            return state.merge({\r\n                adminTeacherData: action.payload.items,\r\n                teacherTotal: action.payload.total,\r\n                teacherPage: action.payload.page,\r\n                teacherSearchFlag: true\r\n            });\r\n            //删除老师\r\n        case constants.DELETE_TEACHER_SUCCESS:\r\n            return state.set(\"temp\",new Date());\r\n            //删除注册用户\r\n        case constants.DELETE_REGISTER_USER_SUCCESS:\r\n            return state.set(\"temp\", new Date());\r\n            //获取系统参数\r\n        case constants.FETCH_PARAM_SUCCESS:\r\n            return state.merge({\r\n                paramSystem: action.payload\r\n            });\r\n        default:\r\n            return state;\r\n\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}