{"ast":null,"code":"import{fromJS}from\"immutable\";import*as constants from\"../../../constants/actionTypes\";var defaultState=fromJS({resourceData:'',resourceTotal:'',softwareData:'',softwareTotal:'',resourcePage:'',softwarePage:'',temp:'',resourceSearchFlag:false,softwareSearchFlag:false});export default(function(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:defaultState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){//获取学习资料\ncase constants.FETCH_ADMIN_RESOURCE_DATA_SUCCESS:return state.merge({resourceData:action.payload.items,resourceTotal:action.payload.total,resourcePage:action.payload.page});//获取软件\ncase constants.FETCH_ADMIN_SOFTWARE_DATA_SUCCESS:return state.merge({softwareData:action.payload.items,softwareTotal:action.payload.total,softwarePage:action.payload.page});//搜索学习资料\ncase constants.SEARCH_RESOURCE_DATA_SUCCESS:return state.merge({resourceData:action.payload.items,resourceTotal:action.payload.total,resourcePage:action.payload.page,resourceSearchFlag:true});//上传学习资料\ncase constants.IMPORT_RESOURCE_SUCCESS:return state.set(\"temp\",new Date());//搜索软件资料\ncase constants.SEARCH_SOFTWARE_DATA_SUCCESS:return state.merge({softwareData:action.payload.items,softwareTotal:action.payload.total,softwarePage:action.payload.page,resourceSearchFlag:true});//删除学习资料\ncase constants.DELETE_RESOURCE_DATA_SUCCESS:return state.set(\"temp\",new Date());//删除软件\ncase constants.DELETE_SOFTWARE_DATA_SUCCESS:return state.set(\"temp\",new Date());//导入软件\ncase constants.IMPORT_SOFTWARE_SUCCESS:return state.set(\"temp\",new Date());default:return state;}});","map":{"version":3,"sources":["C:/projects/lab/lab_2.0/src/redux/reducers/adminMana/resourceManage.js"],"names":["fromJS","constants","defaultState","resourceData","resourceTotal","softwareData","softwareTotal","resourcePage","softwarePage","temp","resourceSearchFlag","softwareSearchFlag","state","action","type","FETCH_ADMIN_RESOURCE_DATA_SUCCESS","merge","payload","items","total","page","FETCH_ADMIN_SOFTWARE_DATA_SUCCESS","SEARCH_RESOURCE_DATA_SUCCESS","IMPORT_RESOURCE_SUCCESS","set","Date","SEARCH_SOFTWARE_DATA_SUCCESS","DELETE_RESOURCE_DATA_SUCCESS","DELETE_SOFTWARE_DATA_SUCCESS","IMPORT_SOFTWARE_SUCCESS"],"mappings":"AAAA,OAASA,MAAT,KAAuB,WAAvB,CACA,MAAO,GAAKC,CAAAA,SAAZ,KAA2B,gCAA3B,CACA,GAAMC,CAAAA,YAAY,CAAGF,MAAM,CAAC,CACxBG,YAAY,CAAE,EADU,CAExBC,aAAa,CAAE,EAFS,CAGxBC,YAAY,CAAE,EAHU,CAIxBC,aAAa,CAAE,EAJS,CAKxBC,YAAY,CAAE,EALU,CAMxBC,YAAY,CAAE,EANU,CAOxBC,IAAI,CAAE,EAPkB,CAQxBC,kBAAkB,CAAE,KARI,CASxBC,kBAAkB,CAAE,KATI,CAAD,CAA3B,CAYA,eAAe,UAAkC,IAAjCC,CAAAA,KAAiC,2DAAzBV,YAAyB,IAAXW,CAAAA,MAAW,2CAC7C,OAAQA,MAAM,CAACC,IAAf,EACI;AACA,IAAKb,CAAAA,SAAS,CAACc,iCAAf,CACI,MAAOH,CAAAA,KAAK,CAACI,KAAN,CAAY,CACfb,YAAY,CAAEU,MAAM,CAACI,OAAP,CAAeC,KADd,CAEfd,aAAa,CAAES,MAAM,CAACI,OAAP,CAAeE,KAFf,CAGfZ,YAAY,CAAEM,MAAM,CAACI,OAAP,CAAeG,IAHd,CAAZ,CAAP,CAKA;AACJ,IAAKnB,CAAAA,SAAS,CAACoB,iCAAf,CACI,MAAOT,CAAAA,KAAK,CAACI,KAAN,CAAY,CACfX,YAAY,CAAEQ,MAAM,CAACI,OAAP,CAAeC,KADd,CAEfZ,aAAa,CAAEO,MAAM,CAACI,OAAP,CAAeE,KAFf,CAGfX,YAAY,CAAEK,MAAM,CAACI,OAAP,CAAeG,IAHd,CAAZ,CAAP,CAKA;AACJ,IAAKnB,CAAAA,SAAS,CAACqB,4BAAf,CACI,MAAOV,CAAAA,KAAK,CAACI,KAAN,CAAY,CACfb,YAAY,CAAEU,MAAM,CAACI,OAAP,CAAeC,KADd,CAEfd,aAAa,CAAES,MAAM,CAACI,OAAP,CAAeE,KAFf,CAGfZ,YAAY,CAAEM,MAAM,CAACI,OAAP,CAAeG,IAHd,CAIfV,kBAAkB,CAAE,IAJL,CAAZ,CAAP,CAMA;AACJ,IAAKT,CAAAA,SAAS,CAACsB,uBAAf,CACI,MAAOX,CAAAA,KAAK,CAACY,GAAN,CAAU,MAAV,CAAkB,GAAIC,CAAAA,IAAJ,EAAlB,CAAP,CACA;AACJ,IAAKxB,CAAAA,SAAS,CAACyB,4BAAf,CACI,MAAOd,CAAAA,KAAK,CAACI,KAAN,CAAY,CACfX,YAAY,CAAEQ,MAAM,CAACI,OAAP,CAAeC,KADd,CAEfZ,aAAa,CAAEO,MAAM,CAACI,OAAP,CAAeE,KAFf,CAGfX,YAAY,CAAEK,MAAM,CAACI,OAAP,CAAeG,IAHd,CAIfV,kBAAkB,CAAE,IAJL,CAAZ,CAAP,CAMA;AACJ,IAAKT,CAAAA,SAAS,CAAC0B,4BAAf,CACI,MAAOf,CAAAA,KAAK,CAACY,GAAN,CAAU,MAAV,CAAkB,GAAIC,CAAAA,IAAJ,EAAlB,CAAP,CACA;AACJ,IAAKxB,CAAAA,SAAS,CAAC2B,4BAAf,CACI,MAAOhB,CAAAA,KAAK,CAACY,GAAN,CAAU,MAAV,CAAkB,GAAIC,CAAAA,IAAJ,EAAlB,CAAP,CACA;AACJ,IAAKxB,CAAAA,SAAS,CAAC4B,uBAAf,CACI,MAAOjB,CAAAA,KAAK,CAACY,GAAN,CAAU,MAAV,CAAkB,GAAIC,CAAAA,IAAJ,EAAlB,CAAP,CACJ,QACI,MAAOb,CAAAA,KAAP,CA5CR,CA+CH,CAhDD","sourcesContent":["import { fromJS } from \"immutable\";\r\nimport * as constants from \"../../../constants/actionTypes\"\r\nconst defaultState = fromJS({\r\n    resourceData: '',\r\n    resourceTotal: '',\r\n    softwareData: '',\r\n    softwareTotal: '',\r\n    resourcePage: '',\r\n    softwarePage: '',\r\n    temp: '',\r\n    resourceSearchFlag: false,\r\n    softwareSearchFlag: false,\r\n});\r\n\r\nexport default (state = defaultState, action) => {\r\n    switch (action.type) {\r\n        //获取学习资料\r\n        case constants.FETCH_ADMIN_RESOURCE_DATA_SUCCESS:\r\n            return state.merge({\r\n                resourceData: action.payload.items,\r\n                resourceTotal: action.payload.total,\r\n                resourcePage: action.payload.page\r\n            });\r\n            //获取软件\r\n        case constants.FETCH_ADMIN_SOFTWARE_DATA_SUCCESS:\r\n            return state.merge({\r\n                softwareData: action.payload.items,\r\n                softwareTotal: action.payload.total,\r\n                softwarePage: action.payload.page\r\n            });\r\n            //搜索学习资料\r\n        case constants.SEARCH_RESOURCE_DATA_SUCCESS:\r\n            return state.merge({\r\n                resourceData: action.payload.items,\r\n                resourceTotal: action.payload.total,\r\n                resourcePage: action.payload.page,\r\n                resourceSearchFlag: true,\r\n            });\r\n            //上传学习资料\r\n        case constants.IMPORT_RESOURCE_SUCCESS:\r\n            return state.set(\"temp\", new Date());\r\n            //搜索软件资料\r\n        case constants.SEARCH_SOFTWARE_DATA_SUCCESS:\r\n            return state.merge({\r\n                softwareData: action.payload.items,\r\n                softwareTotal: action.payload.total,\r\n                softwarePage: action.payload.page,\r\n                resourceSearchFlag: true\r\n            });\r\n            //删除学习资料\r\n        case constants.DELETE_RESOURCE_DATA_SUCCESS:\r\n            return state.set(\"temp\", new Date());\r\n            //删除软件\r\n        case constants.DELETE_SOFTWARE_DATA_SUCCESS:\r\n            return state.set(\"temp\", new Date());\r\n            //导入软件\r\n        case constants.IMPORT_SOFTWARE_SUCCESS:\r\n            return state.set(\"temp\", new Date());\r\n        default:\r\n            return state;\r\n\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}