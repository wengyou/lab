{"ast":null,"code":"import { fromJS } from \"immutable\";\nimport * as constants from \"../../../constants/actionTypes\";\nvar defaultState = fromJS({\n  resourceData: '',\n  resourceTotal: '',\n  softwareData: '',\n  softwareTotal: '',\n  resourcePage: '',\n  softwarePage: '',\n  temp: '',\n  resourceSearchFlag: false,\n  softwareSearchFlag: false\n});\nexport default (function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    //获取学习资料\n    case constants.FETCH_ADMIN_RESOURCE_DATA_SUCCESS:\n      return state.merge({\n        resourceData: action.payload.items,\n        resourceTotal: action.payload.total,\n        resourcePage: action.payload.page\n      });\n    //获取软件\n\n    case constants.FETCH_ADMIN_SOFTWARE_DATA_SUCCESS:\n      return state.merge({\n        softwareData: action.payload.items,\n        softwareTotal: action.payload.total,\n        softwarePage: action.payload.page\n      });\n    //搜索学习资料\n\n    case constants.SEARCH_RESOURCE_DATA_SUCCESS:\n      return state.merge({\n        resourceData: action.payload.items,\n        resourceTotal: action.payload.total,\n        resourcePage: action.payload.page,\n        resourceSearchFlag: true\n      });\n    //上传学习资料\n\n    case constants.IMPORT_RESOURCE_SUCCESS:\n      return state.set(\"temp\", new Date());\n    //搜索软件资料\n\n    case constants.SEARCH_SOFTWARE_DATA_SUCCESS:\n      return state.merge({\n        softwareData: action.payload.items,\n        softwareTotal: action.payload.total,\n        softwarePage: action.payload.page,\n        resourceSearchFlag: true\n      });\n    //删除学习资料\n\n    case constants.DELETE_RESOURCE_DATA_SUCCESS:\n      return state.set(\"temp\", new Date());\n    //删除软件\n\n    case constants.DELETE_SOFTWARE_DATA_SUCCESS:\n      return state.set(\"temp\", new Date());\n    //导入软件\n\n    case constants.IMPORT_SOFTWARE_SUCCESS:\n      return state.set(\"temp\", new Date());\n\n    default:\n      return state;\n  }\n});","map":{"version":3,"sources":["C:/projects/lab/lab_2.0/src/redux/reducers/adminMana/resourceManage.js"],"names":["fromJS","constants","defaultState","resourceData","resourceTotal","softwareData","softwareTotal","resourcePage","softwarePage","temp","resourceSearchFlag","softwareSearchFlag","state","action","type","FETCH_ADMIN_RESOURCE_DATA_SUCCESS","merge","payload","items","total","page","FETCH_ADMIN_SOFTWARE_DATA_SUCCESS","SEARCH_RESOURCE_DATA_SUCCESS","IMPORT_RESOURCE_SUCCESS","set","Date","SEARCH_SOFTWARE_DATA_SUCCESS","DELETE_RESOURCE_DATA_SUCCESS","DELETE_SOFTWARE_DATA_SUCCESS","IMPORT_SOFTWARE_SUCCESS"],"mappings":"AAAA,SAASA,MAAT,QAAuB,WAAvB;AACA,OAAO,KAAKC,SAAZ,MAA2B,gCAA3B;AACA,IAAMC,YAAY,GAAGF,MAAM,CAAC;AACxBG,EAAAA,YAAY,EAAE,EADU;AAExBC,EAAAA,aAAa,EAAE,EAFS;AAGxBC,EAAAA,YAAY,EAAE,EAHU;AAIxBC,EAAAA,aAAa,EAAE,EAJS;AAKxBC,EAAAA,YAAY,EAAE,EALU;AAMxBC,EAAAA,YAAY,EAAE,EANU;AAOxBC,EAAAA,IAAI,EAAE,EAPkB;AAQxBC,EAAAA,kBAAkB,EAAE,KARI;AASxBC,EAAAA,kBAAkB,EAAE;AATI,CAAD,CAA3B;AAYA,gBAAe,YAAkC;AAAA,MAAjCC,KAAiC,uEAAzBV,YAAyB;AAAA,MAAXW,MAAW;;AAC7C,UAAQA,MAAM,CAACC,IAAf;AACI;AACA,SAAKb,SAAS,CAACc,iCAAf;AACI,aAAOH,KAAK,CAACI,KAAN,CAAY;AACfb,QAAAA,YAAY,EAAEU,MAAM,CAACI,OAAP,CAAeC,KADd;AAEfd,QAAAA,aAAa,EAAES,MAAM,CAACI,OAAP,CAAeE,KAFf;AAGfZ,QAAAA,YAAY,EAAEM,MAAM,CAACI,OAAP,CAAeG;AAHd,OAAZ,CAAP;AAKA;;AACJ,SAAKnB,SAAS,CAACoB,iCAAf;AACI,aAAOT,KAAK,CAACI,KAAN,CAAY;AACfX,QAAAA,YAAY,EAAEQ,MAAM,CAACI,OAAP,CAAeC,KADd;AAEfZ,QAAAA,aAAa,EAAEO,MAAM,CAACI,OAAP,CAAeE,KAFf;AAGfX,QAAAA,YAAY,EAAEK,MAAM,CAACI,OAAP,CAAeG;AAHd,OAAZ,CAAP;AAKA;;AACJ,SAAKnB,SAAS,CAACqB,4BAAf;AACI,aAAOV,KAAK,CAACI,KAAN,CAAY;AACfb,QAAAA,YAAY,EAAEU,MAAM,CAACI,OAAP,CAAeC,KADd;AAEfd,QAAAA,aAAa,EAAES,MAAM,CAACI,OAAP,CAAeE,KAFf;AAGfZ,QAAAA,YAAY,EAAEM,MAAM,CAACI,OAAP,CAAeG,IAHd;AAIfV,QAAAA,kBAAkB,EAAE;AAJL,OAAZ,CAAP;AAMA;;AACJ,SAAKT,SAAS,CAACsB,uBAAf;AACI,aAAOX,KAAK,CAACY,GAAN,CAAU,MAAV,EAAkB,IAAIC,IAAJ,EAAlB,CAAP;AACA;;AACJ,SAAKxB,SAAS,CAACyB,4BAAf;AACI,aAAOd,KAAK,CAACI,KAAN,CAAY;AACfX,QAAAA,YAAY,EAAEQ,MAAM,CAACI,OAAP,CAAeC,KADd;AAEfZ,QAAAA,aAAa,EAAEO,MAAM,CAACI,OAAP,CAAeE,KAFf;AAGfX,QAAAA,YAAY,EAAEK,MAAM,CAACI,OAAP,CAAeG,IAHd;AAIfV,QAAAA,kBAAkB,EAAE;AAJL,OAAZ,CAAP;AAMA;;AACJ,SAAKT,SAAS,CAAC0B,4BAAf;AACI,aAAOf,KAAK,CAACY,GAAN,CAAU,MAAV,EAAkB,IAAIC,IAAJ,EAAlB,CAAP;AACA;;AACJ,SAAKxB,SAAS,CAAC2B,4BAAf;AACI,aAAOhB,KAAK,CAACY,GAAN,CAAU,MAAV,EAAkB,IAAIC,IAAJ,EAAlB,CAAP;AACA;;AACJ,SAAKxB,SAAS,CAAC4B,uBAAf;AACI,aAAOjB,KAAK,CAACY,GAAN,CAAU,MAAV,EAAkB,IAAIC,IAAJ,EAAlB,CAAP;;AACJ;AACI,aAAOb,KAAP;AA5CR;AA+CH,CAhDD","sourcesContent":["import { fromJS } from \"immutable\";\r\nimport * as constants from \"../../../constants/actionTypes\"\r\nconst defaultState = fromJS({\r\n    resourceData: '',\r\n    resourceTotal: '',\r\n    softwareData: '',\r\n    softwareTotal: '',\r\n    resourcePage: '',\r\n    softwarePage: '',\r\n    temp: '',\r\n    resourceSearchFlag: false,\r\n    softwareSearchFlag: false,\r\n});\r\n\r\nexport default (state = defaultState, action) => {\r\n    switch (action.type) {\r\n        //获取学习资料\r\n        case constants.FETCH_ADMIN_RESOURCE_DATA_SUCCESS:\r\n            return state.merge({\r\n                resourceData: action.payload.items,\r\n                resourceTotal: action.payload.total,\r\n                resourcePage: action.payload.page\r\n            });\r\n            //获取软件\r\n        case constants.FETCH_ADMIN_SOFTWARE_DATA_SUCCESS:\r\n            return state.merge({\r\n                softwareData: action.payload.items,\r\n                softwareTotal: action.payload.total,\r\n                softwarePage: action.payload.page\r\n            });\r\n            //搜索学习资料\r\n        case constants.SEARCH_RESOURCE_DATA_SUCCESS:\r\n            return state.merge({\r\n                resourceData: action.payload.items,\r\n                resourceTotal: action.payload.total,\r\n                resourcePage: action.payload.page,\r\n                resourceSearchFlag: true,\r\n            });\r\n            //上传学习资料\r\n        case constants.IMPORT_RESOURCE_SUCCESS:\r\n            return state.set(\"temp\", new Date());\r\n            //搜索软件资料\r\n        case constants.SEARCH_SOFTWARE_DATA_SUCCESS:\r\n            return state.merge({\r\n                softwareData: action.payload.items,\r\n                softwareTotal: action.payload.total,\r\n                softwarePage: action.payload.page,\r\n                resourceSearchFlag: true\r\n            });\r\n            //删除学习资料\r\n        case constants.DELETE_RESOURCE_DATA_SUCCESS:\r\n            return state.set(\"temp\", new Date());\r\n            //删除软件\r\n        case constants.DELETE_SOFTWARE_DATA_SUCCESS:\r\n            return state.set(\"temp\", new Date());\r\n            //导入软件\r\n        case constants.IMPORT_SOFTWARE_SUCCESS:\r\n            return state.set(\"temp\", new Date());\r\n        default:\r\n            return state;\r\n\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}