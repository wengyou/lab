{"ast":null,"code":"import\"antd/es/message/style/css\";import _message from\"antd/es/message\";import _regeneratorRuntime from\"C:\\\\projects\\\\lab\\\\lab_2.0\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";var _marked=/*#__PURE__*/_regeneratorRuntime.mark(adminQueryLabCourse),_marked2=/*#__PURE__*/_regeneratorRuntime.mark(adminAddlabCourse),_marked3=/*#__PURE__*/_regeneratorRuntime.mark(adminDeletelabCourse),_marked4=/*#__PURE__*/_regeneratorRuntime.mark(adminImportlabCourse),_marked5=/*#__PURE__*/_regeneratorRuntime.mark(adminQueryStudentCourse),_marked6=/*#__PURE__*/_regeneratorRuntime.mark(adminDeleteTeacherCourse),_marked7=/*#__PURE__*/_regeneratorRuntime.mark(deleteStudentCourse),_marked8=/*#__PURE__*/_regeneratorRuntime.mark(rootLabCourse);import{takeEvery,call,put}from\"redux-saga/effects\";import Service from\"../../../lib/Service\";import{ADMIN_ADD_LABCOURSE,ADMIN_ADD_LABCOURSE_SUCCESS,ADMIN_DELETE_LABCOURSE,ADMIN_DELETE_LABCOURSE_SUCCESS,ADMIN_DELETE_TEACHERCOURSES,ADMIN_DELETE_TEACHERCOURSES_SUCCESS,ADMIN_IMPORT_LABCOURSE,ADMIN_IMPORT_LABCOURSE_SUCCESS,ADMIN_QUERY_LABCOURSE,ADMIN_QUERY_LABCOURSE_SUCCESS,ADMIN_QUERY_STUDENTCOURSE,ADMIN_QUERY_STUDENTCOURSE_SUCCESS,DELETE_STUDENTCOURSE_SUCCESS,DELETE_STUDENTCOURSE}from\"../../../constants/actionTypes\";function adminQueryLabCourse(data){var _data$args,userId,page,courseName,url,res;return _regeneratorRuntime.wrap(function adminQueryLabCourse$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_data$args=data.args,userId=_data$args.userId,page=_data$args.page,courseName=_data$args.courseName;url=courseName?\"course/allCourse?page=\".concat(page,\"&userId=\").concat(userId,\"&courseName=\").concat(courseName):\"course/allCourse?page=\".concat(page,\"&userId=\").concat(userId);_context.next=5;return call(Service.get,url);case 5:res=_context.sent;_context.t0=res.data.error_code;_context.next=_context.t0===0?9:11;break;case 9:_context.next=11;return put({type:ADMIN_QUERY_LABCOURSE_SUCCESS,payload:res.data.data});case 11:_context.next=15;break;case 13:_context.prev=13;_context.t1=_context[\"catch\"](0);case 15:case\"end\":return _context.stop();}}},_marked,null,[[0,13]]);}function adminAddlabCourse(args){var _args$args,courseName,courseNumber,userId,data,res;return _regeneratorRuntime.wrap(function adminAddlabCourse$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_args$args=args.args,courseName=_args$args.courseName,courseNumber=_args$args.courseNumber,userId=_args$args.userId;data={courseName:courseName,courseNumber:courseNumber,userId:userId};_context2.next=5;return call(Service.post,\"admin/addCourse\",data);case 5:res=_context2.sent;_context2.t0=res.data.error_code;_context2.next=_context2.t0===0?9:_context2.t0===-1?15:_context2.t0===1?17:19;break;case 9:_message.success(\"添加成功~\");_context2.next=12;return put({type:ADMIN_ADD_LABCOURSE_SUCCESS});case 12:_context2.next=14;return call(Service.get,\"course/allCourse?page=1&userId=\".concat(userId));case 14:return _context2.abrupt(\"break\",20);case 15:_message.error(\"添加失败！\");return _context2.abrupt(\"break\",20);case 17:_message.error(\"权限不足！\");return _context2.abrupt(\"break\",20);case 19:return _context2.abrupt(\"return\",0);case 20:_context2.next=24;break;case 22:_context2.prev=22;_context2.t1=_context2[\"catch\"](0);case 24:case\"end\":return _context2.stop();}}},_marked2,null,[[0,22]]);}function adminDeletelabCourse(args){var courseIdList,formData,data,res;return _regeneratorRuntime.wrap(function adminDeletelabCourse$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;courseIdList=args.args.courseIdList;formData=new FormData();formData.append(\"courseIdList\",courseIdList);data={courseIdList:courseIdList};_context3.next=7;return call(Service.post,\"admin/deleteCourse\",formData);case 7:res=_context3.sent;_context3.t0=res.data.error_code;_context3.next=_context3.t0===0?11:_context3.t0===-1?15:_context3.t0===1?17:19;break;case 11:_message.success(\"删除成功~\");_context3.next=14;return put({type:ADMIN_DELETE_LABCOURSE_SUCCESS});case 14:return _context3.abrupt(\"break\",20);case 15:_message.error(\"删除失败！\");return _context3.abrupt(\"break\",20);case 17:_message.error(\"权限不足！\");return _context3.abrupt(\"break\",20);case 19:return _context3.abrupt(\"return\",0);case 20:_context3.next=24;break;case 22:_context3.prev=22;_context3.t1=_context3[\"catch\"](0);case 24:case\"end\":return _context3.stop();}}},_marked3,null,[[0,22]]);}function adminImportlabCourse(args){var _args$args2,userId,file,formData,res;return _regeneratorRuntime.wrap(function adminImportlabCourse$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_args$args2=args.args,userId=_args$args2.userId,file=_args$args2.file;formData=new FormData();formData.append(\"userId\",userId);formData.append(\"file\",file[0]);_context4.next=7;return call(Service.post,\"admin/importCourse\",formData);case 7:res=_context4.sent;_context4.t0=res.data.error_code;_context4.next=_context4.t0===0?11:_context4.t0===-1?15:_context4.t0===1?17:19;break;case 11:_message.success(res.data.message);_context4.next=14;return put({type:ADMIN_IMPORT_LABCOURSE_SUCCESS});case 14:return _context4.abrupt(\"break\",20);case 15:_message.error(\"导入失败！\");return _context4.abrupt(\"break\",20);case 17:_message.error(\"权限不足！\");return _context4.abrupt(\"break\",20);case 19:return _context4.abrupt(\"return\",0);case 20:_context4.next=24;break;case 22:_context4.prev=22;_context4.t1=_context4[\"catch\"](0);case 24:case\"end\":return _context4.stop();}}},_marked4,null,[[0,22]]);}function adminQueryStudentCourse(data){var _data$args2,page,studentName,studentId,url,res;return _regeneratorRuntime.wrap(function adminQueryStudentCourse$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_data$args2=data.args,page=_data$args2.page,studentName=_data$args2.studentName,studentId=_data$args2.studentId;url=\"admin/queryStudentCourse?page=\".concat(page,\"&studentName=\").concat(studentName,\"&studentId=\").concat(studentId);_context5.next=5;return call(Service.get,url);case 5:res=_context5.sent;_context5.t0=res.data.error_code;_context5.next=_context5.t0===0?9:12;break;case 9:_context5.next=11;return put({type:ADMIN_QUERY_STUDENTCOURSE_SUCCESS,payload:res.data.data});case 11:return _context5.abrupt(\"break\",13);case 12:return _context5.abrupt(\"return\",0);case 13:_context5.next=17;break;case 15:_context5.prev=15;_context5.t1=_context5[\"catch\"](0);case 17:case\"end\":return _context5.stop();}}},_marked5,null,[[0,15]]);}function adminDeleteTeacherCourse(args){var teacherCourseIdList,formData,res;return _regeneratorRuntime.wrap(function adminDeleteTeacherCourse$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.prev=0;teacherCourseIdList=args.args.teacherCourseIdList;formData=new FormData();formData.append(\"teacherCourseIdList\",teacherCourseIdList);_context6.next=6;return call(Service.post,\"admin/deleteTeacherCourses\",formData);case 6:res=_context6.sent;_context6.t0=res.data.error_code;_context6.next=_context6.t0===0?10:_context6.t0===-1?14:_context6.t0===1?16:18;break;case 10:_message.success(res.data.message);_context6.next=13;return put({type:ADMIN_DELETE_TEACHERCOURSES_SUCCESS});case 13:return _context6.abrupt(\"break\",19);case 14:_message.error(\"删除失败！\");return _context6.abrupt(\"break\",19);case 16:_message.error(\"权限不足！\");return _context6.abrupt(\"break\",19);case 18:return _context6.abrupt(\"return\",0);case 19:_context6.next=23;break;case 21:_context6.prev=21;_context6.t1=_context6[\"catch\"](0);case 23:case\"end\":return _context6.stop();}}},_marked6,null,[[0,21]]);}function deleteStudentCourse(args){var studentCourseIdList,formData,res;return _regeneratorRuntime.wrap(function deleteStudentCourse$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.prev=0;studentCourseIdList=args.args.studentCourseIdList;formData=new FormData();formData.append(\"studentCourseIdList\",studentCourseIdList);_context7.next=6;return call(Service.post,\"teacher/deleteStudentCourses\",formData);case 6:res=_context7.sent;_context7.t0=res.data.error_code;_context7.next=_context7.t0===0?10:_context7.t0===-1?14:_context7.t0===1?16:18;break;case 10:_message.success(res.data.message);_context7.next=13;return put({type:DELETE_STUDENTCOURSE_SUCCESS});case 13:return _context7.abrupt(\"break\",19);case 14:_message.error(\"删除失败！\");return _context7.abrupt(\"break\",19);case 16:_message.error(\"权限不足！\");return _context7.abrupt(\"break\",19);case 18:return _context7.abrupt(\"return\",0);case 19:_context7.next=23;break;case 21:_context7.prev=21;_context7.t1=_context7[\"catch\"](0);case 23:case\"end\":return _context7.stop();}}},_marked7,null,[[0,21]]);}export default function rootLabCourse(){return _regeneratorRuntime.wrap(function rootLabCourse$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return takeEvery(ADMIN_QUERY_LABCOURSE,adminQueryLabCourse);case 2:_context8.next=4;return takeEvery(ADMIN_ADD_LABCOURSE,adminAddlabCourse);case 4:_context8.next=6;return takeEvery(ADMIN_DELETE_LABCOURSE,adminDeletelabCourse);case 6:_context8.next=8;return takeEvery(ADMIN_IMPORT_LABCOURSE,adminImportlabCourse);case 8:_context8.next=10;return takeEvery(ADMIN_QUERY_STUDENTCOURSE,adminQueryStudentCourse);case 10:_context8.next=12;return takeEvery(ADMIN_DELETE_TEACHERCOURSES,adminDeleteTeacherCourse);case 12:_context8.next=14;return takeEvery(DELETE_STUDENTCOURSE,deleteStudentCourse);case 14:case\"end\":return _context8.stop();}}},_marked8);}","map":{"version":3,"sources":["C:/projects/lab/lab_2.0/src/redux/sagas/adminSagas/labCourse.js"],"names":["adminQueryLabCourse","adminAddlabCourse","adminDeletelabCourse","adminImportlabCourse","adminQueryStudentCourse","adminDeleteTeacherCourse","deleteStudentCourse","rootLabCourse","takeEvery","call","put","Service","ADMIN_ADD_LABCOURSE","ADMIN_ADD_LABCOURSE_SUCCESS","ADMIN_DELETE_LABCOURSE","ADMIN_DELETE_LABCOURSE_SUCCESS","ADMIN_DELETE_TEACHERCOURSES","ADMIN_DELETE_TEACHERCOURSES_SUCCESS","ADMIN_IMPORT_LABCOURSE","ADMIN_IMPORT_LABCOURSE_SUCCESS","ADMIN_QUERY_LABCOURSE","ADMIN_QUERY_LABCOURSE_SUCCESS","ADMIN_QUERY_STUDENTCOURSE","ADMIN_QUERY_STUDENTCOURSE_SUCCESS","DELETE_STUDENTCOURSE_SUCCESS","DELETE_STUDENTCOURSE","data","args","userId","page","courseName","url","get","res","error_code","type","payload","courseNumber","post","success","error","courseIdList","formData","FormData","append","file","message","studentName","studentId","teacherCourseIdList","studentCourseIdList"],"mappings":"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","sourcesContent":["import { takeEvery, call, put } from \"redux-saga/effects\";\r\nimport Service from \"../../../lib/Service\";\r\nimport {\r\n    ADMIN_ADD_LABCOURSE,\r\n    ADMIN_ADD_LABCOURSE_SUCCESS,\r\n    ADMIN_DELETE_LABCOURSE,\r\n    ADMIN_DELETE_LABCOURSE_SUCCESS,\r\n    ADMIN_DELETE_TEACHERCOURSES,\r\n    ADMIN_DELETE_TEACHERCOURSES_SUCCESS,\r\n    ADMIN_IMPORT_LABCOURSE,\r\n    ADMIN_IMPORT_LABCOURSE_SUCCESS,\r\n    ADMIN_QUERY_LABCOURSE,\r\n    ADMIN_QUERY_LABCOURSE_SUCCESS,\r\n    ADMIN_QUERY_STUDENTCOURSE,\r\n    ADMIN_QUERY_STUDENTCOURSE_SUCCESS,\r\n    DELETE_STUDENTCOURSE_SUCCESS,\r\n    DELETE_STUDENTCOURSE,\r\n\r\n} from \"../../../constants/actionTypes\";\r\nimport { message } from \"antd\";\r\n\r\nfunction* adminQueryLabCourse(data) {\r\n    try{\r\n        const { userId, page, courseName } = data.args;\r\n        const url = courseName ? `course/allCourse?page=${page}&userId=${userId}&courseName=${courseName}`:\r\n            `course/allCourse?page=${page}&userId=${userId}`\r\n        ;\r\n        const res = yield call(Service.get, url);\r\n        switch (res.data.error_code) {\r\n            case 0:\r\n                yield put({\r\n                    type: ADMIN_QUERY_LABCOURSE_SUCCESS,\r\n                    payload: res.data.data,\r\n                })\r\n        }\r\n    }\r\n    catch (e) {\r\n    }\r\n}\r\n\r\nfunction* adminAddlabCourse(args) {\r\n    try{\r\n        const { courseName, courseNumber, userId } = args.args;\r\n        const data = { courseName, courseNumber, userId };\r\n        const res = yield call(Service.post, \"admin/addCourse\", data );\r\n        switch (res.data.error_code) {\r\n            case 0:\r\n                message.success(\"添加成功~\");\r\n                yield put({\r\n                    type: ADMIN_ADD_LABCOURSE_SUCCESS,\r\n                });\r\n                yield call(Service.get, `course/allCourse?page=1&userId=${userId}`);\r\n                break;\r\n            case -1:\r\n                message.error(\"添加失败！\");\r\n                break;\r\n            case 1:\r\n                message.error(\"权限不足！\");\r\n                break;\r\n            default:\r\n                return 0;\r\n        }\r\n    }\r\n    catch (e) {\r\n    }\r\n}\r\nfunction* adminDeletelabCourse(args) {\r\n    try{\r\n        const { courseIdList } = args.args;\r\n        const formData = new FormData;\r\n        formData.append(\"courseIdList\", courseIdList);\r\n        const data = { courseIdList };\r\n        const res = yield call(Service.post, \"admin/deleteCourse\", formData );\r\n        switch (res.data.error_code) {\r\n            case 0:\r\n                message.success(\"删除成功~\");\r\n                yield put({\r\n                    type: ADMIN_DELETE_LABCOURSE_SUCCESS,\r\n                });\r\n                break;\r\n            case -1:\r\n                message.error(\"删除失败！\");\r\n                break;\r\n            case 1:\r\n                message.error(\"权限不足！\");\r\n                break;\r\n            default:\r\n                return 0;\r\n        }\r\n    }\r\n    catch (e) {\r\n    }\r\n}\r\nfunction* adminImportlabCourse(args) {\r\n    try{\r\n        const { userId, file } = args.args;\r\n        const formData = new FormData;\r\n        formData.append(\"userId\", userId);\r\n        formData.append(\"file\", file[0]);\r\n        const res = yield call(Service.post, \"admin/importCourse\", formData );\r\n        switch (res.data.error_code) {\r\n            case 0:\r\n                message.success(res.data.message);\r\n                yield put({\r\n                    type: ADMIN_IMPORT_LABCOURSE_SUCCESS,\r\n                });\r\n                break;\r\n            case -1:\r\n                message.error(\"导入失败！\");\r\n                break;\r\n            case 1:\r\n                message.error(\"权限不足！\");\r\n                break;\r\n            default:\r\n                return 0;\r\n        }\r\n    }\r\n    catch (e) {\r\n    }\r\n}\r\n\r\nfunction* adminQueryStudentCourse(data) {\r\n    try {\r\n        const {page, studentName, studentId} = data.args;\r\n        const url = `admin/queryStudentCourse?page=${page}&studentName=${studentName}&studentId=${studentId}`;\r\n        const res = yield call(Service.get, url);\r\n        switch (res.data.error_code) {\r\n            case 0:\r\n                yield put({\r\n                    type: ADMIN_QUERY_STUDENTCOURSE_SUCCESS,\r\n                    payload: res.data.data,\r\n                });\r\n                break;\r\n            default:\r\n                return 0;\r\n        }\r\n    }catch(e){\r\n\r\n    }\r\n\r\n}\r\nfunction* adminDeleteTeacherCourse(args) {\r\n    try{\r\n        const { teacherCourseIdList } = args.args;\r\n        const formData = new FormData;\r\n        formData.append(\"teacherCourseIdList\", teacherCourseIdList);\r\n        const res = yield call(Service.post, \"admin/deleteTeacherCourses\", formData );\r\n        switch (res.data.error_code) {\r\n            case 0:\r\n                message.success(res.data.message);\r\n                yield put({\r\n                    type: ADMIN_DELETE_TEACHERCOURSES_SUCCESS,\r\n                });\r\n                break;\r\n            case -1:\r\n                message.error(\"删除失败！\");\r\n                break;\r\n            case 1:\r\n                message.error(\"权限不足！\");\r\n                break;\r\n            default:\r\n                return 0;\r\n        }\r\n    }\r\n    catch (e) {\r\n    }\r\n}\r\n\r\nfunction* deleteStudentCourse(args) {\r\n    try{\r\n        const { studentCourseIdList } = args.args;\r\n        const formData = new FormData;\r\n        formData.append(\"studentCourseIdList\", studentCourseIdList);\r\n        const res = yield call(Service.post, \"teacher/deleteStudentCourses\", formData );\r\n        switch (res.data.error_code) {\r\n            case 0:\r\n                message.success(res.data.message);\r\n                yield put({\r\n                    type: DELETE_STUDENTCOURSE_SUCCESS,\r\n                });\r\n                break;\r\n            case -1:\r\n                message.error(\"删除失败！\");\r\n                break;\r\n            case 1:\r\n                message.error(\"权限不足！\");\r\n                break;\r\n            default:\r\n                return 0;\r\n        }\r\n    }\r\n    catch (e) {\r\n    }\r\n}\r\n\r\nexport default function* rootLabCourse() {\r\n    yield takeEvery(ADMIN_QUERY_LABCOURSE, adminQueryLabCourse);\r\n    yield takeEvery(ADMIN_ADD_LABCOURSE, adminAddlabCourse);\r\n    yield takeEvery(ADMIN_DELETE_LABCOURSE, adminDeletelabCourse);\r\n    yield takeEvery(ADMIN_IMPORT_LABCOURSE, adminImportlabCourse);\r\n    yield takeEvery(ADMIN_QUERY_STUDENTCOURSE, adminQueryStudentCourse);\r\n    yield takeEvery(ADMIN_DELETE_TEACHERCOURSES, adminDeleteTeacherCourse);\r\n    yield takeEvery(DELETE_STUDENTCOURSE, deleteStudentCourse);\r\n}"]},"metadata":{},"sourceType":"module"}